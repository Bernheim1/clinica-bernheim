"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[986],{3986:(jt,T,d)=>{d.r(T),d.d(T,{TurnosModule:()=>Dt});var c=d(8583),b=d(5496),t=d(3018),p=d(9397),f=d(5391),_=d(7556),m=d(8842),h=d(6427);let g=(()=>{class a{constructor(e){this.el=e}onMouseEnter(){"Estado: Aceptado"==this.appEstadoTurno?this.cambiarColor("3px solid green"):"Estado: Sin aceptar"==this.appEstadoTurno?this.cambiarColor("3px solid grey"):"Estado: Cancelado"==this.appEstadoTurno?this.cambiarColor("3px solid red"):"Estado: Realizado"==this.appEstadoTurno?this.cambiarColor("3px solid blue"):"Estado: Rechazado"==this.appEstadoTurno&&this.cambiarColor("3px solid yellow")}onMouseLeave(){this.cambiarColor("1px solid white")}cambiarColor(e){this.el.nativeElement.style.border=e}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.SBq))},a.\u0275dir=t.lG2({type:a,selectors:[["","appEstadoTurno",""]],hostBindings:function(e,i){1&e&&t.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{appEstadoTurno:"appEstadoTurno"}}),a})();function v(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().cambiarEspecialista(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function C(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().cambiarEspecialidad(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function A(a,r){if(1&a&&(t.TgZ(0,"li",16),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij("Comentario: ",e.comentarioCancelado,"")}}function q(a,r){if(1&a&&(t.TgZ(0,"li",16),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij("Comentario: ",e.comentarioRechazado,"")}}function E(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().cancelarTurno(o)}),t._uU(1,"Cancelar"),t.qZA()}}function y(a,r){if(1&a&&(t.TgZ(0,"div",11),t.TgZ(1,"div",12),t.TgZ(2,"h4"),t._uU(3,"Turno"),t.qZA(),t.TgZ(4,"div",13),t.TgZ(5,"h4",14),t._uU(6),t.qZA(),t.TgZ(7,"ul",15),t.TgZ(8,"li",16),t._uU(9),t.qZA(),t.TgZ(10,"li",16),t._uU(11),t.qZA(),t.TgZ(12,"li",16),t._uU(13),t.qZA(),t.TgZ(14,"li",16),t._uU(15),t.qZA(),t.YNc(16,A,2,1,"li",17),t.YNc(17,q,2,1,"li",17),t.qZA(),t.YNc(18,E,2,0,"button",18),t.qZA(),t.qZA(),t.qZA()),2&a){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("appEstadoTurno",i.estadoTurnoPipe.transform(e)),t.xp6(5),t.Oqu(e.dia+" "+e.hora),t.xp6(3),t.hij("Especialista: ",e.especialista,""),t.xp6(2),t.hij("Especialidad: ",e.especialidad,""),t.xp6(2),t.hij("Paciente: ",e.paciente,""),t.xp6(2),t.Oqu(i.estadoTurnoPipe.transform(e)),t.xp6(1),t.Q6J("ngIf",e.cancelado&&null!=e.comentarioCancelado),t.xp6(1),t.Q6J("ngIf",e.rechazado&&null!=e.comentarioRechazado),t.xp6(1),t.Q6J("ngIf",!(e.realizado||e.cancelado||e.rechazado||e.aceptado))}}let U=(()=>{class a{constructor(e,i,o,n,s){this.firebase=e,this.db=i,this.auth=o,this.utilidades=n,this.estadoTurnoPipe=s,this.cancelar=new t.vpe,this.turnosValidos=[],this.turnosAMostrar=[],this.arrEspecialistasValidos=[],this.arrEspecialidadesValidas=[],this.coleccion=this.db.collection("turnos"),this.turnos=this.coleccion.valueChanges({idField:"id"})}ngOnInit(){this.turnos.subscribe(e=>{this.turnosBD=e,this.validarTurnos(),this.validarEspecialistas(),this.validarEspecialidades()})}validarTurnos(){this.turnosValidos=[];for(let e of this.turnosBD)this.turnosValidos.push(e);this.turnosAMostrar=this.turnosValidos}validarEspecialistas(){let e,i;for(let o of this.turnosValidos)i=o.especialista,e=this.arrEspecialistasValidos.indexOf(i),-1==e&&this.arrEspecialistasValidos.push(i)}validarEspecialidades(){let e,i;for(let o of this.turnosValidos)i=o.especialidad,e=this.arrEspecialidadesValidas.indexOf(i),-1==e&&this.arrEspecialidadesValidas.push(i)}cambiarEspecialista(e){if(this.turnosAMostrar=[],"mostrarTodos"!=e)for(let i of this.turnosValidos)i.especialista==e&&this.turnosAMostrar.push(i);else this.turnosAMostrar=this.turnosValidos}cambiarEspecialidad(e){this.turnosAMostrar=[];for(let i of this.turnosValidos)i.especialidad==e&&this.turnosAMostrar.push(i)}cancelarTurno(e){this.cancelar.emit(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(f.ST),t.Y36(_.e),t.Y36(m.I),t.Y36(h.S))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tabla-turnos-administrador"]],outputs:{cancelar:"cancelar"},decls:19,vars:3,consts:[[1,"container","card",2,"padding","20px","margin-top","30px","border-radius","15px"],[1,"row","justify-content-center"],[1,"row"],[1,"col-md-12"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"d-flex","gap-4",2,"margin-top","5px"],["class","btn btn-primary btn-sm",3,"click",4,"ngFor","ngForOf"],[1,"container"],[1,"row","mx-0",2,"justify-content","center"],["style","justify-content: center; width: 18rem; margin-top: 20px",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[2,"justify-content","center","width","18rem","margin-top","20px"],[1,"card",2,"border-radius","15px","padding","10px","width","100%","height","100%",3,"appEstadoTurno"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],["type","button","class","btn btn-danger btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-lg","text-white",2,"margin","5px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return i.cambiarEspecialista("mostrarTodos")}),t._uU(5,"Mostrar todos"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"div",5),t.TgZ(8,"h6"),t._uU(9,"Especialistas: "),t.qZA(),t.YNc(10,v,2,1,"button",6),t.qZA(),t.qZA(),t.TgZ(11,"div",2),t.TgZ(12,"div",5),t.TgZ(13,"h6"),t._uU(14,"Especialidades: "),t.qZA(),t.YNc(15,C,2,1,"button",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",7),t.TgZ(17,"div",8),t.YNc(18,y,19,9,"div",9),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngForOf",i.arrEspecialistasValidos),t.xp6(5),t.Q6J("ngForOf",i.arrEspecialidadesValidas),t.xp6(3),t.Q6J("ngForOf",i.turnosAMostrar))},directives:[c.sg,g,c.O5],styles:[""]}),a})(),w=(()=>{class a{constructor(e,i){this.firebase=e,this.utilidades=i}ngOnInit(){}confirmar(){var e;let i=null===(e=document.getElementById("comentario"))||void 0===e?void 0:e.value;""!=i?(this.cancelar.cancelado=!0,this.cancelar.comentarioCancelado=i,this.firebase.modificarTurno(this.cancelar,this.cancelar.id),document.getElementById("comentario").value="",this.utilidades.mostrarToastSuccess("Turno cancelado","El turno ha sido cancelado")):this.utilidades.mostrarToastError("Debe dejar un motivo","Deje un comentario para poder cancelar")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(m.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-cancelar-turno-administrador"]],inputs:{cancelar:"cancelar"},decls:4,vars:0,consts:[[1,"row",2,"justify-content","center","margin","5px"],["id","comentario","cols","30","rows","3","placeholder","Debe dejar un comentario con el motivo",1,"ingreso",2,"border-radius","5px"],[1,"btn","btn-danger","btn-md","btn-block",2,"margin-top","5px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"textarea",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.confirmar()}),t._uU(3,"Cancelar"),t.qZA(),t.qZA())},styles:[".ingreso[_ngcontent-%COMP%]{resize:none}"]}),a})();function O(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Cancelar turno"),t.qZA(),t._UZ(3,"app-cancelar-turno-administrador",1),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("cancelar",e.cancelar)}}let P=(()=>{class a{constructor(){this.mostrarCancelar=!1}ngOnInit(){}cancelarTurno(e){this.cancelar=e,this.mostrarCancelar=!0}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-turnos-administrador"]],decls:7,vars:1,consts:[[1,"container",2,"margin-top","70px"],[3,"cancelar"],[1,"container"],[1,"row"],["class","col-md-12 card slide-in-elliptic-top-fwd","style","margin-top: 20px",4,"ngIf"],[1,"fullscreen-bg"],[1,"col-md-12","card","slide-in-elliptic-top-fwd",2,"margin-top","20px"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"app-tabla-turnos-administrador",1),t.NdJ("cancelar",function(n){return i.cancelarTurno(n)}),t.qZA(),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,O,4,1,"div",4),t.qZA(),t._UZ(5,"hr"),t.qZA(),t._UZ(6,"div",5)),2&e&&(t.xp6(4),t.Q6J("ngIf",i.mostrarCancelar))},directives:[U,c.O5,w],styles:[".slide-in-elliptic-top-fwd[_ngcontent-%COMP%]{animation:slide-in-elliptic-top-fwd .7s cubic-bezier(.25,.46,.45,.94) both}@keyframes slide-in-elliptic-top-fwd{0%{transform:translateY(-600px) rotateX(-30deg) scale(0);transform-origin:50% 100%;opacity:0}to{transform:translateY(0) rotateX(0) scale(1);transform-origin:50% 1400px;opacity:1}}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;z-index:-1;top:0;right:0;bottom:0;left:0;background:url(fondoClinica.2e5db6a8cafece6399e0.png) center;background-size:cover}"]}),a})();function k(a,r){1&a&&(t.TgZ(0,"h4"),t._uU(1,"Paciente: "),t.qZA())}function z(a,r){if(1&a&&(t.TgZ(0,"h4"),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij("Paciente: ",(null==e.pacienteSeleccionado?null:e.pacienteSeleccionado.nombre)+" "+(null==e.pacienteSeleccionado?null:e.pacienteSeleccionado.apellido),"")}}function M(a,r){1&a&&(t.TgZ(0,"h4"),t._uU(1,"Especialista: "),t.qZA())}function F(a,r){if(1&a&&(t.TgZ(0,"h4"),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij("Especialista: ",(null==e.especialistaSeleccionado?null:e.especialistaSeleccionado.nombre)+" "+(null==e.especialistaSeleccionado?null:e.especialistaSeleccionado.apellido),"")}}function S(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"h4"),t._uU(3,"Paciente"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"h4",10),t._uU(6),t.qZA(),t._UZ(7,"img",11),t.TgZ(8,"button",12),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(2).seleccionarPaciente(n)}),t._uU(9,"Selecionar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(6),t.Oqu(e.nombre+" "+e.apellido),t.xp6(1),t.Q6J("src",e.fotoPerfil,t.LSH)}}function J(a,r){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"h2"),t._uU(2,"Seleccione paciente"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,S,10,2,"div",6),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.arrPacientes)}}function I(a,r){if(1&a&&t._UZ(0,"img",11),2&a){const e=t.oxw().$implicit;t.Q6J("src",e.foto,t.LSH)}}function V(a,r){1&a&&t._UZ(0,"img",15)}function Y(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"h4"),t._uU(3,"Especialidad"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"h4",10),t._uU(6),t.qZA(),t.YNc(7,I,1,1,"img",13),t.YNc(8,V,1,0,"img",14),t.TgZ(9,"button",12),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(2).seleccionarEspecialidad(n)}),t._uU(10,"Selecionar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(6),t.Oqu(e.especialidad),t.xp6(1),t.Q6J("ngIf",null!=e.foto),t.xp6(1),t.Q6J("ngIf",null==e.foto)}}function N(a,r){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"h2"),t._uU(2,"Seleccione especialidad"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,Y,11,3,"div",6),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.especialidadesBD)}}function Q(a,r){if(1&a&&(t.TgZ(0,"li",19),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function D(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"h4"),t._uU(3,"Especialista"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"h4",10),t._uU(6),t.qZA(),t._UZ(7,"img",11),t.TgZ(8,"h4",16),t._uU(9,"Especialidades"),t.qZA(),t.TgZ(10,"ul",17),t.YNc(11,Q,2,1,"li",18),t.qZA(),t.TgZ(12,"button",12),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(2).seleccionarEspecialista(n)}),t._uU(13,"Seleccionar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(6),t.Oqu(e.nombre+" "+e.apellido),t.xp6(1),t.Q6J("src",e.fotoPerfil,t.LSH),t.xp6(4),t.Q6J("ngForOf",e.especialidades)}}function j(a,r){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"h2"),t._uU(2,"Seleccione especialista"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,D,14,3,"div",6),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.arrEspecialistasValidos)}}function R(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"button",12),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(2).seleccionDia(n)}),t._uU(6,"Seleccionar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(3),t.Oqu(e)}}function B(a,r){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"h2"),t._uU(2,"Seleccione dia"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,R,7,1,"div",6),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.especialistaSeleccionado.dias)}}function $(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(3).seleccionHora(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function H(a,r){if(1&a&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.YNc(5,$,2,1,"button",20),t.qZA(),t.qZA(),t.qZA()),2&a){const e=r.$implicit;t.xp6(3),t.Oqu(e.fecha),t.xp6(2),t.Q6J("ngForOf",e.horas)}}function L(a,r){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"h2"),t._uU(2,"Seleccione fecha y hora"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,H,6,2,"div",6),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.fechasValidas)}}function X(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"button",12),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(2).seleccionHora(n)}),t._uU(6,"Seleccionar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(3),t.Oqu(e)}}function G(a,r){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"h2"),t._uU(2,"Seleccione hora"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,X,7,1,"div",6),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.horasValidas)}}let K=(()=>{class a{constructor(e,i,o,n,s){this.db=e,this.auth=i,this.firebase=o,this.datePipe=n,this.utilidades=s,this.arrEspecialistas=[],this.arrEspecialistasValidos=[],this.arrPacientes=[],this.dias=[],this.diasValidos=[],this.horasValidas=[],this.fechasValidas=[],this.mostrarPacientes=!1,this.mostrarEspecialidades=!0,this.mostrarEspecialistas=!1,this.mostrarDias=!1,this.mostrarFechas=!1,this.mostrarHoras=!1,this.coleccion=this.db.collection("especialidades"),this.especialidades=this.coleccion.valueChanges(),this.coleccion=this.db.collection("usuarios"),this.usuarios=this.coleccion.valueChanges({idField:"id"})}ngOnInit(){this.especialidades.subscribe(e=>{this.especialidadesBD=e}),this.usuarios.subscribe(e=>{var i;this.usuariosBD=e,"admin"==(null===(i=this.auth.currentUser)||void 0===i?void 0:i.tipo)&&this.usuariosPacientes(),this.usuariosEspecialistas()})}seleccionarPaciente(e){this.pacienteSeleccionado=e,this.mostrarPacientes=!1,this.mostrarEspecialidades=!0}seleccionarEspecialidad(e){this.especialidadSeleccionada=e.especialidad,this.mostrarEspecialidades=!1,this.mostrarEspecialistas=!0,this.cambioEspecialidad()}seleccionarEspecialista(e){this.especialistaSeleccionado=e,this.mostrarEspecialistas=!1,this.mostrarDias=!0,this.seleccionFechaTurno()}cambioEspecialidad(){this.arrEspecialistasValidos=this.arrEspecialistas.filter(e=>{for(let i of e.especialidades)if(i==this.especialidadSeleccionada)return!0;return!1})}usuariosPacientes(){if(0==this.arrPacientes.length)for(let e of this.usuariosBD)"paciente"==e.tipo&&this.arrPacientes.push(e);this.mostrarEspecialidades=!1,this.mostrarPacientes=!0}usuariosEspecialistas(){if(0==this.arrEspecialistas.length&&0==this.arrEspecialistasValidos.length)for(let e of this.usuariosBD)"especialista"==e.tipo&&e.cuentaVerificada&&null!=e.dias&&null!=e.horarios&&(this.arrEspecialistas.push(e),this.arrEspecialistasValidos.push(e))}seleccionFechaTurno(){for(let e of this.usuariosBD)if(e.nombre+" "+e.apellido==this.especialistaSeleccionado){this.especialistaSeleccionado=e;break}this.cargarFechas()}getFechasValidas(){let e=[],i=[],o=new Date;console.log(this.especialistaSeleccionado.dias);for(let n of this.especialistaSeleccionado.dias)switch(n){case"Lunes":e.push(1);break;case"Martes":e.push(2);break;case"Miercoles":e.push(3);break;case"Jueves":e.push(4);break;case"Viernes":e.push(5);break;case"Sabado":e.push(6)}console.log(e);for(let n of this.dias)o.setDate(n.getDate()),e.includes(o.getDay())&&(console.log(o.getDay()),i.push(n));this.diasValidos=i}cargarFechas(){this.dias=[];let e=new Date;for(let i=0;i<15;i++)e.setDate(e.getDate()+1),0!=e.getDay()?this.dias.push(new Date(e)):i--;this.getFechasValidas()}seleccionDia(e){this.mostrarDias=!1;let i,o=new Date,n=[];switch(e){case"Lunes":i=1;break;case"Martes":i=2;break;case"Miercoles":i=3;break;case"Jueves":i=4;break;case"Viernes":i=5;break;case"Sabado":i=6}for(let s of this.dias)if(o.setDate(s.getDate()),i==o.getDay()){s=this.datePipe.transform(s,"dd/MM/yyyy");let u=this.seleccionFecha(s);n.push({fecha:s,horas:u})}this.fechasValidas=n,this.mostrarFechas=!0}seleccionFecha(e){let i;if(this.fechaSeleccionada=e,console.log(this.fechaSeleccionada),this.horasValidas=this.especialistaSeleccionado.horarios.map(o=>o),null!=this.especialistaSeleccionado.turnos)for(let o of this.especialistaSeleccionado.turnos)if(console.log(o),o.dia==this.fechaSeleccionada)for(let n of this.especialistaSeleccionado.horarios)n==o.hora&&(i=this.horasValidas.indexOf(n),-1!=i&&this.horasValidas.splice(i,1));return this.horasValidas}seleccionHora(e){this.horaSeleccionada=e,this.agregarTurno()}agregarTurno(){var e,i,o;let n,s;if(n="admin"==(null===(e=this.auth.currentUser)||void 0===e?void 0:e.tipo)?{dniPaciente:this.pacienteSeleccionado.dni,paciente:this.pacienteSeleccionado.nombre+" "+this.pacienteSeleccionado.apellido,dniEspecialista:this.especialistaSeleccionado.dni,especialista:this.especialistaSeleccionado.nombre+" "+this.especialistaSeleccionado.apellido,especialidad:this.especialidadSeleccionada,dia:this.fechaSeleccionada,hora:this.horaSeleccionada,aceptado:!1,realizado:!1,rechazado:!1}:{dniPaciente:this.auth.currentUser.dni,paciente:this.auth.currentUser.nombre+" "+this.auth.currentUser.apellido,dniEspecialista:this.especialistaSeleccionado.dni,especialista:this.especialistaSeleccionado.nombre+" "+this.especialistaSeleccionado.apellido,especialidad:this.especialidadSeleccionada,dia:this.fechaSeleccionada,hora:this.horaSeleccionada,aceptado:!1,realizado:!1,rechazado:!1},this.firebase.subirTurno(n),s="admin"==(null===(i=this.auth.currentUser)||void 0===i?void 0:i.tipo)?{dniPaciente:this.pacienteSeleccionado.dni,dia:this.fechaSeleccionada,hora:this.horaSeleccionada}:{dniPaciente:this.auth.currentUser.dni,dia:this.fechaSeleccionada,hora:this.horaSeleccionada},console.log(this.especialistaSeleccionado),null==this.especialistaSeleccionado.turnos){let u=[];u.push(s),this.especialistaSeleccionado.turnos=u}else this.especialistaSeleccionado.turnos.push(s);this.firebase.modificarUsuario(this.especialistaSeleccionado,this.especialistaSeleccionado.id),this.mostrarFechas=!1,"admin"==(null===(o=this.auth.currentUser)||void 0===o?void 0:o.tipo)?this.mostrarPacientes=!0:this.mostrarEspecialidades=!0,this.pacienteSeleccionado=null,this.especialidadSeleccionada="",this.especialistaSeleccionado=null,this.fechaSeleccionada="",this.horaSeleccionada="",this.utilidades.mostrarToastSuccess("Turno solicitado","Su turno ha sido solicitado")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(f.ST),t.Y36(_.e),t.Y36(p.O),t.Y36(c.uU),t.Y36(m.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-alta-turno"]],decls:27,vars:13,consts:[[1,"container","card",2,"padding","20px","border-radius","15px","margin-bottom","20px"],[1,"row","mx-0",2,"justify-content","center"],[4,"ngIf"],["class","container card","style","padding: 20px; border-radius: 15px",4,"ngIf"],[1,"fullscreen-bg"],[1,"container","card",2,"padding","20px","border-radius","15px"],["style","justify-content: center; width: 18rem; margin-top: 20px",4,"ngFor","ngForOf"],[2,"justify-content","center","width","18rem","margin-top","20px"],[1,"card",2,"border-radius","15px","padding","10px","width","100%","height","100%"],[1,"card-body"],[1,"card-title"],["alt","Card image cap",1,"rounded-circle","img-fluid","card-img-top",2,"width","150px","height","150px","display","block","margin","0",3,"src"],["type","button",1,"btn","btn-primary","btn-lg","text-white",2,"margin","5px",3,"click"],["class","rounded-circle img-fluid card-img-top","style","width: 150px; height: 150px; display: block; margin: 0","alt","Card image cap",3,"src",4,"ngIf"],["src","../../../../../assets/especialidadDefault.png","class","rounded-circle img-fluid card-img-top","style","width: 150px; height: 150px; display: block; margin: 0","alt","Card image cap",4,"ngIf"],["src","../../../../../assets/especialidadDefault.png","alt","Card image cap",1,"rounded-circle","img-fluid","card-img-top",2,"width","150px","height","150px","display","block","margin","0"],[2,"margin-top","10px"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["type","button","class","btn btn-primary btn-lg text-white","style","margin: 5px",3,"click",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t._UZ(0,"br"),t._UZ(1,"br"),t._UZ(2,"br"),t._UZ(3,"br"),t._UZ(4,"br"),t.TgZ(5,"div",0),t.TgZ(6,"h2"),t._uU(7,"Seleccionados"),t.qZA(),t.TgZ(8,"div",1),t.YNc(9,k,2,0,"h4",2),t.YNc(10,z,2,1,"h4",2),t.TgZ(11,"h4"),t._uU(12),t.qZA(),t.YNc(13,M,2,0,"h4",2),t.YNc(14,F,2,1,"h4",2),t.TgZ(15,"h4"),t._uU(16),t.qZA(),t.TgZ(17,"h4"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.YNc(19,J,5,1,"div",3),t.YNc(20,N,5,1,"div",3),t.YNc(21,j,5,1,"div",3),t.YNc(22,B,5,1,"div",3),t.YNc(23,L,5,1,"div",3),t.YNc(24,G,5,1,"div",3),t._UZ(25,"div",4),t._uU(26," --\x3e\n")),2&e&&(t.xp6(9),t.Q6J("ngIf","admin"==(null==i.auth.currentUser?null:i.auth.currentUser.tipo)&&null==i.pacienteSeleccionado),t.xp6(1),t.Q6J("ngIf","admin"==(null==i.auth.currentUser?null:i.auth.currentUser.tipo)&&null!=i.pacienteSeleccionado),t.xp6(2),t.hij("Especialidad: ",i.especialidadSeleccionada,""),t.xp6(1),t.Q6J("ngIf",null==i.especialistaSeleccionado),t.xp6(1),t.Q6J("ngIf",null!=i.especialistaSeleccionado),t.xp6(2),t.hij("Fecha: ",i.fechaSeleccionada,""),t.xp6(2),t.hij("Hora: ",i.horaSeleccionada,""),t.xp6(1),t.Q6J("ngIf",i.mostrarPacientes),t.xp6(1),t.Q6J("ngIf",i.mostrarEspecialidades),t.xp6(1),t.Q6J("ngIf",i.mostrarEspecialistas),t.xp6(1),t.Q6J("ngIf",i.mostrarDias),t.xp6(1),t.Q6J("ngIf",i.mostrarFechas),t.xp6(1),t.Q6J("ngIf",i.mostrarHoras))},directives:[c.O5,c.sg],styles:[".fullscreen-bg[_ngcontent-%COMP%]{position:fixed;z-index:-1;top:0;right:0;bottom:0;left:0;background:url(fondoClinica.2e5db6a8cafece6399e0.png) center;background-size:cover}.slide-in-elliptic-top-fwd[_ngcontent-%COMP%]{animation:slide-in-elliptic-top-fwd .7s cubic-bezier(.25,.46,.45,.94) both}@keyframes slide-in-elliptic-top-fwd{0%{transform:translateY(-600px) rotateX(-30deg) scale(0);transform-origin:50% 100%;opacity:0}to{transform:translateY(0) rotateX(0) scale(1);transform-origin:50% 1400px;opacity:1}}"]}),a})();function W(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().cambiarPaciente(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function tt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().cambiarEspecialidad(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function et(a,r){if(1&a&&(t.TgZ(0,"li",20),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij("Comentario: ",e.comentarioCancelado,"")}}function it(a,r){if(1&a&&(t.TgZ(0,"li",20),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij("Comentario: ",e.comentarioRechazado,"")}}function at(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().aceptarTurno(o)}),t._uU(1,"Aceptar"),t.qZA()}}function nt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().cancelarTurno(o)}),t._uU(1,"Cancelar"),t.qZA()}}function ot(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().rechazarTurno(o)}),t._uU(1,"Rechazar"),t.qZA()}}function rt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().finalizarTurno(o)}),t._uU(1,"Finalizar"),t.qZA()}}function st(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().verResena(o)}),t._uU(1,"Ver rese\xf1a"),t.qZA()}}function ct(a,r){if(1&a&&(t.TgZ(0,"div",15),t.TgZ(1,"div",16),t.TgZ(2,"h4"),t._uU(3,"Turno"),t.qZA(),t.TgZ(4,"div",17),t.TgZ(5,"h4",18),t._uU(6),t.qZA(),t.TgZ(7,"ul",19),t.TgZ(8,"li",20),t._uU(9),t.qZA(),t.TgZ(10,"li",20),t._uU(11),t.qZA(),t.TgZ(12,"li",20),t._uU(13),t.qZA(),t.YNc(14,et,2,1,"li",21),t.YNc(15,it,2,1,"li",21),t.qZA(),t.YNc(16,at,2,0,"button",22),t.YNc(17,nt,2,0,"button",23),t.YNc(18,ot,2,0,"button",24),t.YNc(19,rt,2,0,"button",25),t.YNc(20,st,2,0,"button",26),t.qZA(),t.qZA(),t.qZA()),2&a){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("appEstadoTurno",i.estadoTurnoPipe.transform(e)),t.xp6(5),t.Oqu(e.dia+" "+e.hora),t.xp6(3),t.hij("Especialidad: ",e.especialidad,""),t.xp6(2),t.hij("Paciente: ",e.paciente,""),t.xp6(2),t.Oqu(i.estadoTurnoPipe.transform(e)),t.xp6(1),t.Q6J("ngIf",e.cancelado&&null!=e.comentarioCancelado),t.xp6(1),t.Q6J("ngIf",e.rechazado&&null!=e.comentarioRechazado),t.xp6(1),t.Q6J("ngIf",!(e.realizado||e.cancelado||e.rechazado||e.aceptado)),t.xp6(1),t.Q6J("ngIf",!(e.realizado||e.cancelado||e.rechazado||e.aceptado)),t.xp6(1),t.Q6J("ngIf",!(e.realizado||e.cancelado||e.rechazado||e.aceptado)),t.xp6(1),t.Q6J("ngIf",!e.realizado&&!e.cancelado&&!e.rechazado&&e.aceptado),t.xp6(1),t.Q6J("ngIf",null!=e.resena)}}let lt=(()=>{class a{constructor(e,i,o,n,s){this.firebase=e,this.db=i,this.auth=o,this.utilidades=n,this.estadoTurnoPipe=s,this.cancelar=new t.vpe,this.resena=new t.vpe,this.rechazar=new t.vpe,this.finalizar=new t.vpe,this.turnosValidos=[],this.turnosAMostrar=[],this.arrPacientesValidos=[],this.arrEspecialidadesValidas=[],this.coleccion=this.db.collection("turnos"),this.turnos=this.coleccion.valueChanges({idField:"id"})}ngOnInit(){this.turnos.subscribe(e=>{this.turnosBD=e,this.validarTurnos(),this.validarPacientes(),this.validarEspecialidades()})}validarTurnos(){var e;this.turnosValidos=[];for(let i of this.turnosBD)(null===(e=this.auth.currentUser)||void 0===e?void 0:e.dni)==i.dniEspecialista&&this.turnosValidos.push(i);this.turnosAMostrar=this.turnosValidos}validarPacientes(){let e,i;for(let o of this.turnosValidos)i=o.paciente,e=this.arrPacientesValidos.indexOf(i),-1==e&&this.arrPacientesValidos.push(i)}validarEspecialidades(){let e,i;for(let o of this.turnosValidos)i=o.especialidad,e=this.arrEspecialidadesValidas.indexOf(i),-1==e&&this.arrEspecialidadesValidas.push(i)}cambiarPaciente(e){if(this.turnosAMostrar=[],"mostrarTodos"!=e)for(let i of this.turnosValidos)i.paciente==e&&this.turnosAMostrar.push(i);else this.turnosAMostrar=this.turnosValidos}cambiarEspecialidad(e){this.turnosAMostrar=[];for(let i of this.turnosValidos)i.especialidad==e&&this.turnosAMostrar.push(i)}cancelarTurno(e){this.cancelar.emit(e)}verResena(e){this.resena.emit(e)}aceptarTurno(e){e.aceptado=!0,this.firebase.modificarTurno(e,e.id),this.utilidades.mostrarToastSuccess("Turno aceptado","El turno ha sido aceptado")}rechazarTurno(e){this.rechazar.emit(e)}finalizarTurno(e){this.finalizar.emit(e)}validarBusqueda(){let o,e=document.getElementById("busqueda").value.toString(),i=[];if(console.log(e),""!=e){e=e.toLowerCase();for(let n of this.turnosValidos)if(n.dniPaciente.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.dniEspecialista.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.dia.includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.hora.includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.especialidad.toLowerCase().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.especialista.toLowerCase().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.paciente.toLowerCase().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),null!=n.historiaClinica&&(n.historiaClinica.altura.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.historiaClinica.peso.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.historiaClinica.temperatura.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.historiaClinica.presion.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),null!=n.historiaClinica.claveValor))for(let s of n.historiaClinica.claveValor)(s.clave.toLowerCase().includes(e)||s.valor.toString().includes(e))&&(o=i.indexOf(n),-1==o&&i.push(n));this.turnosAMostrar=i}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(f.ST),t.Y36(_.e),t.Y36(m.I),t.Y36(h.S))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tabla-turnos-especialista"]],outputs:{cancelar:"cancelar",resena:"resena",rechazar:"rechazar",finalizar:"finalizar"},decls:25,vars:3,consts:[[1,"container","card",2,"padding","20px","margin-top","30px","border-radius","15px"],[1,"row","justify-content-center"],[1,"row"],[1,"col-md-6"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"d-flex"],[1,"flex-grow-1"],["type","text","id","busqueda","autocomplete","off","placeholder","Busqueda",1,"form-control"],["type","button",1,"btn","btn-success",2,"margin-left","5px",3,"click"],[1,"d-flex","gap-4",2,"margin-top","5px"],["class","btn btn-primary btn-sm",3,"click",4,"ngFor","ngForOf"],[1,"container"],[1,"row","mx-0",2,"justify-content","center"],["style","justify-content: center; width: 18rem; margin-top: 20px",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[2,"justify-content","center","width","18rem","margin-top","20px"],[1,"card",2,"border-radius","15px","padding","10px","width","100%","height","100%",3,"appEstadoTurno"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],["type","button","class","btn btn-success btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-warning btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-info btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-danger","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-warning","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-primary","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-info","btn-lg","text-white",2,"margin","5px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return i.cambiarPaciente("mostrarTodos")}),t._uU(5,"Mostrar todos"),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return i.validarBusqueda()}),t._uU(11,"Buscar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",2),t.TgZ(13,"div",9),t.TgZ(14,"h6"),t._uU(15,"Especialistas: "),t.qZA(),t.YNc(16,W,2,1,"button",10),t.qZA(),t.qZA(),t.TgZ(17,"div",2),t.TgZ(18,"div",9),t.TgZ(19,"h6"),t._uU(20,"Especialidades: "),t.qZA(),t.YNc(21,tt,2,1,"button",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",11),t.TgZ(23,"div",12),t.YNc(24,ct,21,12,"div",13),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",i.arrPacientesValidos),t.xp6(5),t.Q6J("ngForOf",i.arrEspecialidadesValidas),t.xp6(3),t.Q6J("ngForOf",i.turnosAMostrar))},directives:[c.sg,g,c.O5],styles:[""]}),a})(),Z=(()=>{class a{constructor(e,i){this.utilidades=e,this.firebase=i}ngOnInit(){}confirmar(){var e;let i=null===(e=document.getElementById("comentario"))||void 0===e?void 0:e.value;""!=i?(this.cancelar.cancelado=!0,this.cancelar.comentarioCancelado=i,this.firebase.modificarTurno(this.cancelar,this.cancelar.id),document.getElementById("comentario").value="",this.utilidades.mostrarToastSuccess("Turno cancelado","El turno ha sido cancelado")):this.utilidades.mostrarToastError("Debe dejar un motivo","Deje un comentario para poder cancelar")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.I),t.Y36(p.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-cancelar-turno"]],inputs:{cancelar:"cancelar"},decls:4,vars:0,consts:[[1,"row",2,"justify-content","center","margin","5px"],["id","comentario","cols","30","rows","3","placeholder","Debe dejar un comentario con el motivo",1,"ingreso",2,"border-radius","5px"],[1,"btn","btn-danger","btn-md","btn-block",2,"margin-top","5px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"textarea",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.confirmar()}),t._uU(3,"Cancelar"),t.qZA(),t.qZA())},styles:[".ingreso[_ngcontent-%COMP%]{resize:none}"]}),a})();function ut(a,r){if(1&a&&(t.TgZ(0,"h4"),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.AsE("",e.clave,": ",e.valor,"")}}let dt=(()=>{class a{constructor(e){this.auth=e}ngOnInit(){console.log(this.resena)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(_.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ver-resena-turno-especialista"]],inputs:{resena:"resena"},decls:18,vars:6,consts:[[2,"border","2px solid","border-radius","5px","width","100%","height","10vh","margin-bottom","10px"],[1,"container","card",2,"padding","20px","border-radius","15px","margin-top","20px","margin-bottom","20px"],[1,"row","mx-0","d-flex",2,"justify-content","center"],[2,"justify-content","center","width","18rem","margin-top","20px","margin-bottom","20px"],[1,"card","d-block",2,"border-radius","15px","padding","10px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"h2"),t._uU(5,"Historia clinica"),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"h4"),t._uU(10),t.qZA(),t.TgZ(11,"h4"),t._uU(12),t.qZA(),t.TgZ(13,"h4"),t._uU(14),t.qZA(),t.TgZ(15,"h4"),t._uU(16),t.qZA(),t.YNc(17,ut,2,2,"h4",5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(i.resena.resena),t.xp6(8),t.hij("Altura: ",i.resena.historiaClinica.altura,""),t.xp6(2),t.hij("Peso: ",i.resena.historiaClinica.peso,""),t.xp6(2),t.hij("Temperatura: ",i.resena.historiaClinica.temperatura,""),t.xp6(2),t.hij("Presion: ",i.resena.historiaClinica.presion,""),t.xp6(1),t.Q6J("ngForOf",i.resena.historiaClinica.claveValor))},directives:[c.sg],styles:[""]}),a})(),pt=(()=>{class a{constructor(e,i){this.firebase=e,this.utilidades=i}ngOnInit(){}confirmar(){var e;let i=null===(e=document.getElementById("comentario"))||void 0===e?void 0:e.value;""!=i?(this.rechazar.rechazado=!0,this.rechazar.comentarioRechazado=i,this.firebase.modificarTurno(this.rechazar,this.rechazar.id),document.getElementById("comentario").value="",this.utilidades.mostrarToastSuccess("Turno rechazado","El turno ha sido rechazado")):this.utilidades.mostrarToastError("Debe dejar un motivo","Deje un comentario para poder rechazar")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(m.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-rechazar-turno-especialista"]],inputs:{rechazar:"rechazar"},decls:4,vars:0,consts:[[1,"row",2,"justify-content","center","margin","5px"],["id","comentario","cols","30","rows","3","placeholder","Debe dejar un comentario con el motivo",1,"ingreso",2,"border-radius","5px"],[1,"btn","btn-warning","btn-md","btn-block",2,"margin-top","5px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"textarea",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.confirmar()}),t._uU(3,"Rechazar"),t.qZA(),t.qZA())},styles:[".ingreso[_ngcontent-%COMP%]{resize:none}"]}),a})();var l=d(665);function mt(a,r){1&a&&(t.TgZ(0,"small",30),t._uU(1,"La altura es requerida"),t.qZA())}function _t(a,r){1&a&&(t.TgZ(0,"small",30),t._uU(1,"El peso es requerido"),t.qZA())}function ft(a,r){1&a&&(t.TgZ(0,"small",30),t._uU(1,"La temperatura es requerida"),t.qZA())}function ht(a,r){1&a&&(t.TgZ(0,"small",30),t._uU(1,"La presion es requerida"),t.qZA())}let gt=(()=>{class a{constructor(e,i,o,n,s){this.firebase=e,this.utilidades=i,this.db=o,this.auth=n,this.fb=s,this.coleccion=this.db.collection("usuarios"),this.usuarios=this.coleccion.valueChanges({idField:"id"})}ngOnInit(){this.form=this.fb.group({altura:["",l.kI.required],peso:["",l.kI.required],temperatura:["",l.kI.required],presion:["",l.kI.required]}),this.usuarios.subscribe(e=>{this.usuariosBD=e;for(let i of this.usuariosBD)if(i.dni==this.auth.currentUser.dni){this.especialista=i;break}for(let i of this.usuariosBD)if(i.dni==this.finalizar.dniPaciente){this.paciente=i;break}})}confirmar(){var e;let i=null===(e=document.getElementById("comentario"))||void 0===e?void 0:e.value;if(""!=i){this.finalizar.realizado=!0,this.finalizar.resena=i,document.getElementById("comentario").value="",this.cargarHistoriaClinica(),this.eliminarTurno(),this.form.reset(),this.finalizar.historiaClinica=this.historiaClinica,this.firebase.modificarTurno(this.finalizar,this.finalizar.id);let o=[1,2,3];for(let n=0;n<o.length;n++)document.getElementById(`clave${o[n]}`).value="",document.getElementById(`valor${o[n]}`).value="";this.utilidades.mostrarToastSuccess("Turno finalizado","El turno ha sido finalizado")}else this.utilidades.mostrarToastError("Debe dejar un motivo","Deje una rese\xf1a para poder finalizar")}eliminarTurno(){for(let e of this.especialista.turnos)if(this.finalizar.dniPaciente==e.dniPaciente){let i=this.especialista.turnos.indexOf(e);this.especialista.turnos.splice(i,1);break}this.firebase.modificarUsuario(this.especialista,this.especialista.id)}cargarHistoriaClinica(){let o,n,s,e=this.form.value,i=[1,2,3];for(let u=0;u<i.length;u++)if(o=document.getElementById(`clave${i[u]}`).value,n=document.getElementById(`valor${i[u]}`).value,""!=o&&""!=n)if(s={clave:o,valor:n},null==e.claveValor){let x=[];x.push(s),e.claveValor=x}else e.claveValor.push(s);if(e.especialista=this.auth.currentUser.nombre+" "+this.auth.currentUser.apellido,null==this.paciente.historiaClinica){let u=[];u.push(e),this.paciente.historiaClinica=u}else this.paciente.historiaClinica.push(e);this.historiaClinica=e,this.firebase.modificarUsuario(this.paciente,this.paciente.id)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(m.I),t.Y36(f.ST),t.Y36(_.e),t.Y36(l.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-finalizar-turno-especialista"]],inputs:{finalizar:"finalizar"},decls:54,vars:6,consts:[[1,"row",2,"justify-content","center","margin","5px"],["id","comentario","cols","30","rows","3","placeholder","Debe dejar una rese\xf1a",1,"ingreso",2,"border-radius","5px"],[1,"row"],[1,"col-md-12","order-md-1"],[3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","altura"],["type","number","formControlName","altura","placeholder","","value","","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","peso"],["type","number","formControlName","peso","placeholder","","value","","required","",1,"form-control"],["for","temperatura"],["type","number","formControlName","temperatura","placeholder","","value","","required","",1,"form-control"],["for","presion"],["type","number","formControlName","presion","placeholder","","value","","required","",1,"form-control"],[1,"col-md-6","mb-3","d-flex"],[1,"col-md-6","d-block"],["for","clave1"],["type","text","id","clave1","autocomplete","off",1,"form-control"],["for","valor1"],["type","number","id","valor1",1,"form-control"],["for","clave2"],["type","text","id","clave2","autocomplete","off",1,"form-control"],["for","valor2"],["type","number","id","valor2","autocomplete","off",1,"form-control"],["for","clave3"],["type","text","id","clave3",1,"form-control"],["for","valor3"],["type","number","id","valor3",1,"form-control"],[1,"btn","btn-primary","btn-md","btn-block",2,"margin-top","5px",3,"disabled","click"],[1,"text-danger"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"textarea",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"form",4),t.NdJ("ngSubmit",function(){return i.confirmar()}),t.TgZ(5,"div",5),t.TgZ(6,"label",6),t._uU(7,"Altura"),t.qZA(),t._UZ(8,"input",7),t.YNc(9,mt,2,0,"small",8),t.qZA(),t.TgZ(10,"div",5),t.TgZ(11,"label",9),t._uU(12,"Peso"),t.qZA(),t._UZ(13,"input",10),t.YNc(14,_t,2,0,"small",8),t.qZA(),t.TgZ(15,"div",5),t.TgZ(16,"label",11),t._uU(17,"Temperatura"),t.qZA(),t._UZ(18,"input",12),t.YNc(19,ft,2,0,"small",8),t.qZA(),t.TgZ(20,"div",5),t.TgZ(21,"label",13),t._uU(22,"Presion"),t.qZA(),t._UZ(23,"input",14),t.YNc(24,ht,2,0,"small",8),t.qZA(),t.TgZ(25,"div",15),t.TgZ(26,"div",16),t.TgZ(27,"label",17),t._uU(28,"Clave"),t.qZA(),t._UZ(29,"input",18),t.qZA(),t.TgZ(30,"div",16),t.TgZ(31,"label",19),t._uU(32,"Valor"),t.qZA(),t._UZ(33,"input",20),t.qZA(),t.qZA(),t.TgZ(34,"div",15),t.TgZ(35,"div",16),t.TgZ(36,"label",21),t._uU(37,"Clave"),t.qZA(),t._UZ(38,"input",22),t.qZA(),t.TgZ(39,"div",16),t.TgZ(40,"label",23),t._uU(41,"Valor"),t.qZA(),t._UZ(42,"input",24),t.qZA(),t.qZA(),t.TgZ(43,"div",15),t.TgZ(44,"div",16),t.TgZ(45,"label",25),t._uU(46,"Clave"),t.qZA(),t._UZ(47,"input",26),t.qZA(),t.TgZ(48,"div",16),t.TgZ(49,"label",27),t._uU(50,"Valor"),t.qZA(),t._UZ(51,"input",28),t.qZA(),t.qZA(),t.TgZ(52,"button",29),t.NdJ("click",function(){return i.confirmar()}),t._uU(53,"Finalizar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(5),t.Q6J("ngIf",(null==i.form.controls.altura.errors?null:i.form.controls.altura.errors.required)&&i.form.controls.altura.touched),t.xp6(5),t.Q6J("ngIf",(null==i.form.controls.peso.errors?null:i.form.controls.peso.errors.required)&&i.form.controls.peso.touched),t.xp6(5),t.Q6J("ngIf",(null==i.form.controls.temperatura.errors?null:i.form.controls.temperatura.errors.required)&&i.form.controls.temperatura.touched),t.xp6(5),t.Q6J("ngIf",(null==i.form.controls.presion.errors?null:i.form.controls.presion.errors.required)&&i.form.controls.presion.touched),t.xp6(28),t.Q6J("disabled",i.form.invalid))},directives:[l._Y,l.JL,l.sg,l.wV,l.Fj,l.JJ,l.u,l.Q7,c.O5],styles:[".ingreso[_ngcontent-%COMP%]{resize:none}"]}),a})();function Tt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Cancelar turno"),t.qZA(),t._UZ(3,"app-cancelar-turno",7),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("cancelar",e.cancelar)}}function bt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Ver rese\xf1a"),t.qZA(),t._UZ(3,"app-ver-resena-turno-especialista",8),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("resena",e.resena)}}function Zt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Rechazar turno"),t.qZA(),t._UZ(3,"app-rechazar-turno-especialista",9),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("rechazar",e.rechazar)}}function xt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Finalizar turno"),t.qZA(),t._UZ(3,"app-finalizar-turno-especialista",10),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("finalizar",e.finalizar)}}let vt=(()=>{class a{constructor(){this.mostrarCancelar=!1,this.mostrarResena=!1,this.mostrarRechazar=!1,this.mostrarFinalizar=!1}ngOnInit(){}cancelarTurno(e){this.cancelar=e,this.mostrarCancelar=!0,this.mostrarResena=!1,this.mostrarRechazar=!1,this.mostrarFinalizar=!1}verResena(e){this.resena=e,this.mostrarCancelar=!1,this.mostrarResena=!0,this.mostrarRechazar=!1,this.mostrarFinalizar=!1}rechazarTurno(e){this.rechazar=e,this.mostrarCancelar=!1,this.mostrarResena=!1,this.mostrarRechazar=!0,this.mostrarFinalizar=!1}finalizarTurno(e){this.finalizar=e,this.mostrarCancelar=!1,this.mostrarResena=!1,this.mostrarRechazar=!1,this.mostrarFinalizar=!0}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-turnos-especialista"]],decls:10,vars:4,consts:[[1,"container",2,"margin-top","70px"],[3,"cancelar","resena","rechazar","finalizar"],[1,"container"],[1,"row"],["class","col-md-12 card slide-in-elliptic-top-fwd","style","margin-top: 20px;",4,"ngIf"],[1,"fullscreen-bg"],[1,"col-md-12","card","slide-in-elliptic-top-fwd",2,"margin-top","20px"],[3,"cancelar"],[3,"resena"],[3,"rechazar"],[3,"finalizar"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"app-tabla-turnos-especialista",1),t.NdJ("cancelar",function(n){return i.cancelarTurno(n)})("resena",function(n){return i.verResena(n)})("rechazar",function(n){return i.rechazarTurno(n)})("finalizar",function(n){return i.finalizarTurno(n)}),t.qZA(),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,Tt,4,1,"div",4),t.YNc(5,bt,4,1,"div",4),t.YNc(6,Zt,4,1,"div",4),t.YNc(7,xt,4,1,"div",4),t.qZA(),t._UZ(8,"hr"),t.qZA(),t._UZ(9,"div",5)),2&e&&(t.xp6(4),t.Q6J("ngIf",i.mostrarCancelar),t.xp6(1),t.Q6J("ngIf",i.mostrarResena),t.xp6(1),t.Q6J("ngIf",i.mostrarRechazar),t.xp6(1),t.Q6J("ngIf",i.mostrarFinalizar))},directives:[lt,c.O5,Z,dt,pt,gt],styles:[".slide-in-elliptic-top-fwd[_ngcontent-%COMP%]{animation:slide-in-elliptic-top-fwd .7s cubic-bezier(.25,.46,.45,.94) both}@keyframes slide-in-elliptic-top-fwd{0%{transform:translateY(-600px) rotateX(-30deg) scale(0);transform-origin:50% 100%;opacity:0}to{transform:translateY(0) rotateX(0) scale(1);transform-origin:50% 1400px;opacity:1}}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;z-index:-1;top:0;right:0;bottom:0;left:0;background:url(fondoClinica.2e5db6a8cafece6399e0.png) center;background-size:cover}"]}),a})();function Ct(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().cambiarEspecialista(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function At(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().cambiarEspecialidad(n)}),t._uU(1),t.qZA()}if(2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function qt(a,r){if(1&a&&(t.TgZ(0,"li",20),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij("Comentario: ",e.comentarioCancelado,"")}}function Et(a,r){if(1&a&&(t.TgZ(0,"li",20),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij("Comentario: ",e.comentarioRechazado,"")}}function yt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().cancelarTurno(o)}),t._uU(1,"Cancelar"),t.qZA()}}function Ut(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().verResena(o)}),t._uU(1,"Ver rese\xf1a"),t.qZA()}}function wt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().completarEncuesta(o)}),t._uU(1,"Completar encuesta"),t.qZA()}}function Ot(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().calificarAtencion(o)}),t._uU(1,"Calificar atencion"),t.qZA()}}function Pt(a,r){if(1&a&&(t.TgZ(0,"div",15),t.TgZ(1,"div",16),t.TgZ(2,"h4"),t._uU(3,"Turno"),t.qZA(),t.TgZ(4,"div",17),t.TgZ(5,"h4",18),t._uU(6),t.qZA(),t.TgZ(7,"ul",19),t.TgZ(8,"li",20),t._uU(9),t.qZA(),t.TgZ(10,"li",20),t._uU(11),t.qZA(),t.TgZ(12,"li",20),t._uU(13),t.qZA(),t.YNc(14,qt,2,1,"li",21),t.YNc(15,Et,2,1,"li",21),t.qZA(),t.YNc(16,yt,2,0,"button",22),t.YNc(17,Ut,2,0,"button",23),t.YNc(18,wt,2,0,"button",24),t.YNc(19,Ot,2,0,"button",25),t.qZA(),t.qZA(),t.qZA()),2&a){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("appEstadoTurno",i.estadoTurnoPipe.transform(e)),t.xp6(5),t.Oqu(e.dia+" "+e.hora),t.xp6(3),t.hij("Especialidad: ",e.especialidad,""),t.xp6(2),t.hij("Especialista: ",e.especialista,""),t.xp6(2),t.Oqu(i.estadoTurnoPipe.transform(e)),t.xp6(1),t.Q6J("ngIf",e.cancelado&&null!=e.comentarioCancelado),t.xp6(1),t.Q6J("ngIf",e.rechazado&&null!=e.comentarioRechazado),t.xp6(1),t.Q6J("ngIf",!e.realizado&&!e.cancelado&&!e.rechazado),t.xp6(1),t.Q6J("ngIf",null!=e.resena),t.xp6(1),t.Q6J("ngIf",null!=e.resena&&e.realizado),t.xp6(1),t.Q6J("ngIf",e.realizado)}}let kt=(()=>{class a{constructor(e,i,o,n){this.firebase=e,this.db=i,this.auth=o,this.estadoTurnoPipe=n,this.cancelar=new t.vpe,this.resena=new t.vpe,this.encuesta=new t.vpe,this.atencion=new t.vpe,this.turnosValidos=[],this.turnosAMostrar=[],this.arrEspecialistasValidos=[],this.arrEspecialidadesValidas=[],this.coleccion=this.db.collection("turnos"),this.turnos=this.coleccion.valueChanges({idField:"id"})}ngOnInit(){this.turnos.subscribe(e=>{this.turnosBD=e,this.validarTurnos(),this.validarEspecialistas(),this.validarEspecialidades()})}validarTurnos(){var e;this.turnosValidos=[];for(let i of this.turnosBD)(null===(e=this.auth.currentUser)||void 0===e?void 0:e.dni)==i.dniPaciente&&this.turnosValidos.push(i);this.turnosAMostrar=this.turnosValidos}validarEspecialistas(){let e,i;for(let o of this.turnosValidos)i=o.especialista,e=this.arrEspecialistasValidos.indexOf(i),-1==e&&this.arrEspecialistasValidos.push(i)}validarEspecialidades(){let e,i;for(let o of this.turnosValidos)i=o.especialidad,e=this.arrEspecialidadesValidas.indexOf(i),-1==e&&this.arrEspecialidadesValidas.push(i)}cambiarEspecialista(e){if(this.turnosAMostrar=[],"mostrarTodos"!=e)for(let i of this.turnosValidos)i.especialista==e&&this.turnosAMostrar.push(i);else this.turnosAMostrar=this.turnosValidos}cambiarEspecialidad(e){this.turnosAMostrar=[];for(let i of this.turnosValidos)i.especialidad==e&&this.turnosAMostrar.push(i)}cancelarTurno(e){this.cancelar.emit(e)}verResena(e){this.resena.emit(e)}completarEncuesta(e){this.encuesta.emit(e)}calificarAtencion(e){this.atencion.emit(e)}validarBusqueda(){let o,e=document.getElementById("busqueda").value.toString(),i=[];if(console.log(e),""!=e){e=e.toLowerCase();for(let n of this.turnosValidos)if(n.dniPaciente.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.dniEspecialista.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.dia.includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.hora.includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.especialidad.toLowerCase().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.especialista.toLowerCase().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.paciente.toLowerCase().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),null!=n.historiaClinica&&(n.historiaClinica.altura.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.historiaClinica.peso.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.historiaClinica.temperatura.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),n.historiaClinica.presion.toString().includes(e)&&(o=i.indexOf(n),-1==o&&i.push(n)),null!=n.historiaClinica.claveValor))for(let s of n.historiaClinica.claveValor)(s.clave.toLowerCase().includes(e)||s.valor.toString().includes(e))&&(o=i.indexOf(n),-1==o&&i.push(n));this.turnosAMostrar=i}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(f.ST),t.Y36(_.e),t.Y36(h.S))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tabla-turnos-paciente"]],outputs:{cancelar:"cancelar",resena:"resena",encuesta:"encuesta",atencion:"atencion"},decls:25,vars:3,consts:[[1,"container","card",2,"padding","20px","margin-top","30px","border-radius","15px"],[1,"row","justify-content-center"],[1,"row"],[1,"col-md-6"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"d-flex"],[1,"flex-grow-1"],["type","text","id","busqueda","autocomplete","off","placeholder","Busqueda",1,"form-control"],["type","button",1,"btn","btn-success",2,"margin-left","5px",3,"click"],[1,"d-flex","gap-4",2,"margin-top","5px"],["class","btn btn-primary btn-sm",3,"click",4,"ngFor","ngForOf"],[1,"container"],[1,"row","mx-0",2,"justify-content","center"],["style","justify-content: center; width: 18rem; margin-top: 20px",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[2,"justify-content","center","width","18rem","margin-top","20px"],[1,"card",2,"border-radius","15px","padding","10px","width","100%","height","100%",3,"appEstadoTurno"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],["type","button","class","btn btn-danger btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-warning btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button","class","btn btn-success btn-lg text-white","style","margin: 5px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-warning","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-primary","btn-lg","text-white",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-success","btn-lg","text-white",2,"margin","5px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return i.cambiarEspecialista("mostrarTodos")}),t._uU(5,"Mostrar todos"),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return i.validarBusqueda()}),t._uU(11,"Buscar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",2),t.TgZ(13,"div",9),t.TgZ(14,"h6"),t._uU(15,"Especialistas: "),t.qZA(),t.YNc(16,Ct,2,1,"button",10),t.qZA(),t.qZA(),t.TgZ(17,"div",2),t.TgZ(18,"div",9),t.TgZ(19,"h6"),t._uU(20,"Especialidades: "),t.qZA(),t.YNc(21,At,2,1,"button",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",11),t.TgZ(23,"div",12),t.YNc(24,Pt,20,11,"div",13),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",i.arrEspecialistasValidos),t.xp6(5),t.Q6J("ngForOf",i.arrEspecialidadesValidas),t.xp6(3),t.Q6J("ngForOf",i.turnosAMostrar))},directives:[c.sg,g,c.O5],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Helvetica;-webkit-font-smoothing:antialiased;background:#4793e3}h2[_ngcontent-%COMP%]{text-align:center;font-size:18px;text-transform:uppercase;letter-spacing:1px;color:#fff;padding:30px 0}.table-wrapper[_ngcontent-%COMP%]{margin:10px 70px 70px;box-shadow:0 35px 50px #0003}.fl-table[_ngcontent-%COMP%]{border-radius:5px;font-size:12px;font-weight:normal;border:none;border-collapse:collapse;width:100%;max-width:100%;white-space:nowrap;background-color:#fff}.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;padding:8px}.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #f8f8f8;font-size:12px}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;background:#4FC3A1}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(odd){color:#fff;background:#324960}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#F8F8F8}@media (max-width: 767px){.fl-table[_ngcontent-%COMP%]{display:block;width:100%}.table-wrapper[_ngcontent-%COMP%]:before{content:"Scroll horizontally >";display:block;text-align:right;font-size:11px;color:#fff;padding:0 0 10px}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:block}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-bottom:none}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{float:left}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{width:auto;position:relative;overflow-x:auto}.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px .625em .625em;height:60px;vertical-align:middle;box-sizing:border-box;overflow-x:hidden;overflow-y:auto;width:120px;font-size:13px;text-overflow:ellipsis}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;border-bottom:1px solid #f7f7f9}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-cell}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:none}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:transparent}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(odd){background:#F8F8F8;border-right:1px solid #E6E4E4}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(even){border-right:1px solid #E6E4E4}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;text-align:center}}']}),a})();function zt(a,r){if(1&a&&(t.TgZ(0,"h4"),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.AsE("",e.clave,": ",e.valor,"")}}let Mt=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ver-resena"]],inputs:{resena:"resena"},decls:18,vars:6,consts:[[2,"border","2px solid","border-radius","5px","width","100%","height","10vh","margin-bottom","10px"],[1,"container","card",2,"padding","20px","border-radius","15px","margin-top","20px","margin-bottom","20px"],[1,"row","mx-0","d-flex",2,"justify-content","center"],[2,"justify-content","center","width","18rem","margin-top","20px","margin-bottom","20px"],[1,"card","d-block",2,"border-radius","15px","padding","10px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"h2"),t._uU(5,"Historia clinica"),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"h4"),t._uU(10),t.qZA(),t.TgZ(11,"h4"),t._uU(12),t.qZA(),t.TgZ(13,"h4"),t._uU(14),t.qZA(),t.TgZ(15,"h4"),t._uU(16),t.qZA(),t.YNc(17,zt,2,2,"h4",5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(i.resena.resena),t.xp6(8),t.hij("Altura: ",i.resena.historiaClinica.altura,""),t.xp6(2),t.hij("Peso: ",i.resena.historiaClinica.peso,""),t.xp6(2),t.hij("Temperatura: ",i.resena.historiaClinica.temperatura,""),t.xp6(2),t.hij("Presion: ",i.resena.historiaClinica.presion,""),t.xp6(1),t.Q6J("ngForOf",i.resena.historiaClinica.claveValor))},directives:[c.sg],styles:[""]}),a})(),Ft=(()=>{class a{constructor(e,i){this.firebase=e,this.utilidades=i}ngOnInit(){}enviar(){let e=document.getElementById("limpiezaConsultorio").value,i=document.getElementById("atencionRecepcionista").value,o=document.getElementById("tiempoDeEspera").value;this.encuesta.encuestaCliente={limpiezaConsultorio:e,atencionRecepcionista:i,tiempoDeEspera:o},this.firebase.modificarTurno(this.encuesta,this.encuesta.id),this.utilidades.mostrarToastSuccess("Encuesta enviada","Su encuesta ha sido enviada"),document.getElementById("limpiezaConsultorio").value="5",document.getElementById("atencionRecepcionista").value="5",document.getElementById("tiempoDeEspera").value="5"}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(m.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-completar-encuesta"]],inputs:{encuesta:"encuesta"},decls:30,vars:0,consts:[[2,"justify-content","center"],["for",""],["for","limpiezaConsultorio"],["type","range","min","1","max","10","step","1","value","5","id","limpiezaConsultorio"],["for","atencionRecepcionista"],["type","range","min","1","max","10","step","1","value","5","id","atencionRecepcionista"],["for","tiempoDeEspera"],["type","range","min","1","max","10","step","1","value","5","id","tiempoDeEspera"],[1,"btn","btn-primary","btn-lg",2,"margin-bottom","10px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"label",1),t._uU(2,"Limpieza del consultorio"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"label",2),t._uU(5,"1"),t.qZA(),t._UZ(6,"input",3),t.TgZ(7,"label",2),t._uU(8,"10"),t.qZA(),t.qZA(),t.TgZ(9,"div",0),t.TgZ(10,"label",1),t._uU(11,"Atencion de recepcionista"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"label",4),t._uU(14,"1"),t.qZA(),t._UZ(15,"input",5),t.TgZ(16,"label",4),t._uU(17,"10"),t.qZA(),t.qZA(),t.TgZ(18,"div",0),t.TgZ(19,"label",1),t._uU(20,"Tiempo de espera"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"label",6),t._uU(23,"1"),t.qZA(),t._UZ(24,"input",7),t.TgZ(25,"label",6),t._uU(26,"10"),t.qZA(),t.qZA(),t.TgZ(27,"div",0),t.TgZ(28,"button",8),t.NdJ("click",function(){return i.enviar()}),t._uU(29,"Enviar"),t.qZA(),t.qZA())},styles:[""]}),a})(),St=(()=>{class a{constructor(e,i){this.firebase=e,this.utilidades=i}ngOnInit(){}enviar(){let e=document.getElementById("atencionEspecialista").value,i=document.getElementById("respondioDudas").value,o=document.getElementById("solucionoProblemas").value;this.atencion.atencionEspecialista={atencionEspecialista:e,respondioDudas:i,solucionoProblemas:o},this.firebase.modificarTurno(this.atencion,this.atencion.id),this.utilidades.mostrarToastSuccess("Encuesta enviada","Su encuesta ha sido enviada"),document.getElementById("atencionEspecialista").value="5",document.getElementById("respondioDudas").value="5",document.getElementById("solucionoProblemas").value="5"}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.O),t.Y36(m.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-calificar-atencion"]],inputs:{atencion:"atencion"},decls:30,vars:0,consts:[[2,"justify-content","center"],["for",""],["for","atencionEspecialista"],["type","range","min","1","max","10","step","1","value","5","id","atencionEspecialista"],["for","respondioDudas"],["type","range","min","1","max","10","step","1","value","5","id","respondioDudas"],["for","solucionoProblemas"],["type","range","min","1","max","10","step","1","value","5","id","solucionoProblemas"],[1,"btn","btn-primary","btn-lg",2,"margin-bottom","10px",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"label",1),t._uU(2,"Actitud del especialista"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"label",2),t._uU(5,"1"),t.qZA(),t._UZ(6,"input",3),t.TgZ(7,"label",2),t._uU(8,"10"),t.qZA(),t.qZA(),t.TgZ(9,"div",0),t.TgZ(10,"label",4),t._uU(11,"Agilidad de la consulta"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"label",4),t._uU(14,"1"),t.qZA(),t._UZ(15,"input",5),t.TgZ(16,"label",4),t._uU(17,"10"),t.qZA(),t.qZA(),t.TgZ(18,"div",0),t.TgZ(19,"label",6),t._uU(20,"Limpieza del consultorio"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"label",6),t._uU(23,"1"),t.qZA(),t._UZ(24,"input",7),t.TgZ(25,"label",6),t._uU(26,"10"),t.qZA(),t.qZA(),t.TgZ(27,"div",0),t.TgZ(28,"button",8),t.NdJ("click",function(){return i.enviar()}),t._uU(29,"Enviar"),t.qZA(),t.qZA())},styles:[""]}),a})();function Jt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Cancelar turno"),t.qZA(),t._UZ(3,"app-cancelar-turno",7),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("cancelar",e.cancelar)}}function It(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Ver rese\xf1a"),t.qZA(),t._UZ(3,"app-ver-resena",8),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("resena",e.resena)}}function Vt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Completar encuesta"),t.qZA(),t._UZ(3,"app-completar-encuesta",9),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("encuesta",e.encuesta)}}function Yt(a,r){if(1&a&&(t.TgZ(0,"div",6),t.TgZ(1,"h2"),t._uU(2,"Calificar atenci\xf3n"),t.qZA(),t._UZ(3,"app-calificar-atencion",10),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("atencion",e.atencion)}}const Nt=[{path:"alta",component:K},{path:"paciente",component:(()=>{class a{constructor(){this.mostrarCancelar=!1,this.mostrarResena=!1,this.mostrarEncuesta=!1,this.mostrarAtencion=!1}ngOnInit(){}cancelarTurno(e){this.cancelar=e,this.mostrarCancelar=!0,this.mostrarResena=!1,this.mostrarEncuesta=!1,this.mostrarAtencion=!1}verResena(e){this.resena=e,this.mostrarCancelar=!1,this.mostrarResena=!0,this.mostrarEncuesta=!1,this.mostrarAtencion=!1}completarEncuesta(e){this.encuesta=e,this.mostrarCancelar=!1,this.mostrarResena=!1,this.mostrarEncuesta=!0,this.mostrarAtencion=!1}calificarAtencion(e){this.atencion=e,this.mostrarCancelar=!1,this.mostrarResena=!1,this.mostrarEncuesta=!1,this.mostrarAtencion=!0}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-turnos-paciente"]],decls:10,vars:4,consts:[[1,"container",2,"margin-top","70px"],[3,"cancelar","resena","encuesta","atencion"],[1,"container"],[1,"row"],["class","col-md-12 card slide-in-elliptic-top-fwd","style","margin-top: 20px;",4,"ngIf"],[1,"fullscreen-bg"],[1,"col-md-12","card","slide-in-elliptic-top-fwd",2,"margin-top","20px"],[3,"cancelar"],[3,"resena"],[3,"encuesta"],[3,"atencion"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"app-tabla-turnos-paciente",1),t.NdJ("cancelar",function(n){return i.cancelarTurno(n)})("resena",function(n){return i.verResena(n)})("encuesta",function(n){return i.completarEncuesta(n)})("atencion",function(n){return i.calificarAtencion(n)}),t.qZA(),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,Jt,4,1,"div",4),t.YNc(5,It,4,1,"div",4),t.YNc(6,Vt,4,1,"div",4),t.YNc(7,Yt,4,1,"div",4),t.qZA(),t._UZ(8,"hr"),t.qZA(),t._UZ(9,"div",5)),2&e&&(t.xp6(4),t.Q6J("ngIf",i.mostrarCancelar),t.xp6(1),t.Q6J("ngIf",i.mostrarResena),t.xp6(1),t.Q6J("ngIf",i.mostrarEncuesta),t.xp6(1),t.Q6J("ngIf",i.mostrarAtencion))},directives:[kt,c.O5,Z,Mt,Ft,St],styles:[".slide-in-elliptic-top-fwd[_ngcontent-%COMP%]{animation:slide-in-elliptic-top-fwd .7s cubic-bezier(.25,.46,.45,.94) both}@keyframes slide-in-elliptic-top-fwd{0%{transform:translateY(-600px) rotateX(-30deg) scale(0);transform-origin:50% 100%;opacity:0}to{transform:translateY(0) rotateX(0) scale(1);transform-origin:50% 1400px;opacity:1}}.fullscreen-bg[_ngcontent-%COMP%]{position:fixed;z-index:-1;top:0;right:0;bottom:0;left:0;background:url(fondoClinica.2e5db6a8cafece6399e0.png) center;background-size:cover}"]}),a})()},{path:"especialista",component:vt},{path:"admin",component:P}];let Qt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[b.Bz.forChild(Nt)],b.Bz]}),a})(),Dt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[c.ez,Qt]]}),a})()}}]);