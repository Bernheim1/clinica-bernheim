(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[179],{8255:Qe=>{function De(F){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+F+"'");throw g.code="MODULE_NOT_FOUND",g})}De.keys=()=>[],De.resolve=De,De.id=8255,Qe.exports=De},3018:(Qe,De,F)=>{"use strict";F.d(De,{deG:()=>sd,tb:()=>AD,AFp:()=>DD,ip1:()=>xg,CZH:()=>Vh,hGG:()=>Bu,z2F:()=>kg,sBO:()=>os,Sil:()=>jh,_Vd:()=>Tu,EJc:()=>u0,SBq:()=>Ls,qLn:()=>Le,vpe:()=>Bs,gxx:()=>bp,tBr:()=>sa,XFs:()=>xe,OlP:()=>vn,zs3:()=>Yt,ZZ4:()=>Nn,aQg:()=>dg,soG:()=>Uh,YKP:()=>pw,v3s:()=>dM,h0i:()=>ic,PXZ:()=>yn,R0b:()=>Di,FiY:()=>xs,Lbi:()=>j_,g9A:()=>SD,Qsj:()=>mI,FYo:()=>va,JOm:()=>Eo,Tiy:()=>_h,q3G:()=>In,tp0:()=>Ns,EAV:()=>Xx,Rgc:()=>Ea,dDg:()=>y0,DyG:()=>_i,q4F:()=>ow,GfV:()=>ug,s_b:()=>l_,ifc:()=>tn,eFA:()=>js,G48:()=>qh,Gpc:()=>re,X6Q:()=>v0,_c5:()=>W_,VLi:()=>qx,c2e:()=>a0,zSh:()=>Xi,wAp:()=>at,vHH:()=>Me,EiD:()=>Sl,mCW:()=>nu,qzn:()=>aa,JVY:()=>vd,pB0:()=>Uv,eBb:()=>Pm,L6k:()=>Vv,LAX:()=>np,cg1:()=>Kp,Tjo:()=>vc,kL8:()=>sh,yhl:()=>Om,dqk:()=>V,sIi:()=>zd,CqO:()=>By,QGY:()=>Lp,F4k:()=>vb,RDi:()=>Ua,AaK:()=>j,z3N:()=>vi,qOj:()=>Dy,TTD:()=>zr,_Bn:()=>iw,xp6:()=>RC,uIk:()=>xy,Tol:()=>Db,ekj:()=>Hy,Suo:()=>Mh,Xpm:()=>Na,lG2:()=>nm,Yz7:()=>gn,cJS:()=>ms,oAB:()=>_s,Yjl:()=>hf,Y36:()=>nh,_UZ:()=>Vy,BQk:()=>yb,ynx:()=>Uy,qZA:()=>Pp,TgZ:()=>Op,EpF:()=>Fp,n5z:()=>Et,Ikx:()=>Yy,LFG:()=>hn,$8M:()=>nd,NdJ:()=>jy,CRH:()=>A_,oxw:()=>hu,Q6J:()=>Fy,s9C:()=>fu,DdM:()=>WI,iGM:()=>D_,CHM:()=>If,oJD:()=>op,LSH:()=>mo,kYT:()=>nl,Udp:()=>Ib,d8E:()=>vu,YNc:()=>Ny,_uU:()=>zT,Oqu:()=>xb,hij:()=>Zy});var g=F(9765),ue=F(5319),q=F(7574),ie=F(6682),Ee=F(2441);var ye=F(1307);function Q(){return new g.xQ}function H(a){for(let u in a)if(a[u]===H)return u;throw Error("Could not find renamed property on target object.")}function G(a,u){for(const l in u)u.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=u[l])}function j(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const u=a.toString();if(null==u)return""+u;const l=u.indexOf("\n");return-1===l?u:u.substring(0,l)}function W(a,u){return null==a||""===a?null===u?"":u:null==u||""===u?a:a+" "+u}const he=H({__forward_ref__:H});function re(a){return a.__forward_ref__=re,a.toString=function(){return j(this())},a}function ne(a){return Pe(a)?a():a}function Pe(a){return"function"==typeof a&&a.hasOwnProperty(he)&&a.__forward_ref__===re}class Me extends Error{constructor(u,l){super(function(a,u){return`${a?`NG0${a}: `:""}${u}`}(u,l)),this.code=u}}function Ue(a){return"string"==typeof a?a:null==a?"":String(a)}function pe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ue(a)}function se(a,u){const l=u?` in ${u}`:"";throw new Me("201",`No provider for ${pe(a)} found${l}`)}function Dt(a,u){null==a&&function(a,u,l,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${l} ${d} ${u} <=Actual]`))}(u,a,null,"!=")}function gn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ms(a){return{providers:a.providers||[],imports:a.imports||[]}}function or(a){return Bo(a,$n)||Bo(a,ci)}function Bo(a,u){return a.hasOwnProperty(u)?a[u]:null}function ys(a){return a&&(a.hasOwnProperty(Ai)||a.hasOwnProperty(Tt))?a[Ai]:null}const $n=H({\u0275prov:H}),Ai=H({\u0275inj:H}),ci=H({ngInjectableDef:H}),Tt=H({ngInjectorDef:H});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let Gt;function an(a){const u=Gt;return Gt=a,u}function Kt(a,u,l){const d=or(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&xe.Optional?null:void 0!==u?u:void se(j(a),"Injector")}function We(a){return{toString:a}.toString()}var xr=(()=>((xr=xr||{})[xr.OnPush=0]="OnPush",xr[xr.Default=1]="Default",xr))(),tn=(()=>((tn=tn||{})[tn.Emulated=0]="Emulated",tn[tn.None=2]="None",tn[tn.ShadowDom=3]="ShadowDom",tn))();const Nr="undefined"!=typeof globalThis&&globalThis,cf="undefined"!=typeof window&&window,un="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,V=Nr||Z||cf||un,J={},Te=[],it=H({\u0275cmp:H}),Vt=H({\u0275dir:H}),Ot=H({\u0275pipe:H}),At=H({\u0275mod:H}),wn=H({\u0275loc:H}),_n=H({\u0275fac:H}),Hn=H({__NG_ELEMENT_ID__:H});let Ks=0;function Na(a){return We(()=>{const l={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===xr.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Te,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c",styles:a.styles||Te,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,y=a.features,v=a.pipes;return d.id+=Ks++,d.inputs=Oa(a.inputs,l),d.outputs=Oa(a.outputs),y&&y.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ma):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Rc):null,d})}function Ma(a){return Xn(a)||function(a){return a[Vt]||null}(a)}function Rc(a){return function(a){return a[Ot]||null}(a)}const df={};function _s(a){return We(()=>{const u={type:a.type,bootstrap:a.bootstrap||Te,declarations:a.declarations||Te,imports:a.imports||Te,exports:a.exports||Te,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(df[a.id]=a.type),u})}function nl(a,u){return We(()=>{const l=jt(a,!0);l.declarations=u.declarations||Te,l.imports=u.imports||Te,l.exports=u.exports||Te})}function Oa(a,u){if(null==a)return J;const l={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),l[f]=d,u&&(u[f]=y)}return l}const nm=Na;function hf(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Xn(a){return a[it]||null}function jt(a,u){const l=a[At]||null;if(!l&&!0===u)throw new Error(`Type ${j(a)} does not have '\u0275mod' property.`);return l}function xi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Tn(a){return Array.isArray(a)&&!0===a[1]}function pi(a){return 0!=(8&a.flags)}function Nc(a){return 2==(2&a.flags)}function La(a){return 1==(1&a.flags)}function Ni(a){return null!==a.template}function gf(a){return 0!=(512&a[2])}function Js(a,u){return a.hasOwnProperty(_n)?a[_n]:null}class Oc{constructor(u,l,d){this.previousValue=u,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function zr(){return Pc}function Pc(a){return a.type.prototype.ngOnChanges&&(a.setInput=am),tC}function tC(){const a=Fc(this),u=null==a?void 0:a.current;if(u){const l=a.previous;if(l===J)a.previous=u;else for(let d in u)l[d]=u[d];a.current=null,this.ngOnChanges(u)}}function am(a,u,l,d){const f=Fc(a)||function(a,u){return a[kc]=u}(a,{previous:J,current:null}),y=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[l],D=v[w];y[w]=new Oc(D&&D.currentValue,u,v===J),a[d]=u}zr.ngInherit=!0;const kc="__ngSimpleChanges__";function Fc(a){return a[kc]||null}let Zo;function Ua(a){Zo=a}function ll(){return void 0!==Zo?Zo:"undefined"!=typeof document?document:void 0}function ln(a){return!!a.listen}const jc={createRenderer:(a,u)=>ll()};function cn(a){for(;Array.isArray(a);)a=a[0];return a}function $c(a,u){return cn(u[a])}function Kr(a,u){return cn(u[a.index])}function Xs(a,u){return a.data[u]}function gr(a,u){const l=u[a];return xi(l)?l:l[0]}function cl(a){return 4==(4&a[2])}function wf(a){return 128==(128&a[2])}function to(a,u){return null==u?null:a[u]}function qc(a){a[18]=0}function Cf(a,u){a[5]+=u;let l=a,d=a[3];for(;null!==d&&(1===u&&1===l[5]||-1===u&&0===l[5]);)d[5]+=u,l=d,d=d[3]}const ct={lFrame:yv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tf(){return ct.bindingsEnabled}function Se(){return ct.lFrame.lView}function Rt(){return ct.lFrame.tView}function If(a){return ct.lFrame.contextLView=a,a[8]}function Fn(){let a=Zc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Zc(){return ct.lFrame.currentTNode}function gi(a,u){const l=ct.lFrame;l.currentTNode=a,l.isParent=u}function Df(){return ct.lFrame.isParent}function no(){ct.lFrame.isParent=!1}function Ko(){return ct.isInCheckNoChangesMode}function ro(a){ct.isInCheckNoChangesMode=a}function io(){return ct.lFrame.bindingIndex++}function bs(a){const u=ct.lFrame,l=u.bindingIndex;return u.bindingIndex=u.bindingIndex+a,l}function fl(a,u){const l=ct.lFrame;l.bindingIndex=l.bindingRootIndex=a,so(u)}function so(a){ct.lFrame.currentDirectiveIndex=a}function zc(a){const u=ct.lFrame.currentDirectiveIndex;return-1===u?null:a[u]}function gm(){return ct.lFrame.currentQueryIndex}function mm(a){ct.lFrame.currentQueryIndex=a}function pv(a){const u=a[1];return 2===u.type?u.declTNode:1===u.type?a[6]:null}function gv(a,u,l){if(l&xe.SkipSelf){let f=u,y=a;for(;!(f=f.parent,null!==f||l&xe.Host||(f=pv(y),null===f||(y=y[15],10&f.type))););if(null===f)return!1;u=f,a=y}const d=ct.lFrame=mv();return d.currentTNode=u,d.lView=a,!0}function pl(a){const u=mv(),l=a[1];ct.lFrame=u,u.currentTNode=l.firstChild,u.lView=a,u.tView=l,u.contextLView=a,u.bindingIndex=l.bindingStartIndex,u.inI18n=!1}function mv(){const a=ct.lFrame,u=null===a?null:a.child;return null===u?yv(a):u}function yv(a){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=u),u}function ym(){const a=ct.lFrame;return ct.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const rC=ym;function _m(){const a=ym();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function er(){return ct.lFrame.selectedIndex}function Or(a){ct.lFrame.selectedIndex=a}function dn(){const a=ct.lFrame;return Xs(a.tView,a.selectedIndex)}function Wc(a,u){for(let l=u.directiveStart,d=u.directiveEnd;l<d;l++){const y=a.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=y;v&&(a.contentHooks||(a.contentHooks=[])).push(-l,v),w&&((a.contentHooks||(a.contentHooks=[])).push(l,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,w)),D&&(a.viewHooks||(a.viewHooks=[])).push(-l,D),S&&((a.viewHooks||(a.viewHooks=[])).push(l,S),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,S)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(l,R)}}function Yo(a,u,l){Em(a,u,3,l)}function Kc(a,u,l,d){(3&a[2])===l&&Em(a,u,l,d)}function vm(a,u){let l=a[2];(3&l)===u&&(l&=2047,l+=1,a[2]=l)}function Em(a,u,l,d){const y=null!=d?d:-1,v=u.length-1;let w=0;for(let D=void 0!==d?65535&a[18]:0;D<v;D++)if("number"==typeof u[D+1]){if(w=u[D],null!=d&&w>=d)break}else u[D]<0&&(a[18]+=65536),(w<y||-1==y)&&(Ev(a,l,u,D),a[18]=(4294901760&a[18])+D+2),D++}function Ev(a,u,l,d){const f=l[d]<0,y=l[d+1],w=a[f?-l[d]:l[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===u){a[2]+=2048;try{y.call(w)}finally{}}}else try{y.call(w)}finally{}}class Ki{constructor(u,l,d){this.factory=u,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function uo(a,u,l){const d=ln(a);let f=0;for(;f<l.length;){const y=l[f];if("number"==typeof y){if(0!==y)break;f++;const v=l[f++],w=l[f++],D=l[f++];d?a.setAttribute(u,w,D,v):u.setAttributeNS(v,w,D)}else{const v=y,w=l[++f];Qc(v)?d&&a.setProperty(u,v,w):d?a.setAttribute(u,v,w):u.setAttribute(v,w),f++}}return f}function Mf(a){return 3===a||4===a||6===a}function Qc(a){return 64===a.charCodeAt(0)}function Of(a,u){if(null!==u&&0!==u.length)if(null===a||0===a.length)a=u.slice();else{let l=-1;for(let d=0;d<u.length;d++){const f=u[d];"number"==typeof f?l=f:0===l||bv(a,l,f,null,-1===l||2===l?u[++d]:null)}}return a}function bv(a,u,l,d,f){let y=0,v=a.length;if(-1===u)v=-1;else for(;y<a.length;){const w=a[y++];if("number"==typeof w){if(w===u){v=-1;break}if(w>u){v=y-1;break}}}for(;y<a.length;){const w=a[y];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(a[y+1]=f));if(d===a[y+1])return void(a[y+2]=f)}y++,null!==d&&y++,null!==f&&y++}-1!==v&&(a.splice(v,0,u),y=v+1),a.splice(y++,0,l),null!==d&&a.splice(y++,0,d),null!==f&&a.splice(y++,0,f)}function Pf(a){return-1!==a}function yl(a){return 32767&a}function Ba(a,u){let l=function(a){return a>>16}(a),d=u;for(;l>0;)d=d[15],l--;return d}let ja=!0;function $a(a){const u=ja;return ja=a,u}let Pr=0;function ht(a,u){const l=Lf(a,u);if(-1!==l)return l;const d=u[1];d.firstCreatePass&&(a.injectorIndex=u.length,Xc(d.data,a),Xc(u,null),Xc(d.blueprint,null));const f=Jo(a,u),y=a.injectorIndex;if(Pf(f)){const v=yl(f),w=Ba(f,u),D=w[1].data;for(let S=0;S<8;S++)u[y+S]=w[v+S]|D[v+S]}return u[y+8]=f,y}function Xc(a,u){a.push(0,0,0,0,0,0,0,0,u)}function Lf(a,u){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===u[a.injectorIndex+8]?-1:a.injectorIndex}function Jo(a,u){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,d=null,f=u;for(;null!==f;){const y=f[1],v=y.type;if(d=2===v?y.declTNode:1===v?f[6]:null,null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function ed(a,u,l){!function(a,u,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Hn)&&(d=l[Hn]),null==d&&(d=l[Hn]=Pr++);const f=255&d;u.data[a+(f>>5)]|=1<<f}(a,u,l)}function Oi(a,u,l){if(l&xe.Optional)return a;se(u,"NodeInjector")}function wm(a,u,l,d){if(l&xe.Optional&&void 0===d&&(d=null),0==(l&(xe.Self|xe.Host))){const f=a[9],y=an(void 0);try{return f?f.get(u,d,l&xe.Optional):Kt(u,d,l&xe.Optional)}finally{an(y)}}return Oi(d,u,l)}function Vf(a,u,l,d=xe.Default,f){if(null!==a){const y=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const u=a.hasOwnProperty(Hn)?a[Hn]:void 0;return"number"==typeof u?u>=0?255&u:wv:u}(l);if("function"==typeof y){if(!gv(u,a,d))return d&xe.Host?Oi(f,l,d):wm(u,l,d,f);try{const v=y(d);if(null!=v||d&xe.Optional)return v;se(l)}finally{rC()}}else if("number"==typeof y){let v=null,w=Lf(a,u),D=-1,S=d&xe.Host?u[16][6]:null;for((-1===w||d&xe.SkipSelf)&&(D=-1===w?Jo(a,u):u[w+8],-1!==D&&Cs(d,!1)?(v=u[1],w=yl(D),u=Ba(D,u)):w=-1);-1!==w;){const R=u[1];if(Ln(y,w,R.data)){const O=Cm(w,u,l,v,d,S);if(O!==td)return O}D=u[w+8],-1!==D&&Cs(d,u[1].data[w+8]===S)&&Ln(y,w,u)?(v=R,w=yl(D),u=Ba(D,u)):w=-1}}}return wm(u,l,d,f)}const td={};function wv(){return new Ha(Fn(),Se())}function Cm(a,u,l,d,f,y){const v=u[1],w=v.data[a+8],R=ws(w,v,l,null==d?Nc(w)&&ja:d!=v&&0!=(3&w.type),f&xe.Host&&y===w);return null!==R?yi(u,v,R,w):td}function ws(a,u,l,d,f){const y=a.providerIndexes,v=u.data,w=1048575&y,D=a.directiveStart,R=y>>20,k=f?w+R:a.directiveEnd;for(let B=d?w:w+R;B<k;B++){const z=v[B];if(B<D&&l===z||B>=D&&z.type===l)return B}if(f){const B=v[D];if(B&&Ni(B)&&B.type===l)return D}return null}function yi(a,u,l,d){let f=a[l];const y=u.data;if(function(a){return a instanceof Ki}(f)){const v=f;v.resolving&&function(a,u){throw new Me("200",`Circular dependency in DI detected for ${a}`)}(pe(y[l]));const w=$a(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?an(v.injectImpl):null;gv(a,d,xe.Default);try{f=a[l]=v.factory(void 0,y,a,d),u.firstCreatePass&&l>=d.directiveStart&&function(a,u,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:y}=u.type.prototype;if(d){const v=Pc(u);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,f),y&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,y))}(l,y[l],u)}finally{null!==D&&an(D),$a(w),v.resolving=!1,rC()}}return f}function Ln(a,u,l){return!!(l[u+(a>>5)]&1<<a)}function Cs(a,u){return!(a&xe.Self||a&xe.Host&&u)}class Ha{constructor(u,l){this._tNode=u,this._lView=l}get(u,l){return Vf(this._tNode,this._lView,u,void 0,l)}}function Et(a){return We(()=>{const u=a.prototype.constructor,l=u[_n]||qa(u),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const y=f[_n]||qa(f);if(y&&y!==l)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function qa(a){return Pe(a)?()=>{const u=qa(ne(a));return u&&u()}:Js(a)}function nd(a){return function(a,u){if("class"===u)return a.classes;if("style"===u)return a.styles;const l=a.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const y=l[f];if(Mf(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(y===u)return l[f+1];f+=2}}}return null}(Fn(),a)}const ea="__parameters__";function lo(a,u,l){return We(()=>{const d=function(a){return function(...l){if(a){const d=a(...l);for(const f in d)this[f]=d[f]}}}(u);function f(...y){if(this instanceof f)return d.apply(this,y),this;const v=new f(...y);return w.annotation=v,w;function w(D,S,R){const O=D.hasOwnProperty(ea)?D[ea]:Object.defineProperty(D,ea,{value:[]})[ea];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(v),D}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class vn{constructor(u,l){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=gn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sd=new vn("AnalyzeForEntryComponents"),_i=Function;function kr(a,u){void 0===u&&(u=a);for(let l=0;l<a.length;l++){let d=a[l];Array.isArray(d)?(u===a&&(u=a.slice(0,l)),kr(d,u)):u!==a&&u.push(d)}return u}function Fr(a,u){a.forEach(l=>Array.isArray(l)?Fr(l,u):u(l))}function mr(a,u,l){u>=a.length?a.push(l):a.splice(u,0,l)}function Ts(a,u){return u>=a.length-1?a.pop():a.splice(u,1)[0]}function yr(a,u,l){let d=Is(a,u);return d>=0?a[1|d]=l:(d=~d,function(a,u,l,d){let f=a.length;if(f==u)a.push(l,d);else if(1===f)a.push(d,a[0]),a[0]=l;else{for(f--,a.push(a[f-1],a[f]);f>u;)a[f]=a[f-2],f--;a[u]=l,a[u+1]=d}}(a,d,u,l)),d}function jf(a,u){const l=Is(a,u);if(l>=0)return a[1|l]}function Is(a,u){return function(a,u,l){let d=0,f=a.length>>l;for(;f!==d;){const y=d+(f-d>>1),v=a[y<<l];if(u===v)return y<<l;v>u?f=y:d=y+1}return~(f<<l)}(a,u,1)}const Pi={},Ss="__NG_DI_FLAG__",Qr="ngTempTokenPath",Gf=/\n/gm,Cl="__source",Tl=H({provide:String,useValue:H});let ia;function As(a){const u=ia;return ia=a,u}function ho(a,u=xe.Default){if(void 0===ia)throw new Error("inject() must be called from an injection context");return null===ia?Kt(a,void 0,u):ia.get(a,u&xe.Optional?null:void 0,u)}function hn(a,u=xe.Default){return(Gt||ho)(ne(a),u)}function fo(a){const u=[];for(let l=0;l<a.length;l++){const d=ne(a[l]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let f,y=xe.Default;for(let v=0;v<d.length;v++){const w=d[v],D=Wf(w);"number"==typeof D?-1===D?f=w.token:y|=D:f=w}u.push(hn(f,y))}else u.push(hn(d))}return u}function Rs(a,u){return a[Ss]=u,a.prototype[Ss]=u,a}function Wf(a){return a[Ss]}function hd(a,u,l,d){const f=a[Qr];throw u[Cl]&&f.unshift(u[Cl]),a.message=function(a,u,l,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=j(u);if(Array.isArray(u))f=u.map(j).join(" -> ");else if("object"==typeof u){let y=[];for(let v in u)if(u.hasOwnProperty(v)){let w=u[v];y.push(v+":"+("string"==typeof w?JSON.stringify(w):j(w)))}f=`{${y.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${a.replace(Gf,"\n  ")}`}("\n"+a.message,f,l,d),a.ngTokenPath=f,a[Qr]=null,a}const sa=Rs(lo("Inject",a=>({token:a})),-1),xs=Rs(lo("Optional"),8),Ns=Rs(lo("SkipSelf"),4);let po,md;function Ms(a){var u;return(null===(u=function(){if(void 0===po&&(po=null,V.trustedTypes))try{po=V.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return po}())||void 0===u?void 0:u.createHTML(a))||a}function Nm(a){var u;return(null===(u=function(){if(void 0===md&&(md=null,V.trustedTypes))try{md=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return md}())||void 0===u?void 0:u.createHTML(a))||a}class eu{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class go extends eu{getTypeName(){return"HTML"}}class Lv extends eu{getTypeName(){return"Style"}}class lC extends eu{getTypeName(){return"Script"}}class Il extends eu{getTypeName(){return"URL"}}class Mm extends eu{getTypeName(){return"ResourceURL"}}function vi(a){return a instanceof eu?a.changingThisBreaksApplicationSecurity:a}function aa(a,u){const l=Om(a);if(null!=l&&l!==u){if("ResourceURL"===l&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===u}function Om(a){return a instanceof eu&&a.getTypeName()||null}function vd(a){return new go(a)}function Vv(a){return new Lv(a)}function Pm(a){return new lC(a)}function np(a){return new Il(a)}function Uv(a){return new Mm(a)}class km{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const l=(new window.DOMParser).parseFromString(Ms(u),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(u):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Bv{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(u){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ms(u),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Ms(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(u){const l=u.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&u.removeAttribute(v)}let d=u.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Lm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nu(a){return(a=String(a)).match(Lm)||a.match(jv)?a:"unsafe:"+a}function Jr(a){const u={};for(const l of a.split(","))u[l]=!0;return u}function bd(...a){const u={};for(const l of a)for(const d in l)l.hasOwnProperty(d)&&(u[d]=!0);return u}const $v=Jr("area,br,col,hr,img,wbr"),wd=Jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ip=Jr("rp,rt"),Cd=bd($v,bd(wd,Jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bd(ip,Jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bd(ip,wd)),Vm=Jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Td=Jr("srcset"),Um=bd(Vm,Td,Jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sp=Jr("script,style,template");class hC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let l=u.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(u){const l=u.nodeName.toLowerCase();if(!Cd.hasOwnProperty(l))return this.sanitizedSomething=!0,!sp.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=u.attributes;for(let f=0;f<d.length;f++){const y=d.item(f),v=y.name,w=v.toLowerCase();if(!Um.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=y.value;Vm[w]&&(D=nu(D)),Td[w]&&(a=D,D=(a=String(a)).split(",").map(u=>nu(u.trim())).join(", ")),this.buf.push(" ",v,'="',Id(D),'"')}var a;return this.buf.push(">"),!0}endElement(u){const l=u.nodeName.toLowerCase();Cd.hasOwnProperty(l)&&!$v.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(u){this.buf.push(Id(u))}checkClobberedElement(u,l){if(l&&(u.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return l}}const Bm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dl=/([^\#-~ |!])/g;function Id(a){return a.replace(/&/g,"&amp;").replace(Bm,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Dl,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dd;function Sl(a,u){let l=null;try{Dd=Dd||function(a){const u=new Bv(a);return function(){try{return!!(new window.DOMParser).parseFromString(Ms(""),"text/html")}catch(a){return!1}}()?new km(u):u}(a);let d=u?String(u):"";l=Dd.getInertBodyElement(d);let f=5,y=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=y,y=l.innerHTML,l=Dd.getInertBodyElement(d)}while(d!==y);return Ms((new hC).sanitizeChildren(Sd(l)||l))}finally{if(l){const d=Sd(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Sd(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function op(a){const u=ru();return u?Nm(u.sanitize(In.HTML,a)||""):aa(a,"HTML")?Nm(vi(a)):Sl(ll(),Ue(a))}function mo(a){const u=ru();return u?u.sanitize(In.URL,a)||"":aa(a,"URL")?vi(a):nu(Ue(a))}function ru(){const a=Se();return a&&a[12]}const up="__ngContext__";function Zt(a,u){a[up]=u}function Rl(a){const u=function(a){return a[up]||null}(a);return u?Array.isArray(u)?u:u.lView:null}function P(a){return a.ngOriginalError}function be(a,...u){a.error(...u)}class Le{constructor(){this._console=console}handleError(u){const l=this._findOriginalError(u),d=this._findContext(u),f=(a=u)&&a.ngErrorLogger||be;var a;f(this._console,"ERROR",u),l&&f(this._console,"ORIGINAL ERROR",l),d&&f(this._console,"ERROR CONTEXT",d)}_findContext(u){return u?u.ngDebugContext||this._findContext(P(u)):null}_findOriginalError(u){let l=u&&P(u);for(;l&&P(l);)l=P(l);return l||null}}const zm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Fi(a){return a instanceof Function?a():a}var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();function hp(a,u){return undefined(a,u)}function Nd(a){const u=a[3];return Tn(u)?u[3]:u}function Km(a){return Ym(a[13])}function Jv(a){return Ym(a[4])}function Ym(a){for(;null!==a&&!Tn(a);)a=a[4];return a}function pp(a,u,l,d,f){if(null!=d){let y,v=!1;Tn(d)?y=d:xi(d)&&(v=!0,d=d[0]);const w=cn(d);0===a&&null!==l?null==f?iE(u,l,w):da(u,l,w,f||null,!0):1===a&&null!==l?da(u,l,w,f||null,!0):2===a?function(a,u,l){const d=ny(a,u);d&&function(a,u,l,d){ln(a)?a.removeChild(u,l,d):u.removeChild(l)}(a,d,u,l)}(u,w,v):3===a&&u.destroyNode(w),null!=y&&function(a,u,l,d,f){const y=l[7];y!==cn(l)&&pp(u,a,d,y,f);for(let w=10;w<l.length;w++){const D=l[w];kd(D[1],D,a,u,d,y)}}(u,a,y,l,f)}}function Jm(a,u,l){return ln(a)?a.createElement(u,l):null===l?a.createElement(u):a.createElementNS(l,u)}function nE(a,u){const l=a[9],d=l.indexOf(u),f=u[3];1024&u[2]&&(u[2]&=-1025,Cf(f,-1)),l.splice(d,1)}function bo(a,u){if(a.length<=10)return;const l=10+u,d=a[l];if(d){const f=d[17];null!==f&&f!==a&&nE(f,d),u>0&&(a[l-1][4]=d[4]);const y=Ts(a,10+u);!function(a,u){kd(a,u,u[11],2,null,null),u[0]=null,u[6]=null}(d[1],d);const v=y[19];null!==v&&v.detachView(y[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function rE(a,u){if(!(256&u[2])){const l=u[11];ln(l)&&l.destroyNode&&kd(a,u,l,3,null,null),function(a){let u=a[13];if(!u)return ey(a[1],a);for(;u;){let l=null;if(xi(u))l=u[13];else{const d=u[10];d&&(l=d)}if(!l){for(;u&&!u[4]&&u!==a;)xi(u)&&ey(u[1],u),u=u[3];null===u&&(u=a),xi(u)&&ey(u[1],u),l=u&&u[4]}u=l}}(u)}}function ey(a,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(a,u){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let d=0;d<l.length;d+=2){const f=u[l[d]];if(!(f instanceof Ki)){const y=l[d+1];if(Array.isArray(y))for(let v=0;v<y.length;v+=2){const w=f[y[v]],D=y[v+1];try{D.call(w)}finally{}}else try{y.call(f)}finally{}}}}(a,u),function(a,u){const l=a.cleanup,d=u[7];let f=-1;if(null!==l)for(let y=0;y<l.length-1;y+=2)if("string"==typeof l[y]){const v=l[y+1],w="function"==typeof v?v(u):cn(u[v]),D=d[f=l[y+2]],S=l[y+3];"boolean"==typeof S?w.removeEventListener(l[y],D,S):S>=0?d[f=S]():d[f=-S].unsubscribe(),y+=2}else{const v=d[f=l[y+1]];l[y].call(v)}if(null!==d){for(let y=f+1;y<d.length;y++)d[y]();u[7]=null}}(a,u),1===u[1].type&&ln(u[11])&&u[11].destroy();const l=u[17];if(null!==l&&Tn(u[3])){l!==u[3]&&nE(l,u);const d=u[19];null!==d&&d.detachView(a)}}}function Od(a,u,l){return function(a,u,l){let d=u;for(;null!==d&&40&d.type;)d=(u=d).parent;if(null===d)return l[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return Kr(d,l)}(a,u.parent,l)}function da(a,u,l,d,f){ln(a)?a.insertBefore(u,l,d,f):u.insertBefore(l,d,f)}function iE(a,u,l){ln(a)?a.appendChild(u,l):u.appendChild(l)}function mp(a,u,l,d,f){null!==d?da(a,u,l,d,f):iE(a,u,l)}function ny(a,u){return ln(a)?a.parentNode(u):u.parentNode}let aE=function(a,u,l){return 40&a.type?Kr(a,l):null};function kl(a,u,l,d){const f=Od(a,d,u),y=u[11],w=function(a,u,l){return aE(a,u,l)}(d.parent||u[6],d,u);if(null!=f)if(Array.isArray(l))for(let D=0;D<l.length;D++)mp(y,f,l[D],w,!1);else mp(y,f,l,w,!1)}function iy(a,u){if(null!==u){const l=u.type;if(3&l)return Kr(u,a);if(4&l)return uE(-1,a[u.index]);if(8&l){const d=u.child;if(null!==d)return iy(a,d);{const f=a[u.index];return Tn(f)?uE(-1,f):cn(f)}}if(32&l)return hp(u,a)()||cn(a[u.index]);{const d=EC(a,u);return null!==d?Array.isArray(d)?d[0]:iy(Nd(a[16]),d):iy(a,u.next)}}return null}function EC(a,u){return null!==u?a[16][6].projection[u.projection]:null}function uE(a,u){const l=10+a+1;if(l<u.length){const d=u[l],f=d[1].firstChild;if(null!==f)return iy(d,f)}return u[7]}function Pd(a,u,l,d,f,y,v){for(;null!=l;){const w=d[l.index],D=l.type;if(v&&0===u&&(w&&Zt(cn(w),d),l.flags|=4),64!=(64&l.flags))if(8&D)Pd(a,u,l.child,d,f,y,!1),pp(u,a,f,w,y);else if(32&D){const S=hp(l,d);let R;for(;R=S();)pp(u,a,f,R,y);pp(u,a,f,w,y)}else 16&D?wC(a,u,d,l,f,y):pp(u,a,f,w,y);l=v?l.projectionNext:l.next}}function kd(a,u,l,d,f,y){Pd(l,d,a.firstChild,u,f,y,!1)}function wC(a,u,l,d,f,y){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)pp(u,a,f,D[S],y);else Pd(a,u,D,v[3],f,y,!0)}function TC(a,u,l){ln(a)?a.setAttribute(u,"style",l):u.style.cssText=l}function cE(a,u,l){ln(a)?""===l?a.removeAttribute(u,"class"):a.setAttribute(u,"class",l):u.className=l}function IC(a,u,l){let d=a.length;for(;;){const f=a.indexOf(u,l);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const y=u.length;if(f+y===d||a.charCodeAt(f+y)<=32)return f}l=f+1}}const DC="ng-template";function sy(a,u,l){let d=0;for(;d<a.length;){let f=a[d++];if(l&&"class"===f){if(f=a[d],-1!==IC(f.toLowerCase(),u,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===u)return!0;return!1}}return!1}function SC(a){return 4===a.type&&a.value!==DC}function Fl(a,u,l){return u===(4!==a.type||l?a.value:DC)}function dE(a,u,l){let d=4;const f=a.attrs||[],y=function(a){for(let u=0;u<a.length;u++)if(Mf(a[u]))return u;return a.length}(f);let v=!1;for(let w=0;w<u.length;w++){const D=u[w];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!Fl(a,D,l)||""===D&&1===u.length){if(Li(d))return!1;v=!0}}else{const S=8&d?D:u[++w];if(8&d&&null!==a.attrs){if(!sy(a.attrs,S,l)){if(Li(d))return!1;v=!0}continue}const O=oy(8&d?"class":D,f,SC(a),l);if(-1===O){if(Li(d))return!1;v=!0;continue}if(""!==S){let k;k=O>y?"":f[O+1].toLowerCase();const B=8&d?k:null;if(B&&-1!==IC(B,S,0)||2&d&&S!==k){if(Li(d))return!1;v=!0}}}}else{if(!v&&!Li(d)&&!Li(D))return!1;if(v&&Li(D))continue;v=!1,d=D|1&d}}return Li(d)||v}function Li(a){return 0==(1&a)}function oy(a,u,l,d){if(null===u)return-1;let f=0;if(d||!l){let y=!1;for(;f<u.length;){const v=u[f];if(v===a)return f;if(3===v||6===v)y=!0;else{if(1===v||2===v){let w=u[++f];for(;"string"==typeof w;)w=u[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=y?1:2}return-1}return function(a,u){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const d=a[l];if("number"==typeof d)return-1;if(d===u)return l;l++}return-1}(u,a)}function AC(a,u,l=!1){for(let d=0;d<u.length;d++)if(dE(a,u[d],l))return!0;return!1}function ay(a,u){return a?":not("+u.trim()+")":u}function lA(a){let u=a[0],l=1,d=2,f="",y=!1;for(;l<a.length;){let v=a[l];if("string"==typeof v)if(2&d){const w=a[++l];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Li(v)&&(u+=ay(y,f),f=""),d=v,y=y||!Li(d);l++}return""!==f&&(u+=ay(y,f)),u}const ft={};function RC(a){fE(Rt(),Se(),er()+a,Ko())}function fE(a,u,l,d){if(!d)if(3==(3&u[2])){const y=a.preOrderCheckHooks;null!==y&&Yo(u,y,l)}else{const y=a.preOrderHooks;null!==y&&Kc(u,y,0,l)}Or(l)}function ly(a,u){return a<<17|u<<2}function Co(a){return a>>17&32767}function pE(a){return 2|a}function ou(a){return(131068&a)>>2}function gE(a,u){return-131069&a|u<<2}function dy(a){return 1|a}function vp(a,u){const l=a.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],y=l[d+1];if(-1!==y){const v=a.data[y];mm(f),v.contentQueries(2,u[y],y)}}}function Ll(a,u,l,d,f,y,v,w,D,S){const R=u.blueprint.slice();return R[0]=f,R[2]=140|d,qc(R),R[3]=R[15]=a,R[8]=l,R[10]=v||a&&a[10],R[11]=w||a&&a[11],R[12]=D||a&&a[12]||null,R[9]=S||a&&a[9]||null,R[6]=y,R[16]=2==u.type?a[16]:R,R}function Ld(a,u,l,d,f){let y=a.data[u];if(null===y)y=function(a,u,l,d,f){const y=Zc(),v=Df(),D=a.data[u]=function(a,u,l,d,f,y){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?y:y&&y.parent,l,u,d,f);return null===a.firstChild&&(a.firstChild=D),null!==y&&(v?null==y.child&&null!==D.parent&&(y.child=D):null===y.next&&(y.next=D)),D}(a,u,l,d,f),ct.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=l,y.value=d,y.attrs=f;const v=function(){const a=ct.lFrame,u=a.currentTNode;return a.isParent?u:u.parent}();y.injectorIndex=null===v?-1:v.injectorIndex}return gi(y,!0),y}function Vl(a,u,l,d){if(0===l)return-1;const f=u.length;for(let y=0;y<l;y++)u.push(d),a.blueprint.push(d),a.data.push(null);return f}function Vd(a,u,l){pl(u);try{const d=a.viewQuery;null!==d&&by(1,d,l);const f=a.template;null!==f&&TE(a,u,f,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&vp(a,u),a.staticViewQueries&&by(2,a.viewQuery,l);const y=a.components;null!==y&&function(a,u){for(let l=0;l<u.length;l++)eT(a,u[l])}(u,y)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{u[2]&=-5,_m()}}function Ud(a,u,l,d){const f=u[2];if(256==(256&f))return;pl(u);const y=Ko();try{qc(u),function(a){ct.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&TE(a,u,l,2,d);const v=3==(3&f);if(!y)if(v){const S=a.preOrderCheckHooks;null!==S&&Yo(u,S,null)}else{const S=a.preOrderHooks;null!==S&&Kc(u,S,0,null),vm(u,0)}if(function(a){for(let u=Km(a);null!==u;u=Jv(u)){if(!u[2])continue;const l=u[9];for(let d=0;d<l.length;d++){const f=l[d],y=f[3];0==(1024&f[2])&&Cf(y,1),f[2]|=1024}}}(u),function(a){for(let u=Km(a);null!==u;u=Jv(u))for(let l=10;l<u.length;l++){const d=u[l],f=d[1];wf(d)&&Ud(f,d,f.template,d[8])}}(u),null!==a.contentQueries&&vp(a,u),!y)if(v){const S=a.contentCheckHooks;null!==S&&Yo(u,S)}else{const S=a.contentHooks;null!==S&&Kc(u,S,1),vm(u,1)}!function(a,u){const l=a.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Or(~f);else{const y=f,v=l[++d],w=l[++d];fl(v,y),w(2,u[y])}}}finally{Or(-1)}}(a,u);const w=a.components;null!==w&&function(a,u){for(let l=0;l<u.length;l++)kA(a,u[l])}(u,w);const D=a.viewQuery;if(null!==D&&by(2,D,d),!y)if(v){const S=a.viewCheckHooks;null!==S&&Yo(u,S)}else{const S=a.viewHooks;null!==S&&Kc(u,S,2),vm(u,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),y||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Cf(u[3],-1))}finally{_m()}}function vA(a,u,l,d){const f=u[10],y=!Ko(),v=cl(u);try{y&&!v&&f.begin&&f.begin(),v&&Vd(a,u,d),Ud(a,u,l,d)}finally{y&&!v&&f.end&&f.end()}}function TE(a,u,l,d,f){const y=er(),v=2&d;try{Or(-1),v&&u.length>20&&fE(a,u,20,Ko()),l(d,f)}finally{Or(y)}}function $C(a,u,l){if(pi(u)){const f=u.directiveEnd;for(let y=u.directiveStart;y<f;y++){const v=a.data[y];v.contentQueries&&v.contentQueries(1,l[y],y)}}}function IE(a,u,l){!Tf()||(function(a,u,l,d){const f=l.directiveStart,y=l.directiveEnd;a.firstCreatePass||ht(l,u),Zt(d,u);const v=l.initialInputs;for(let w=f;w<y;w++){const D=a.data[w],S=Ni(D);S&&NA(u,l,D);const R=yi(u,a,w,l);Zt(R,u),null!==v&&MA(0,w-f,R,D,0,v),S&&(gr(l.index,u)[8]=R)}}(a,u,l,Kr(l,u)),128==(128&l.flags)&&function(a,u,l){const d=l.directiveStart,f=l.directiveEnd,v=l.index,w=ct.lFrame.currentDirectiveIndex;try{Or(v);for(let D=d;D<f;D++){const S=a.data[D],R=u[D];so(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&AE(S,R)}}finally{Or(-1),so(w)}}(a,u,l))}function my(a,u,l=Kr){const d=u.localNames;if(null!==d){let f=u.index+1;for(let y=0;y<d.length;y+=2){const v=d[y+1],w=-1===v?l(u,a):a[v];a[f++]=w}}}function yy(a){const u=a.tView;return null===u||u.incompleteFirstPass?a.tView=Ep(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):u}function Ep(a,u,l,d,f,y,v,w,D,S){const R=20+d,O=R+f,k=function(a,u){const l=[];for(let d=0;d<u;d++)l.push(d<a?null:ft);return l}(R,O),B="function"==typeof S?S():S;return k[1]={type:a,blueprint:k,template:l,queries:null,viewQuery:w,declTNode:u,data:k.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:B,incompleteFirstPass:!1}}function qC(a,u,l,d){const f=nT(u);null===l?f.push(d):(f.push(l),a.firstCreatePass&&rT(a).push(d,f.length-1))}function ZC(a,u,l){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(u,f):l[d]=[u,f]}return l}function bi(a,u,l,d,f,y,v,w){const D=Kr(u,l);let R,S=u.inputs;!w&&null!=S&&(R=S[d])?(BA(a,l,R,d,f),Nc(u)&&function(a,u){const l=gr(u,a);16&l[2]||(l[2]|=64)}(l,u.index)):3&u.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,u.value||"",d):f,ln(y)?y.setProperty(D,d,f):Qc(d)||(D.setProperty?D.setProperty(d,f):D[d]=f))}function DE(a,u,l,d){let f=!1;if(Tf()){const y=function(a,u,l){const d=a.directiveRegistry;let f=null;if(d)for(let y=0;y<d.length;y++){const v=d[y];AC(l,v.selectors,!1)&&(f||(f=[]),ed(ht(l,u),a,v.type),Ni(v)?(RE(a,l),f.unshift(v)):f.push(v))}return f}(a,u,l),v=null===d?null:{"":-1};if(null!==y){f=!0,KC(l,a.data.length,y.length);for(let R=0;R<y.length;R++){const O=y[R];O.providersResolver&&O.providersResolver(O)}let w=!1,D=!1,S=Vl(a,u,y.length,null);for(let R=0;R<y.length;R++){const O=y[R];l.mergedAttrs=Of(l.mergedAttrs,O.hostAttrs),YC(a,l,u,S,O),WC(S,O,v),null!==O.contentQueries&&(l.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=128);const k=O.type.prototype;!w&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),w=!0),!D&&(k.ngOnChanges||k.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),D=!0),S++}!function(a,u){const d=u.directiveEnd,f=a.data,y=u.attrs,v=[];let w=null,D=null;for(let S=u.directiveStart;S<d;S++){const R=f[S],O=R.inputs,k=null===y||SC(u)?null:OA(O,y);v.push(k),w=ZC(O,S,w),D=ZC(R.outputs,S,D)}null!==w&&(w.hasOwnProperty("class")&&(u.flags|=16),w.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=v,u.inputs=w,u.outputs=D}(a,l)}v&&function(a,u,l){if(u){const d=a.localNames=[];for(let f=0;f<u.length;f+=2){const y=l[u[f+1]];if(null==y)throw new Me("301",`Export of name '${u[f+1]}' not found!`);d.push(u[f],y)}}}(l,d,v)}return l.mergedAttrs=Of(l.mergedAttrs,l.attrs),f}function SE(a,u,l,d,f,y){const v=y.hostBindings;if(v){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const D=~u.index;(function(a){let u=a.length;for(;u>0;){const l=a[--u];if("number"==typeof l&&l<0)return l}return 0})(w)!=D&&w.push(D),w.push(d,f,v)}}function AE(a,u){null!==a.hostBindings&&a.hostBindings(1,u)}function RE(a,u){u.flags|=2,(a.components||(a.components=[])).push(u.index)}function WC(a,u,l){if(l){if(u.exportAs)for(let d=0;d<u.exportAs.length;d++)l[u.exportAs[d]]=a;Ni(u)&&(l[""]=a)}}function KC(a,u,l){a.flags|=1,a.directiveStart=u,a.directiveEnd=u+l,a.providerIndexes=u}function YC(a,u,l,d,f){a.data[d]=f;const y=f.factory||(f.factory=Js(f.type)),v=new Ki(y,Ni(f),null);a.blueprint[d]=v,l[d]=v,SE(a,u,0,d,Vl(a,l,f.hostVars,ft),f)}function NA(a,u,l){const d=Kr(u,a),f=yy(l),y=a[10],v=ot(a,Ll(a,f,null,l.onPush?64:16,d,u,y,y.createRenderer(d,l),null,null));a[u.index]=v}function To(a,u,l,d,f,y){const v=Kr(a,u);!function(a,u,l,d,f,y,v){if(null==y)ln(a)?a.removeAttribute(u,f,l):u.removeAttribute(f);else{const w=null==v?Ue(y):v(y,d||"",f);ln(a)?a.setAttribute(u,f,w,l):l?u.setAttributeNS(l,f,w):u.setAttribute(f,w)}}(u[11],v,y,a.value,l,d,f)}function MA(a,u,l,d,f,y){const v=y[u];if(null!==v){const w=d.setInput;for(let D=0;D<v.length;){const S=v[D++],R=v[D++],O=v[D++];null!==w?d.setInput(l,O,S,R):l[R]=O}}}function OA(a,u){let l=null,d=0;for(;d<u.length;){const f=u[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,a[f],u[d+1])),d+=2}else d+=2;else d+=4}return l}function NE(a,u,l,d){return new Array(a,!0,!1,u,null,0,d,l,null,null)}function kA(a,u){const l=gr(u,a);if(wf(l)){const d=l[1];80&l[2]?Ud(d,l,d.template,l[8]):l[5]>0&&XC(l)}}function XC(a){for(let d=Km(a);null!==d;d=Jv(d))for(let f=10;f<d.length;f++){const y=d[f];if(1024&y[2]){const v=y[1];Ud(v,y,v.template,y[8])}else y[5]>0&&XC(y)}const l=a[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=gr(l[d],a);wf(f)&&f[5]>0&&XC(f)}}function eT(a,u){const l=gr(u,a),d=l[1];(function(a,u){for(let l=u.length;l<a.blueprint.length;l++)u.push(a.blueprint[l])})(d,l),Vd(d,l,l[8])}function ot(a,u){return a[13]?a[14][4]=u:a[13]=u,a[14]=u,u}function ME(a){for(;a;){a[2]|=64;const u=Nd(a);if(gf(a)&&!u)return a;a=u}return null}function Zn(a,u,l){const d=u[10];d.begin&&d.begin();try{Ud(a,u,a.template,l)}catch(f){throw iT(u,f),f}finally{d.end&&d.end()}}function tT(a){!function(a){for(let u=0;u<a.components.length;u++){const l=a.components[u],d=Rl(l),f=d[1];vA(f,d,f.template,l)}}(a[8])}function by(a,u,l){mm(0),u(a,l)}const UA=(()=>Promise.resolve(null))();function nT(a){return a[7]||(a[7]=[])}function rT(a){return a.cleanup||(a.cleanup=[])}function iT(a,u){const l=a[9],d=l?l.get(Le,null):null;d&&d.handleError(u)}function BA(a,u,l,d,f){for(let y=0;y<l.length;){const v=l[y++],w=l[y++],D=u[v],S=a.data[v];null!==S.setInput?S.setInput(D,f,d,w):D[w]=f}}function Ji(a,u,l){const d=$c(u,a);!function(a,u,l){ln(a)?a.setValue(u,l):u.textContent=l}(a[11],d,l)}function ei(a,u,l){let d=l?a.styles:null,f=l?a.classes:null,y=0;if(null!==u)for(let v=0;v<u.length;v++){const w=u[v];"number"==typeof w?y=w:1==y?f=W(f,w):2==y&&(d=W(d,w+": "+u[++v]+";"))}l?a.styles=d:a.stylesWithoutHost=d,l?a.classes=f:a.classesWithoutHost=f}const bp=new vn("INJECTOR",-1);class PE{get(u,l=Pi){if(l===Pi){const d=new Error(`NullInjectorError: No provider for ${j(u)}!`);throw d.name="NullInjectorError",d}return l}}const Xi=new vn("Set Injector scope."),Ul={},$A={};let kE;function FE(){return void 0===kE&&(kE=new PE),kE}function sT(a,u=null,l=null,d){return new oT(a,l,u||FE(),d)}class oT{constructor(u,l,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];l&&Fr(l,w=>this.processProvider(w,u,l)),Fr([u],w=>this.processInjectorType(w,[],y)),this.records.set(bp,es(void 0,this));const v=this.records.get(Xi);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof u?null:j(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,l=Pi,d=xe.Default){this.assertNotDestroyed();const f=As(this),y=an(void 0);try{if(!(d&xe.SkipSelf)){let w=this.records.get(u);if(void 0===w){const D=("function"==typeof(a=u)||"object"==typeof a&&a instanceof vn)&&or(u);w=D&&this.injectableDefInScope(D)?es(LE(u),Ul):null,this.records.set(u,w)}if(null!=w)return this.hydrate(u,w)}return(d&xe.Self?FE():this.parent).get(u,l=d&xe.Optional&&l===Pi?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Qr]=v[Qr]||[]).unshift(j(u)),f)throw v;return hd(v,u,"R3InjectorError",this.source)}throw v}finally{an(y),As(f)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((d,f)=>u.push(j(f))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,l,d){if(!(u=ne(u)))return!1;let f=ys(u);const y=null==f&&u.ngModule||void 0,v=void 0===y?u:y,w=-1!==d.indexOf(v);if(void 0!==y&&(f=ys(y)),null==f)return!1;if(null!=f.imports&&!w){let R;d.push(v);try{Fr(f.imports,O=>{this.processInjectorType(O,l,d)&&(void 0===R&&(R=[]),R.push(O))})}finally{}if(void 0!==R)for(let O=0;O<R.length;O++){const{ngModule:k,providers:B}=R[O];Fr(B,z=>this.processProvider(z,k,B||Te))}}this.injectorDefTypes.add(v);const D=Js(v)||(()=>new v);this.records.set(v,es(D,Ul));const S=f.providers;if(null!=S&&!w){const R=u;Fr(S,O=>this.processProvider(O,R,S))}return void 0!==y&&void 0!==u.providers}processProvider(u,l,d){let f=Bl(u=ne(u))?u:ne(u&&u.provide);const y=UE(a=u)?es(void 0,a.useValue):es(VE(a),Ul);var a;if(Bl(u)||!0!==u.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=es(void 0,Ul,!0),v.factory=()=>fo(v.multi),this.records.set(f,v)),f=u,v.multi.push(u)}this.records.set(f,y)}hydrate(u,l){return l.value===Ul&&(l.value=$A,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(a=l.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var a}injectableDefInScope(u){if(!u.providedIn)return!1;const l=ne(u.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function LE(a){const u=or(a),l=null!==u?u.factory:Js(a);if(null!==l)return l;if(a instanceof vn)throw new Error(`Token ${j(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const u=a.length;if(u>0){const d=function(a,u){const l=[];for(let d=0;d<a;d++)l.push(u);return l}(u,"?");throw new Error(`Can't resolve all parameters for ${j(a)}: (${d.join(", ")}).`)}const l=function(a){const u=a&&(a[$n]||a[ci]);if(u){const l=function(a){if(a.hasOwnProperty("name"))return a.name;const u=(""+a).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),u}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new Error("unreachable")}function VE(a,u,l){let d;if(Bl(a)){const f=ne(a);return Js(f)||LE(f)}if(UE(a))d=()=>ne(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...fo(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>hn(ne(a.useExisting));else{const f=ne(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Js(f)||LE(f);d=()=>new f(...fo(a.deps))}return d}function es(a,u,l=!1){return{factory:a,value:u,multi:l?[]:void 0}}function UE(a){return null!==a&&"object"==typeof a&&Tl in a}function Bl(a){return"function"==typeof a}const jE=function(a,u,l){return function(a,u=null,l=null,d){const f=sT(a,u,l,d);return f._resolveInjectorDefTypes(),f}({name:l},u,a,l)};class Yt{static create(u,l){return Array.isArray(u)?jE(u,l,""):jE(u.providers,u.parent,u.name||"")}}function JA(a,u){Wc(Rl(a)[1],Fn())}function Dy(a){let u=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const d=[a];for(;u;){let f;if(Ni(a))f=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");f=u.\u0275dir}if(f){if(l){d.push(f);const v=a;v.inputs=Sy(a.inputs),v.declaredInputs=Sy(a.declaredInputs),v.outputs=Sy(a.outputs);const w=f.hostBindings;w&&vT(a,w);const D=f.viewQuery,S=f.contentQueries;if(D&&WE(a,D),S&&Ay(a,S),G(a.inputs,f.inputs),G(a.declaredInputs,f.declaredInputs),G(a.outputs,f.outputs),Ni(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let v=0;v<y.length;v++){const w=y[v];w&&w.ngInherit&&w(a),w===Dy&&(l=!1)}}u=Object.getPrototypeOf(u)}!function(a){let u=0,l=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=u+=f.hostVars,f.hostAttrs=Of(f.hostAttrs,l=Of(l,f.hostAttrs))}}(d)}function Sy(a){return a===J?{}:a===Te?[]:a}function WE(a,u){const l=a.viewQuery;a.viewQuery=l?(d,f)=>{u(d,f),l(d,f)}:u}function Ay(a,u){const l=a.contentQueries;a.contentQueries=l?(d,f,y)=>{u(d,f,y),l(d,f,y)}:u}function vT(a,u){const l=a.hostBindings;a.hostBindings=l?(d,f)=>{u(d,f),l(d,f)}:u}Yt.THROW_IF_NOT_FOUND=Pi,Yt.NULL=new PE,Yt.\u0275prov=gn({token:Yt,providedIn:"any",factory:()=>hn(bp)}),Yt.__NG_ELEMENT_ID__=-1;let Tp=null;function $l(){if(!Tp){const a=V.Symbol;if(a&&a.iterator)Tp=a.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<u.length;++l){const d=u[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Tp=d)}}}return Tp}function zd(a){return!!QE(a)&&(Array.isArray(a)||!(a instanceof Map)&&$l()in a)}function QE(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Er(a,u,l){return!Object.is(a[u],l)&&(a[u]=l,!0)}function xy(a,u,l,d){const f=Se();return Er(f,io(),u)&&(Rt(),To(dn(),f,a,u,l,d)),xy}function uu(a,u,l,d){return Er(a,io(),l)?u+Ue(l)+d:ft}function Ny(a,u,l,d,f,y,v,w){const D=Se(),S=Rt(),R=a+20,O=S.firstCreatePass?function(a,u,l,d,f,y,v,w,D){const S=u.consts,R=Ld(u,a,4,v||null,to(S,w));DE(u,l,R,to(S,D)),Wc(u,R);const O=R.tViews=Ep(2,R,d,f,y,u.directiveRegistry,u.pipeRegistry,null,u.schemas,S);return null!==u.queries&&(u.queries.template(u,R),O.queries=u.queries.embeddedTView(R)),R}(R,S,D,u,l,d,f,y,v):S.data[R];gi(O,!1);const k=D[11].createComment("");kl(S,D,k,O),Zt(k,D),ot(D,D[R]=NE(k,D,k,O)),La(O)&&IE(S,D,O),null!=v&&my(D,O,w)}function nh(a,u=xe.Default){const l=Se();return null===l?hn(a,u):Vf(Fn(),l,ne(a),u)}function Fy(a,u,l){const d=Se();return Er(d,io(),u)&&bi(Rt(),dn(),d,a,u,d[11],l,!1),Fy}function Ly(a,u,l,d,f){const v=f?"class":"style";BA(a,l,u.inputs[v],v,d)}function Op(a,u,l,d){const f=Se(),y=Rt(),v=20+a,w=f[11],D=f[v]=Jm(w,u,ct.lFrame.currentNamespace),S=y.firstCreatePass?function(a,u,l,d,f,y,v){const w=u.consts,S=Ld(u,a,2,f,to(w,y));return DE(u,l,S,to(w,v)),null!==S.attrs&&ei(S,S.attrs,!1),null!==S.mergedAttrs&&ei(S,S.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,S),S}(v,y,f,0,u,l,d):y.data[v];gi(S,!0);const R=S.mergedAttrs;null!==R&&uo(w,D,R);const O=S.classes;null!==O&&cE(w,D,O);const k=S.styles;null!==k&&TC(w,D,k),64!=(64&S.flags)&&kl(y,f,D,S),0===ct.lFrame.elementDepthCount&&Zt(D,f),ct.lFrame.elementDepthCount++,La(S)&&(IE(y,f,S),$C(y,S,f)),null!==d&&my(f,S)}function Pp(){let a=Fn();Df()?no():(a=a.parent,gi(a,!1));const u=a;ct.lFrame.elementDepthCount--;const l=Rt();l.firstCreatePass&&(Wc(l,a),pi(a)&&l.queries.elementEnd(a)),null!=u.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(u)&&Ly(l,u,Se(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(u)&&Ly(l,u,Se(),u.stylesWithoutHost,!1)}function Vy(a,u,l,d){Op(a,u,l,d),Pp()}function Uy(a,u,l){const d=Se(),f=Rt(),y=a+20,v=f.firstCreatePass?function(a,u,l,d,f){const y=u.consts,v=to(y,d),w=Ld(u,a,8,"ng-container",v);return null!==v&&ei(w,v,!0),DE(u,l,w,to(y,f)),null!==u.queries&&u.queries.elementStart(u,w),w}(y,f,d,u,l):f.data[y];gi(v,!0);const w=d[y]=d[11].createComment("");kl(f,d,w,v),Zt(w,d),La(v)&&(IE(f,d,v),$C(f,v,d)),null!=l&&my(d,v)}function yb(){let a=Fn();const u=Rt();Df()?no():(a=a.parent,gi(a,!1)),u.firstCreatePass&&(Wc(u,a),pi(a)&&u.queries.elementEnd(a))}function Fp(){return Se()}function Lp(a){return!!a&&"function"==typeof a.then}function vb(a){return!!a&&"function"==typeof a.subscribe}const By=vb;function jy(a,u,l,d){const f=Se(),y=Rt(),v=Fn();return function(a,u,l,d,f,y,v,w){const D=La(d),R=a.firstCreatePass&&rT(a),O=u[8],k=nT(u);let B=!0;if(3&d.type||w){const ee=Kr(d,u),Oe=w?w(ee):ee,Ce=k.length,rt=w?dt=>w(cn(dt[d.index])):d.index;if(ln(l)){let dt=null;if(!w&&D&&(dt=function(a,u,l,d){const f=a.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const v=f[y];if(v===l&&f[y+1]===d){const w=u[7],D=f[y+2];return w.length>D?w[D]:null}"string"==typeof v&&(y+=2)}return null}(a,u,f,d.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=y,dt.__ngLastListenerFn__=y,B=!1;else{y=Zl(d,u,O,y,!1);const Mt=l.listen(Oe,f,y);k.push(y,Mt),R&&R.push(f,rt,Ce,Ce+1)}}else y=Zl(d,u,O,y,!0),Oe.addEventListener(f,y,v),k.push(y),R&&R.push(f,rt,Ce,v)}else y=Zl(d,u,O,y,!1);const z=d.outputs;let ae;if(B&&null!==z&&(ae=z[f])){const ee=ae.length;if(ee)for(let Oe=0;Oe<ee;Oe+=2){const Kn=u[ae[Oe]][ae[Oe+1]].subscribe(y),gs=k.length;k.push(y,Kn),R&&R.push(f,d.index,gs,-(gs+1))}}}(y,f,f[11],v,a,u,!!l,d),jy}function Up(a,u,l,d){try{return!1!==l(d)}catch(f){return iT(a,f),!1}}function Zl(a,u,l,d,f){return function y(v){if(v===Function)return d;const w=2&a.flags?gr(a.index,u):u;0==(32&u[2])&&ME(w);let D=Up(u,0,d,v),S=y.__ngNextListenerFn__;for(;S;)D=Up(u,0,S,v)&&D,S=S.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function hu(a=1){return function(a){return(ct.lFrame.contextLView=function(a,u){for(;a>0;)u=u[15],a--;return u}(a,ct.lFrame.contextLView))[8]}(a)}function fu(a,u,l){return Bp(a,"",u,"",l),fu}function Bp(a,u,l,d,f){const y=Se(),v=uu(y,u,l,d);return v!==ft&&bi(Rt(),dn(),y,a,v,y[11],f,!1),Bp}function FT(a,u,l,d,f){const y=a[l+1],v=null===u;let w=d?Co(y):ou(y),D=!1;for(;0!==w&&(!1===D||v);){const R=a[w+1];dR(a[w],u)&&(D=!0,a[w+1]=d?dy(R):pE(R)),w=d?Co(R):ou(R)}D&&(a[l+1]=d?pE(y):dy(y))}function dR(a,u){return null===a||null==u||(Array.isArray(a)?a[1]:a)===u||!(!Array.isArray(a)||"string"!=typeof u)&&Is(a,u)>=0}const An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rh(a){return a.substring(An.key,An.keyEnd)}function VT(a,u){const l=An.textEnd;return l===u?-1:(u=An.keyEnd=function(a,u,l){for(;u<l&&a.charCodeAt(u)>32;)u++;return u}(a,An.key=u,l),Ro(a,u,l))}function Ro(a,u,l){for(;u<l&&a.charCodeAt(u)<=32;)u++;return u}function Ib(a,u,l){return Ui(a,u,l,!1),Ib}function Hy(a,u){return Ui(a,u,null,!0),Hy}function Db(a){!function(a,u,l,d){const f=Rt(),y=bs(2);f.firstUpdatePass&&qy(f,null,y,d);const v=Se();if(l!==ft&&Er(v,y,l)){const w=f.data[er()];if(ZT(w,d)&&!Sb(f,y)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(l=W(D,l||"")),Ly(f,w,v,l,d)}else!function(a,u,l,d,f,y,v,w){f===ft&&(f=Te);let D=0,S=0,R=0<f.length?f[0]:null,O=0<y.length?y[0]:null;for(;null!==R||null!==O;){const k=D<f.length?f[D+1]:void 0,B=S<y.length?y[S+1]:void 0;let ae,z=null;R===O?(D+=2,S+=2,k!==B&&(z=O,ae=B)):null===O||null!==R&&R<O?(D+=2,z=R):(S+=2,z=O,ae=B),null!==z&&ih(a,u,l,d,z,ae,v,w),R=D<f.length?f[D]:null,O=S<y.length?y[S]:null}}(f,w,v,v[11],v[y+1],v[y+1]=function(a,u,l){if(null==l||""===l)return Te;const d=[],f=vi(l);if(Array.isArray(f))for(let y=0;y<f.length;y++)a(d,f[y],!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&a(d,y,f[y]);else"string"==typeof f&&u(d,f);return d}(a,u,l),d,y)}}(yr,rs,a,!0)}function rs(a,u){for(let l=function(a){return function(a){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=a.length}(a),VT(a,Ro(a,0,An.textEnd))}(u);l>=0;l=VT(u,l))yr(a,rh(u),!0)}function Ui(a,u,l,d){const f=Se(),y=Rt(),v=bs(2);y.firstUpdatePass&&qy(y,a,v,d),u!==ft&&Er(f,v,u)&&ih(y,y.data[er()],f,f[11],a,f[v+1]=function(a,u){return null==a||("string"==typeof u?a+=u:"object"==typeof a&&(a=j(vi(a)))),a}(u,l),d,v)}function Sb(a,u){return u>=a.expandoStartIndex}function qy(a,u,l,d){const f=a.data;if(null===f[l+1]){const y=f[er()],v=Sb(a,l);ZT(y,d)&&null===u&&!v&&(u=!1),u=function(a,u,l,d){const f=zc(a);let y=d?u.residualClasses:u.residualStyles;if(null===f)0===(d?u.classBindings:u.styleBindings)&&(l=yu(l=Wl(null,a,u,l,d),u.attrs,d),y=null);else{const v=u.directiveStylingLast;if(-1===v||a[v]!==f)if(l=Wl(f,a,u,l,d),null===y){let D=function(a,u,l){const d=l?u.classBindings:u.styleBindings;if(0!==ou(d))return a[Co(d)]}(a,u,d);void 0!==D&&Array.isArray(D)&&(D=Wl(null,a,u,D[1],d),D=yu(D,u.attrs,d),function(a,u,l,d){a[Co(l?u.classBindings:u.styleBindings)]=d}(a,u,d,D))}else y=function(a,u,l){let d;const f=u.directiveEnd;for(let y=1+u.directiveStylingLast;y<f;y++)d=yu(d,a[y].hostAttrs,l);return yu(d,u.attrs,l)}(a,u,d)}return void 0!==y&&(d?u.residualClasses=y:u.residualStyles=y),l}(f,y,u,d),function(a,u,l,d,f,y){let v=y?u.classBindings:u.styleBindings,w=Co(v),D=ou(v);a[d]=l;let R,S=!1;if(Array.isArray(l)){const O=l;R=O[1],(null===R||Is(O,R)>0)&&(S=!0)}else R=l;if(f)if(0!==D){const k=Co(a[w+1]);a[d+1]=ly(k,w),0!==k&&(a[k+1]=gE(a[k+1],d)),a[w+1]=function(a,u){return 131071&a|u<<17}(a[w+1],d)}else a[d+1]=ly(w,0),0!==w&&(a[w+1]=gE(a[w+1],d)),w=d;else a[d+1]=ly(D,0),0===w?w=d:a[D+1]=gE(a[D+1],d),D=d;S&&(a[d+1]=pE(a[d+1])),FT(a,R,d,!0),FT(a,R,d,!1),function(a,u,l,d,f){const y=f?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof u&&Is(y,u)>=0&&(l[d+1]=dy(l[d+1]))}(u,R,a,d,y),v=ly(w,D),y?u.classBindings=v:u.styleBindings=v}(f,y,u,l,v,d)}}function Wl(a,u,l,d,f){let y=null;const v=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<v&&(y=u[w],d=yu(d,y.hostAttrs,f),y!==a);)w++;return null!==a&&(l.directiveStylingLast=w),d}function yu(a,u,l){const d=l?1:2;let f=-1;if(null!==u)for(let y=0;y<u.length;y++){const v=u[y];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),yr(a,v,!!l||u[++y]))}return void 0===a?null:a}function ih(a,u,l,d,f,y,v,w){if(!(3&u.type))return;const D=a.data,S=D[w+1];Rn(function(a){return 1==(1&a)}(S)?qT(D,u,l,f,ou(S),v):void 0)||(Rn(y)||function(a){return 2==(2&a)}(S)&&(y=qT(D,null,l,f,w,v)),function(a,u,l,d,f){const y=ln(a);if(u)f?y?a.addClass(l,d):l.classList.add(d):y?a.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Eo.DashCase;if(null==f)y?a.removeStyle(l,d,v):l.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),v|=Eo.Important),y?a.setStyle(l,d,f,v):l.style.setProperty(d,f,w?"important":"")}}}(d,v,$c(er(),l),f,y))}function qT(a,u,l,d,f,y){const v=null===u;let w;for(;f>0;){const D=a[f],S=Array.isArray(D),R=S?D[1]:D,O=null===R;let k=l[f+1];k===ft&&(k=O?Te:void 0);let B=O?jf(k,d):R===d?k:void 0;if(S&&!Rn(B)&&(B=jf(D,d)),Rn(B)&&(w=B,v))return w;const z=a[f+1];f=v?Co(z):ou(z)}if(null!==u){let D=y?u.residualClasses:u.residualStyles;null!=D&&(w=jf(D,d))}return w}function Rn(a){return void 0!==a}function ZT(a,u){return 0!=(a.flags&(u?16:32))}function zT(a,u=""){const l=Se(),d=Rt(),f=a+20,y=d.firstCreatePass?Ld(d,f,1,u,null):d.data[f],v=l[f]=function(a,u){return ln(a)?a.createText(u):a.createTextNode(u)}(l[11],u);kl(d,l,v,y),gi(y,!1)}function xb(a){return Zy("",a,""),xb}function Zy(a,u,l){const d=Se(),f=uu(d,a,u,l);return f!==ft&&Ji(d,er(),f),Zy}function Yy(a,u,l){const d=Se();return Er(d,io(),u)&&bi(Rt(),dn(),d,a,u,d[11],l,!0),Yy}function vu(a,u,l){const d=Se();if(Er(d,io(),u)){const y=Rt(),v=dn();bi(y,v,d,a,u,function(a,u,l){return(null===a||Ni(a))&&(l=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(l[u.index])),l[11]}(zc(y.data),v,d),l,!0)}return vu}const Eu=void 0;var Qy=["en",[["a","p"],["AM","PM"],Eu],[["AM","PM"],Eu,Eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eu,"{1} 'at' {0}",Eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),l=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Kl={};function Kp(a){const u=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=zb(u);if(l)return l;const d=u.split("-")[0];if(l=zb(d),l)return l;if("en"===d)return Qy;throw new Error(`Missing locale data for the locale "${a}".`)}function sh(a){return Kp(a)[at.PluralCase]}function zb(a){return a in Kl||(Kl[a]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[a]),Kl[a]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const ah="en-US";let Xe=ah;function lt(a){Dt(a,"Expected localeId to be defined"),"string"==typeof a&&(Xe=a.toLowerCase().replace(/_/g,"-"))}function wu(a,u,l,d,f){if(a=ne(a),Array.isArray(a))for(let y=0;y<a.length;y++)wu(a[y],u,l,d,f);else{const y=Rt(),v=Se();let w=Bl(a)?a:ne(a.provide),D=VE(a);const S=Fn(),R=1048575&S.providerIndexes,O=S.directiveStart,k=S.providerIndexes>>20;if(Bl(a)||!a.multi){const B=new Ki(D,f,nh),z=sg(w,u,f?R:R+k,O);-1===z?(ed(ht(S,v),y,w),gh(y,a,u.length),u.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(B),v.push(B)):(l[z]=B,v[z]=B)}else{const B=sg(w,u,R+k,O),z=sg(w,u,R,R+k),ae=B>=0&&l[B],ee=z>=0&&l[z];if(f&&!ee||!f&&!ae){ed(ht(S,v),y,w);const Oe=function(a,u,l,d,f){const y=new Ki(a,l,nh);return y.multi=[],y.index=u,y.componentProviders=0,ig(y,f,d&&!l),y}(f?rw:nw,l.length,f,d,D);!f&&ee&&(l[z].providerFactory=Oe),gh(y,a,u.length,0),u.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(Oe),v.push(Oe)}else gh(y,a,B>-1?B:z,ig(l[f?z:B],D,!f&&d));!f&&d&&ee&&l[z].componentProviders++}}}function gh(a,u,l,d){const f=Bl(u);if(f||function(a){return!!a.useClass}(u)){const v=(u.useClass||u).prototype.ngOnDestroy;if(v){const w=a.destroyHooks||(a.destroyHooks=[]);if(!f&&u.multi){const D=w.indexOf(l);-1===D?w.push(l,[d,v]):w[D+1].push(d,v)}else w.push(l,v)}}}function ig(a,u,l){return l&&a.componentProviders++,a.multi.push(u)-1}function sg(a,u,l,d){for(let f=l;f<d;f++)if(u[f]===a)return f;return-1}function nw(a,u,l,d){return Cu(this.multi,[])}function rw(a,u,l,d){const f=this.multi;let y;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=yi(l,l[1],this.providerFactory.index,d);y=w.slice(0,v),Cu(f,y);for(let D=v;D<w.length;D++)y.push(w[D])}else y=[],Cu(f,y);return y}function Cu(a,u){for(let l=0;l<a.length;l++)u.push((0,a[l])());return u}function iw(a,u=[]){return l=>{l.providersResolver=(d,f)=>function(a,u,l){const d=Rt();if(d.firstCreatePass){const f=Ni(a);wu(l,d.data,d.blueprint,f,!0),wu(u,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,u)}}class sw{}const mh="ngComponent";class LR{resolveComponentFactory(u){throw function(a){const u=Error(`No component factory found for ${j(a)}. Did you add it to @NgModule.entryComponents?`);return u[mh]=a,u}(u)}}class Tu{}function nc(...a){}function yh(a,u){return new Ls(Kr(a,u))}Tu.NULL=new LR;const rc=function(){return yh(Fn(),Se())};let Ls=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=rc,a})();function Iu(a){return a instanceof Ls?a.nativeElement:a}class va{}let mI=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>jR(),a})();const jR=function(){const a=Se(),l=gr(Fn().index,a);return function(a){return a[11]}(xi(l)?l:a)};let _h=(()=>{class a{}return a.\u0275prov=gn({token:a,providedIn:"root",factory:()=>null}),a})();class ug{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const ow=new ug("12.2.3");class a_{constructor(){}supports(u){return zd(u)}create(u){return new _I(u)}}const HR=(a,u)=>u;class _I{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||HR}forEachItem(u){let l;for(l=this._itHead;null!==l;l=l._next)u(l)}forEachOperation(u){let l=this._itHead,d=this._removalsHead,f=0,y=null;for(;l||d;){const v=!d||l&&l.currentIndex<uw(d,f,y)?l:d,w=uw(v,f,y),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{y||(y=[]);const S=w-f,R=D-f;if(S!=R){for(let k=0;k<S;k++){const B=k<y.length?y[k]:y[k]=0,z=B+k;R<=z&&z<S&&(y[k]=B+1)}y[v.previousIndex]=R-S}}w!==D&&u(v,w,D)}}forEachPreviousItem(u){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachMovedItem(u){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}forEachIdentityChange(u){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)u(l)}diff(u){if(null==u&&(u=[]),!zd(u))throw new Error(`Error trying to diff '${j(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f,y,v,l=this._itHead,d=!1;if(Array.isArray(u)){this.length=u.length;for(let w=0;w<this.length;w++)y=u[w],v=this._trackByFn(w,y),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,y,v,w)),Object.is(l.item,y)||this._addIdentityChange(l,y)):(l=this._mismatch(l,y,v,w),d=!0),l=l._next}else f=0,function(a,u){if(Array.isArray(a))for(let l=0;l<a.length;l++)u(a[l]);else{const l=a[$l()]();let d;for(;!(d=l.next()).done;)u(d.value)}}(u,w=>{v=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,w,v,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,l,d,f){let y;return null===u?y=this._itTail:(y=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._reinsertAfter(u,y,f)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._moveAfter(u,y,f)):u=this._addAfter(new lg(l,d),y,f),u}_verifyReinsertion(u,l,d,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?u=this._reinsertAfter(y,u._prev,f):u.currentIndex!=f&&(u.currentIndex=f,this._addToMoves(u,f)),u}_truncate(u){for(;null!==u;){const l=u._next;this._addToRemovals(this._unlink(u)),u=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const f=u._prevRemoved,y=u._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(u,l,d),this._addToMoves(u,d),u}_moveAfter(u,l,d){return this._unlink(u),this._insertAfter(u,l,d),this._addToMoves(u,d),u}_addAfter(u,l,d){return this._insertAfter(u,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,l,d){const f=null===l?this._itHead:l._next;return u._next=f,u._prev=l,null===f?this._itTail=u:f._prev=u,null===l?this._itHead=u:l._next=u,null===this._linkedRecords&&(this._linkedRecords=new aw),this._linkedRecords.put(u),u.currentIndex=d,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const l=u._prev,d=u._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,u}_addToMoves(u,l){return u.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aw),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,l){return u.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class lg{constructor(u,l){this.item=u,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Du{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,u))return d;return null}remove(u){const l=u._prevDup,d=u._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class aw{constructor(){this.map=new Map}put(u){const l=u.trackById;let d=this.map.get(l);d||(d=new Du,this.map.set(l,d)),d.add(u)}get(u,l){const f=this.map.get(u);return f?f.get(u,l):null}remove(u){const l=u.trackById;return this.map.get(l).remove(u)&&this.map.delete(l),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uw(a,u,l){const d=a.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+u+f}class lw{constructor(){}supports(u){return u instanceof Map||QE(u)}create(){return new cg}}class cg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let l;for(l=this._mapHead;null!==l;l=l._next)u(l)}forEachPreviousItem(u){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)u(l)}forEachChangedItem(u){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}diff(u){if(u){if(!(u instanceof Map||QE(u)))throw new Error(`Error trying to diff '${j(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(u,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const y=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,y)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,l){if(u){const d=u._prev;return l._next=u,l._prev=d,u._prev=l,d&&(d._next=l),u===this._mapHead&&(this._mapHead=l),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(u,l){if(this._records.has(u)){const f=this._records.get(u);this._maybeAddToChanges(f,l);const y=f._prev,v=f._next;return y&&(y._next=v),v&&(v._prev=y),f._next=null,f._prev=null,f}const d=new cw(u);return this._records.set(u,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,l){Object.is(l,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=l,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,l){u instanceof Map?u.forEach(l):Object.keys(u).forEach(d=>l(u[d],d))}}class cw{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vI(){return new Nn([new a_])}let Nn=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||vI()),deps:[[a,new Ns,new xs]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(a){return a.name||typeof a}(l)}'`)}}return a.\u0275prov=gn({token:a,providedIn:"root",factory:vI}),a})();function dw(){return new dg([new lw])}let dg=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||dw()),deps:[[a,new Ns,new xs]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return a.\u0275prov=gn({token:a,providedIn:"root",factory:dw}),a})();function Un(a,u,l,d,f=!1){for(;null!==l;){const y=u[l.index];if(null!==y&&d.push(cn(y)),Tn(y))for(let w=10;w<y.length;w++){const D=y[w],S=D[1].firstChild;null!==S&&Un(D[1],D,S,d)}const v=l.type;if(8&v)Un(a,u,l.child,d);else if(32&v){const w=hp(l,u);let D;for(;D=w();)d.push(D)}else if(16&v){const w=EC(u,l);if(Array.isArray(w))d.push(...w);else{const D=Nd(u[16]);Un(D[1],D,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class Su{constructor(u,l){this._lView=u,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,l=u[1];return Un(l,u,l.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Tn(u)){const l=u[8],d=l?l.indexOf(this):-1;d>-1&&(bo(u,d),Ts(l,d))}this._attachedToViewContainer=!1}rE(this._lView[1],this._lView)}onDestroy(u){qC(this._lView[1],this._lView,null,u)}markForCheck(){ME(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zn(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,u,l){ro(!0);try{Zn(a,u,l)}finally{ro(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,kd(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class Tr extends Su{constructor(u){super(u),this._view=u}detectChanges(){tT(this._view)}checkNoChanges(){!function(a){ro(!0);try{tT(a)}finally{ro(!1)}}(this._view)}get context(){return null}}const ZR=function(a){return function(a,u,l){if(Nc(a)&&!l){const d=gr(a.index,u);return new Su(d,d)}return 47&a.type?new Su(u[16],u):null}(Fn(),Se(),16==(16&a))};let os=(()=>{class a{}return a.__NG_ELEMENT_ID__=ZR,a})();const WR=[new lw],KR=new Nn([new a_]),Xt=new dg(WR),hg=function(){return fg(Fn(),Se())};let Ea=(()=>{class a{}return a.__NG_ELEMENT_ID__=hg,a})();const u_=Ea,bI=class extends u_{constructor(u,l,d){super(),this._declarationLView=u,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(u){const l=this._declarationTContainer.tViews,d=Ll(this._declarationLView,l,u,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(l)),Vd(l,d,u),new Su(d)}};function fg(a,u){return 4&a.type?new bI(u,a,yh(a,u)):null}class ic{}class pw{}const QR=function(){return gw(Fn(),Se())};let l_=(()=>{class a{}return a.__NG_ELEMENT_ID__=QR,a})();const TI=l_,II=class extends TI{constructor(u,l,d){super(),this._lContainer=u,this._hostTNode=l,this._hostLView=d}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new Ha(this._hostTNode,this._hostLView)}get parentInjector(){const u=Jo(this._hostTNode,this._hostLView);if(Pf(u)){const l=Ba(u,this._hostLView),d=yl(u);return new Ha(l[1].data[d+8],l)}return new Ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const l=sr(this._lContainer);return null!==l&&l[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,l,d){const f=u.createEmbeddedView(l||{});return this.insert(f,d),f}createComponent(u,l,d,f,y){const v=d||this.parentInjector;if(!y&&null==u.ngModule&&v){const D=v.get(ic,null);D&&(y=D)}const w=u.create(v,f,void 0,y);return this.insert(w.hostView,l),w}insert(u,l){const d=u._lView,f=d[1];if(Tn(d[3])){const R=this.indexOf(u);if(-1!==R)this.detach(R);else{const O=d[3],k=new II(O,O[6],O[3]);k.detach(k.indexOf(u))}}const y=this._adjustIndex(l),v=this._lContainer;!function(a,u,l,d){const f=10+d,y=l.length;d>0&&(l[f-1][4]=u),d<y-10?(u[4]=l[f],mr(l,10+d,u)):(l.push(u),u[4]=null),u[3]=l;const v=u[17];null!==v&&l!==v&&function(a,u){const l=a[9];u[16]!==u[3][3][16]&&(a[2]=!0),null===l?a[9]=[u]:l.push(u)}(v,u);const w=u[19];null!==w&&w.insertView(a),u[2]|=128}(f,d,v,y);const w=uE(y,v),D=d[11],S=ny(D,v[7]);return null!==S&&function(a,u,l,d,f,y){d[0]=f,d[6]=u,kd(a,d,l,1,f,y)}(f,v[6],D,d,S,w),u.attachToViewContainerRef(),mr(gg(v),y,u),u}move(u,l){return this.insert(u,l)}indexOf(u){const l=sr(this._lContainer);return null!==l?l.indexOf(u):-1}remove(u){const l=this._adjustIndex(u,-1),d=bo(this._lContainer,l);d&&(Ts(gg(this._lContainer),l),rE(d[1],d))}detach(u){const l=this._adjustIndex(u,-1),d=bo(this._lContainer,l);return d&&null!=Ts(gg(this._lContainer),l)?new Su(d):null}_adjustIndex(u,l=0){return null==u?this.length+l:u}};function sr(a){return a[8]}function gg(a){return a[8]||(a[8]=[])}function gw(a,u){let l;const d=u[a.index];if(Tn(d))l=d;else{let f;if(8&a.type)f=cn(d);else{const y=u[11];f=y.createComment("");const v=Kr(a,u);da(y,ny(y,v),f,function(a,u){return ln(a)?a.nextSibling(u):u.nextSibling}(y,v),!1)}u[a.index]=l=NE(d,u,f,a),ot(u,l)}return new II(l,a,u)}const lc={};class Ow extends Tu{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const l=Xn(u);return new Pw(l,this.ngModule)}}function v_(a){const u=[];for(let l in a)a.hasOwnProperty(l)&&u.push({propName:a[l],templateName:l});return u}const dx=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zm});class Pw extends sw{constructor(u,l){super(),this.componentDef=u,this.ngModule=l,this.componentType=u.type,this.selector=u.selectors.map(lA).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return v_(this.componentDef.inputs)}get outputs(){return v_(this.componentDef.outputs)}create(u,l,d,f){const y=(f=f||this.ngModule)?function(a,u){return{get:(l,d,f)=>{const y=a.get(l,lc,f);return y!==lc||d===lc?y:u.get(l,d,f)}}}(u,f.injector):u,v=y.get(va,jc),w=y.get(_h,null),D=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=d?function(a,u,l){if(ln(a))return a.selectRootElement(u,l===tn.ShadowDom);let d="string"==typeof u?a.querySelector(u):u;return d.textContent="",d}(D,d,this.componentDef.encapsulation):Jm(v.createRenderer(null,this.componentDef),S,function(a){const u=a.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(S)),O=this.componentDef.onPush?576:528,k=function(a,u){return{components:[],scheduler:a||zm,clean:UA,playerHandler:u||null,flags:0}}(),B=Ep(0,null,null,1,0,null,null,null,null,null),z=Ll(null,B,k,O,null,null,v,D,w,y);let ae,ee;pl(z);try{const Oe=function(a,u,l,d,f,y){const v=l[1];l[20]=a;const D=Ld(v,20,2,"#host",null),S=D.mergedAttrs=u.hostAttrs;null!==S&&(ei(D,S,!0),null!==a&&(uo(f,a,S),null!==D.classes&&cE(f,a,D.classes),null!==D.styles&&TC(f,a,D.styles)));const R=d.createRenderer(a,u),O=Ll(l,yy(u),null,u.onPush?64:16,l[20],D,d,R,y||null,null);return v.firstCreatePass&&(ed(ht(D,l),v,u.type),RE(v,D),KC(D,l.length,1)),ot(l,O),l[20]=O}(R,this.componentDef,z,v,D);if(R)if(d)uo(D,R,["ng-version",ow.full]);else{const{attrs:Ce,classes:rt}=function(a){const u=[],l=[];let d=1,f=2;for(;d<a.length;){let y=a[d];if("string"==typeof y)2===f?""!==y&&u.push(y,a[++d]):8===f&&l.push(y);else{if(!Li(f))break;f=y}d++}return{attrs:u,classes:l}}(this.componentDef.selectors[0]);Ce&&uo(D,R,Ce),rt&&rt.length>0&&cE(D,R,rt.join(" "))}if(ee=Xs(B,20),void 0!==l){const Ce=ee.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const dt=l[rt];Ce.push(null!=dt?Array.from(dt):null)}}ae=function(a,u,l,d,f){const y=l[1],v=function(a,u,l){const d=Fn();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),YC(a,d,u,Vl(a,u,1,null),l));const f=yi(u,a,d.directiveStart,d);Zt(f,u);const y=Kr(d,u);return y&&Zt(y,u),f}(y,l,u);if(d.components.push(v),a[8]=v,f&&f.forEach(D=>D(v,u)),u.contentQueries){const D=Fn();u.contentQueries(1,v,D.directiveStart)}const w=Fn();return!y.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Or(w.index),SE(l[1],w,0,w.directiveStart,w.directiveEnd,u),AE(u,v)),v}(Oe,this.componentDef,z,k,[JA]),Vd(B,z,null)}finally{_m()}return new GI(this.componentType,ae,yh(ee,z),z,ee)}}class GI extends class{}{constructor(u,l,d,f,y){super(),this.location=d,this._rootLView=f,this._tNode=y,this.instance=l,this.hostView=this.changeDetectorRef=new Tr(f),this.componentType=u}get injector(){return new Ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const cc=new Map;class zI extends ic{constructor(u,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ow(this);const d=jt(u),f=u[wn]||null;f&&lt(f),this._bootstrapComponents=Fi(d.bootstrap),this._r3Injector=sT(u,l,[{provide:ic,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],j(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,l=Yt.THROW_IF_NOT_FOUND,d=xe.Default){return u===Yt||u===ic||u===bp?this:this._r3Injector.get(u,l,d)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class E_ extends pw{constructor(u){super(),this.moduleType=u,null!==jt(u)&&function(a){const u=new Set;!function l(d){const f=jt(d,!0),y=f.id;null!==y&&(function(a,u,l){if(u&&u!==l)throw new Error(`Duplicate module registered for ${a} - ${j(u)} vs ${j(u.name)}`)}(y,cc.get(y),d),cc.set(y,d));const v=Fi(f.imports);for(const w of v)u.has(w)||(u.add(w),l(w))}(a)}(u)}create(u){return new zI(this.moduleType,u)}}function WI(a,u,l){const d=function(){const a=ct.lFrame;let u=a.bindingRootIndex;return-1===u&&(u=a.bindingRootIndex=a.tView.bindingStartIndex),u}()+a,f=Se();return f[d]===ft?function(a,u,l){return a[u]=l}(f,d,l?u.call(l):u()):function(a,u){return a[u]}(f,d)}function $w(a){return u=>{setTimeout(a,void 0,u)}}const Bs=class extends g.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,l,d){var f,y,v;let w=u,D=l||(()=>null),S=d;if(u&&"object"==typeof u){const O=u;w=null===(f=O.next)||void 0===f?void 0:f.bind(O),D=null===(y=O.error)||void 0===y?void 0:y.bind(O),S=null===(v=O.complete)||void 0===v?void 0:v.bind(O)}this.__isAsync&&(D=$w(D),w&&(w=$w(w)),S&&(S=$w(S)));const R=super.subscribe({next:w,error:D,complete:S});return u instanceof ue.w&&u.add(R),R}};function yx(){return this._results[$l()]()}class T_{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=$l(),d=T_.prototype;d[l]||(d[l]=yx)}get changes(){return this._changes||(this._changes=new Bs)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,l){return this._results.reduce(u,l)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,l){const d=this;d.dirty=!1;const f=kr(u);(this._changesDetected=!function(a,u,l){if(a.length!==u.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],y=u[d];if(l&&(f=l(f),y=l(y)),y!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class pc{constructor(u){this.queryList=u,this.matches=null}clone(){return new pc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dg{constructor(u=[]){this.queries=u}createEmbeddedView(u){const l=u.queries;if(null!==l){const d=null!==u.contentQueries?u.contentQueries[0]:l.length,f=[];for(let y=0;y<d;y++){const v=l.getByIndex(y);f.push(this.queries[v.indexInDeclarationView].clone())}return new Dg(f)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let l=0;l<this.queries.length;l++)null!==zw(u,l).matches&&this.queries[l].setDirty()}}class qw{constructor(u,l,d=null){this.predicate=u,this.flags=l,this.read=d}}class Gw{constructor(u=[]){this.queries=u}elementStart(u,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(u,l)}elementEnd(u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(u)}embeddedTView(u){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,y=this.getByIndex(d).embeddedTView(u,f);y&&(y.indexInDeclarationView=d,null!==l?l.push(y):l=[y])}return null!==l?new Gw(l):null}template(u,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(u,l)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class Zw{constructor(u,l=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(u,l){this.isApplyingToNode(l)&&this.matchTNode(u,l)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,l){this.elementStart(u,l)}embeddedTView(u,l){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,l),new Zw(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=u.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(u,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const y=d[f];this.matchTNodeWithReadOption(u,l,vx(l,y)),this.matchTNodeWithReadOption(u,l,ws(l,u,y,!1,!1))}else d===Ea?4&l.type&&this.matchTNodeWithReadOption(u,l,-1):this.matchTNodeWithReadOption(u,l,ws(l,u,d,!1,!1))}matchTNodeWithReadOption(u,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Ls||f===l_||f===Ea&&4&l.type)this.addMatch(l.index,-2);else{const y=ws(l,u,f,!1,!1);null!==y&&this.addMatch(l.index,y)}else this.addMatch(l.index,d)}}addMatch(u,l){null===this.matches?this.matches=[u,l]:this.matches.push(u,l)}}function vx(a,u){const l=a.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===u)return l[d+1];return null}function bx(a,u,l,d){return-1===l?function(a,u){return 11&a.type?yh(a,u):4&a.type?fg(a,u):null}(u,a):-2===l?function(a,u,l){return l===Ls?yh(u,a):l===Ea?fg(u,a):l===l_?gw(u,a):void 0}(a,u,d):yi(a,a[1],l,u)}function I_(a,u,l,d){const f=u[19].queries[d];if(null===f.matches){const y=a.data,v=l.matches,w=[];for(let D=0;D<v.length;D+=2){const S=v[D];w.push(S<0?null:bx(u,y[S],v[D+1],l.metadata.read))}f.matches=w}return f.matches}function Pu(a,u,l,d){const f=a.queries.getByIndex(l),y=f.matches;if(null!==y){const v=I_(a,u,f,l);for(let w=0;w<y.length;w+=2){const D=y[w];if(D>0)d.push(v[w/2]);else{const S=y[w+1],R=u[-D];for(let O=10;O<R.length;O++){const k=R[O];k[17]===k[3]&&Pu(k[1],k,S,d)}if(null!==R[9]){const O=R[9];for(let k=0;k<O.length;k++){const B=O[k];Pu(B[1],B,S,d)}}}}}return d}function D_(a){const u=Se(),l=Rt(),d=gm();mm(d+1);const f=zw(l,d);if(a.dirty&&cl(u)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const y=f.crossesNgTemplate?Pu(l,u,d,[]):I_(l,u,f,d);a.reset(y,Iu),a.notifyOnChanges()}return!0}return!1}function Mh(a,u,l,d){const f=Rt();if(f.firstCreatePass){const y=Fn();(function(a,u,l){null===a.queries&&(a.queries=new Gw),a.queries.track(new Zw(u,l))})(f,new qw(u,l,d),y.index),function(a,u){const l=a.contentQueries||(a.contentQueries=[]);u!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,u)}(f,a),2==(2&l)&&(f.staticContentQueries=!0)}!function(a,u,l){const d=new T_(4==(4&l));qC(a,u,d,d.destroy),null===u[19]&&(u[19]=new Dg),u[19].queries.push(new pc(d))}(f,Se(),l)}function A_(){return a=Se(),u=gm(),a[19].queries[u].queryList;var a,u}function zw(a,u){return a.queries.getByIndex(u)}const xg=new vn("Application Initializer");let Vh=(()=>{class a{constructor(l){this.appInits=l,this.resolve=nc,this.reject=nc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const y=this.appInits[f]();if(Lp(y))l.push(y);else if(By(y)){const v=new Promise((w,D)=>{y.subscribe({complete:w,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(hn(xg,8))},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();const DD=new vn("AppId"),Fx={provide:DD,useFactory:function(){return`${Ng()}${Ng()}${Ng()}`},deps:[]};function Ng(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SD=new vn("Platform Initializer"),j_=new vn("Platform ID"),AD=new vn("appBootstrapListener");let a0=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();const Uh=new vn("LocaleId"),u0=new vn("DefaultCurrencyCode");class l0{constructor(u,l){this.ngModuleFactory=u,this.componentFactories=l}}const $_=function(a){return new E_(a)},Ux=$_,H_=function(a){return Promise.resolve($_(a))},OD=function(a){const u=$_(a),d=Fi(jt(a).declarations).reduce((f,y)=>{const v=Xn(y);return v&&f.push(new Pw(v)),f},[]);return new l0(u,d)},jx=OD,c0=function(a){return Promise.resolve(OD(a))};let jh=(()=>{class a{constructor(){this.compileModuleSync=Ux,this.compileModuleAsync=H_,this.compileModuleAndAllComponentsSync=jx,this.compileModuleAndAllComponentsAsync=c0}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();const f0=(()=>Promise.resolve(0))();function $h(a){"undefined"==typeof Zone?f0.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Di{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let a=V.requestAnimationFrame,u=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&u){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(a){const u=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(V,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Mg(a),a.isCheckStableRunning=!0,q_(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Mg(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,y,v,w)=>{try{return PD(a),l.invokeTask(f,y,v,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&u(),kD(a)}},onInvoke:(l,d,f,y,v,w,D)=>{try{return PD(a),l.invoke(f,y,v,w,D)}finally{a.shouldCoalesceRunChangeDetection&&u(),kD(a)}},onHasTask:(l,d,f,y)=>{l.hasTask(f,y),d===f&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,Mg(a),q_(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(l,d,f,y)=>(l.handleError(f,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,l,d){return this._inner.run(u,l,d)}runTask(u,l,d,f){const y=this._inner,v=y.scheduleEventTask("NgZoneEvent: "+f,u,g0,nc,nc);try{return y.runTask(v,l,d)}finally{y.cancelTask(v)}}runGuarded(u,l,d){return this._inner.runGuarded(u,l,d)}runOutsideAngular(u){return this._outer.run(u)}}const g0={};function q_(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Mg(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function PD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function kD(a){a._nesting--,q_(a)}class Hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(u,l,d){return u.apply(l,d)}runGuarded(u,l,d){return u.apply(l,d)}runOutsideAngular(u){return u()}runTask(u,l,d,f){return u.apply(l,d)}}let y0=(()=>{class a{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),$h(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$h(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==y),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:y,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,f){return[]}}return a.\u0275fac=function(l){return new(l||a)(hn(Di))},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})(),FD=(()=>{class a{constructor(){this._applications=new Map,_0.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return _0.findTestabilityInTree(this,l,d)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();class LD{addToWindow(u){}findTestabilityInTree(u,l,d){return null}}function qx(a){_0=a}let _0=new LD,VD=!0,UD=!1;function v0(){return UD=!0,VD}function qh(){if(UD)throw new Error("Cannot enable prod mode after platform setup.");VD=!1}let fs;const $D=new vn("AllowMultipleToken");class yn{constructor(u,l){this.name=u,this.token=l}}function js(a,u,l=[]){const d=`Platform: ${u}`,f=new vn(d);return(y=[])=>{let v=Pg();if(!v||v.injector.get($D,!1))if(a)a(l.concat(y).concat({provide:f,useValue:!0}));else{const w=l.concat(y).concat({provide:f,useValue:!0},{provide:Xi,useValue:"platform"});!function(a){if(fs&&!fs.destroyed&&!fs.injector.get($D,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fs=a.get(b0);const u=a.get(SD,null);u&&u.forEach(l=>l())}(Yt.create({providers:w,name:d}))}return function(a){const u=Pg();if(!u)throw new Error("No platform exists!");if(!u.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(f)}}function Pg(){return fs&&!fs.destroyed?fs:null}let b0=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function(a,u){let l;return l="noop"===a?new Hx:("zone.js"===a?void 0:a)||new Di({enableLongStackTrace:v0(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Di,useValue:w}];return w.run(()=>{const S=Yt.create({providers:D,parent:this.injector,name:l.moduleType.name}),R=l.create(S),O=R.injector.get(Le,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const k=w.onError.subscribe({next:B=>{O.handleError(B)}});R.onDestroy(()=>{w0(this._modules,R),k.unsubscribe()})}),function(a,u,l){try{const d=l();return Lp(d)?d.catch(f=>{throw u.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw u.runOutsideAngular(()=>a.handleError(d)),d}}(O,w,()=>{const k=R.injector.get(Vh);return k.runInitializers(),k.donePromise.then(()=>(lt(R.injector.get(Uh,ah)||ah),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,d=[]){const f=Z_({},d);return function(a,u,l){const d=new E_(l);return Promise.resolve(d)}(0,0,l).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(l){const d=l.injector.get(kg);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${j(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(hn(Yt))},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();function Z_(a,u){return Array.isArray(u)?u.reduce(Z_,a):Object.assign(Object.assign({},a),u)}let kg=(()=>{class a{constructor(l,d,f,y,v){this._zone=l,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=y,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new q.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),D=new q.y(S=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),$h(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{R.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ie.T)(w,D.pipe(a=>(0,ye.x)()(function(a,u){return function(d){let f;f="function"==typeof a?a:function(){return a};const y=Object.create(d,Ee.N);return y.source=d,y.subjectFactory=f,y}}(Q)(a))))}bootstrap(l,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=l instanceof sw?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(f.componentType);const y=function(a){return a.isBoundToModule}(f)?void 0:this._injector.get(ic),w=f.create(Yt.NULL,[],d||f.selector,y),D=w.location.nativeElement,S=w.injector.get(y0,null),R=S&&w.injector.get(FD);return S&&R&&R.registerApplication(D,S),w.onDestroy(()=>{this.detachView(w.hostView),w0(this.components,w),R&&R.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;w0(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(AD,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(l){return new(l||a)(hn(Di),hn(Yt),hn(Le),hn(Tu),hn(Vh))},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();function w0(a,u){const l=a.indexOf(u);l>-1&&a.splice(l,1)}class dM{}class Qx{}const Jx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Xx=(()=>{class a{constructor(l,d){this._compiler=l,this._config=d||Jx}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[d,f]=l.split("#");return void 0===f&&(f="default"),F(8255)(d).then(y=>y[f]).then(y=>eN(y,d,f)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(l){let[d,f]=l.split("#"),y="NgFactory";return void 0===f&&(f="default",y=""),F(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(v=>v[f+y]).then(v=>eN(v,d,f))}}return a.\u0275fac=function(l){return new(l||a)(hn(jh),hn(Qx,8))},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})();function eN(a,u,l){if(!a)throw new Error(`Cannot find '${l}' in '${u}'`);return a}const vc=function(a){return null},W_=js(null,"core",[{provide:j_,useValue:"unknown"},{provide:b0,deps:[Yt]},{provide:FD,deps:[]},{provide:a0,deps:[]}]),Ia=[{provide:kg,useClass:kg,deps:[Di,Yt,Le,Tu,Vh]},{provide:dx,deps:[Di],useFactory:function(a){let u=[];return a.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(l){u.push(l)}}},{provide:Vh,useClass:Vh,deps:[[new xs,xg]]},{provide:jh,useClass:jh,deps:[]},Fx,{provide:Nn,useFactory:function(){return KR},deps:[]},{provide:dg,useFactory:function(){return Xt},deps:[]},{provide:Uh,useFactory:function(a){return lt(a=a||"undefined"!=typeof $localize&&$localize.locale||ah),a},deps:[[new sa(Uh),new xs,new Ns]]},{provide:u0,useValue:"USD"}];let Bu=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(hn(kg))},a.\u0275mod=_s({type:a}),a.\u0275inj=ms({providers:Ia}),a})()},8939:(Qe,De,F)=>{"use strict";F.d(De,{hO:()=>j,xv:()=>Q,Dh:()=>ye,GT:()=>oe,on:()=>L,pX:()=>Ee});var g=F(3018),ue=F(7841),q=F(9126);Qe=F.hmd(Qe);const ie=["ngOnDestroy"],Ee=(W,he,re,ne={})=>new Proxy(W,{get:(Pe,Re)=>re.runOutsideAngular(()=>{var Me;if(W[Re])return(null===(Me=null==ne?void 0:ne.spy)||void 0===Me?void 0:Me.get)&&ne.spy.get(Re,W[Re]),W[Re];if(ie.indexOf(Re)>-1)return()=>{};const Ve=he.toPromise().then(Be=>{const Ue=Be&&Be[Re];return"function"==typeof Ue?Ue.bind(Be):Ue&&Ue.then?Ue.then(pe=>re.run(()=>pe)):re.run(()=>Ue)});return new Proxy(()=>{},{get:(Be,Ue)=>Ve[Ue],apply:(Be,Ue,pe)=>Ve.then(Ft=>{var pt;const ce=Ft&&Ft(...pe);return(null===(pt=null==ne?void 0:ne.spy)||void 0===pt?void 0:pt.apply)&&ne.spy.apply(Re,pe,ce),ce})})})}),oe=(W,he)=>{he.forEach(re=>{Object.getOwnPropertyNames(re.prototype||re).forEach(ne=>{Object.defineProperty(W.prototype,ne,Object.getOwnPropertyDescriptor(re.prototype||re,ne))})})};class we{constructor(he){return he}}const ye=new g.OlP("angularfire2.app.options"),Q=new g.OlP("angularfire2.app.name");function L(W,he,re){const Pe="object"==typeof re&&re||{};Pe.name=Pe.name||"string"==typeof re&&re||"[DEFAULT]";const Me=ue.Z.apps.filter(Ve=>Ve&&Ve.name===Pe.name)[0]||he.runOutsideAngular(()=>ue.Z.initializeApp(W,Pe));try{JSON.stringify(W)!==JSON.stringify(Me.options)&&H("error",`${Me.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new we(Me)}const H=(W,...he)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[W](...he)},G={provide:we,useFactory:L,deps:[ye,g.R0b,[new g.FiY,Q]]};let j=(()=>{class W{constructor(re){ue.Z.registerVersion("angularfire",q.q4.full,"core"),ue.Z.registerVersion("angularfire",q.q4.full,"app-compat"),ue.Z.registerVersion("angular",g.q4F.full,re.toString())}static initializeApp(re,ne){return{ngModule:W,providers:[{provide:ye,useValue:re},{provide:Q,useValue:ne}]}}}return W.\u0275fac=function(re){return new(re||W)(g.LFG(g.Lbi))},W.\u0275mod=g.oAB({type:W}),W.\u0275inj=g.cJS({providers:[G]}),W})()},9126:(Qe,De,F)=>{"use strict";F.d(De,{q4:()=>L,iC:()=>ce,f6:()=>pt,fc:()=>Ft,HU:()=>Ve,cc:()=>j});var g=F(3018);(0,F(5452).registerVersion)("firebase","9.0.1","app");var Ee=F(7771),oe=F(3637),we=F(3342),ye=F(309),Q=F(3101);Qe=F.hmd(Qe);const L=new g.GfV("7.0.3"),H=!!Qe.hot,G=(de,...X)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[de](...X)};function j(de,X,ke,tt,Nt){const[,nt,Ct]=globalThis.\u0275AngularfireInstanceCache.find(en=>en[0]===de)||[];if(nt)return function(de,X){try{return de.toString()===X.toString()}catch(ke){return de===X}}(Nt,Ct)||(G("error",`${X} was already initialized on the ${ke} Firebase App with different settings.${H?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:Nt,was:Ct})),nt;{const en=tt();return globalThis.\u0275AngularfireInstanceCache.push([de,en,Nt]),en}}function Pe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Re{constructor(X,ke=Ee.N){this.zone=X,this.delegate=ke}now(){return this.delegate.now()}schedule(X,ke,tt){const Nt=this.zone;return this.delegate.schedule(function(Ct){Nt.runGuarded(()=>{X.apply(this,[Ct])})},ke,tt)}}class Me{constructor(X){this.zone=X,this.task=null}call(X,ke){const tt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pe,{},Pe,Pe)),ke.pipe((0,we.b)({next:tt,complete:tt,error:tt})).subscribe(X).add(tt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class de{constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new Re(Zone.current)),this.insideAngular=ke.run(()=>new Re(Zone.current,oe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return de.\u0275fac=function(ke){return new(ke||de)(g.LFG(g.R0b))},de.\u0275prov=g.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function Be(){const de=globalThis.\u0275AngularFireScheduler;if(!de)throw new Error("AngularFireModule has not been provided");return de}function Ft(de){return de.pipe((0,ye.QV)(Be().outsideAngular))}function pt(de){return de.pipe((0,ye.QV)(Be().insideAngular))}function ce(de){return Be(),function(de){return function(ke){return(ke=ke.lift(new Me(de.ngZone))).pipe((0,Q.R)(de.outsideAngular),(0,ye.QV)(de.insideAngular))}}(Be())(de)}},4486:(Qe,De,F)=>{"use strict";F.d(De,{Z:()=>re});var g=F(4685),ue=F(6034),q=F(5452),ie=F(300);class Ee{constructor(Pe,Re){this._delegate=Pe,this.firebase=Re,(0,q._addComponent)(Pe,new ue.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Pe,Re=q._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(Pe);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Me=Ve.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Re})}_removeServiceInstance(Pe,Re=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Re)}_addComponent(Pe){(0,q._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,q._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function Q(){const ne=function(ne){const Pe={},Re={__esModule:!0,initializeApp:function(pt,ce={}){const se=q.initializeApp(pt,ce);if((0,g.r3)(Pe,se.name))return Pe[se.name];const ge=new ne(se,Re);return Pe[se.name]=ge,ge},app:Ve,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function(pt){const ce=pt.name,se=ce.replace("-compat","");if(q._registerComponent(pt)&&"PUBLIC"===pt.type){const ge=(ve=Ve())=>{if("function"!=typeof ve[se])throw we.create("invalid-app-argument",{appName:ce});return ve[se]()};void 0!==pt.serviceProps&&(0,g.ZB)(ge,pt.serviceProps),Re[se]=ge,ne.prototype[se]=function(...ve){return this._getService.bind(this,ce).apply(this,pt.multipleInstances?ve:[])}}return"PUBLIC"===pt.type?Re[se]:null},removeApp:function(pt){delete Pe[pt]},useAsService:function(pt,ce){return"serverAuth"===ce?null:ce},modularAPIs:q}};function Ve(pt){if(!(0,g.r3)(Pe,pt=pt||q._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:pt});return Pe[pt]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function(){return Object.keys(Pe).map(pt=>Pe[pt])}}),Ve.App=ne,Re}(Ee);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function(Re){(0,g.ZB)(ne,Re)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ne}(),H=new ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const he=L;(0,q.registerVersion)("@firebase/app-compat","0.1.1",undefined);const re=he},5452:(Qe,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>el,_DEFAULT_ENTRY_NAME:()=>Nt,_addComponent:()=>Pn,_addOrOverwriteComponent:()=>Zi,_apps:()=>Ct,_clearComponents:()=>fr,_components:()=>en,_getProvider:()=>Dt,_registerComponent:()=>rn,_removeServiceInstance:()=>Lt,deleteApp:()=>xa,getApp:()=>or,getApps:()=>Bo,initializeApp:()=>ms,onLog:()=>$n,registerVersion:()=>ys,setLogLevel:()=>Ai});var g=F(8239),ue=F(6034),q=F(300),ie=F(4685);class Ee{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function(Tt){const xe=Tt.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(Gt)){const sn=Gt.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter(Gt=>Gt).join(" ")}}const we="@firebase/app",Q=new q.Yd("@firebase/app"),Nt="[DEFAULT]",nt={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,en=new Map;function Pn(Tt,xe){try{Tt.container.addComponent(xe)}catch(Gt){Q.debug(`Component ${xe.name} failed to register with FirebaseApp ${Tt.name}`,Gt)}}function Zi(Tt,xe){Tt.container.addOrOverwriteComponent(xe)}function rn(Tt){const xe=Tt.name;if(en.has(xe))return Q.debug(`There were multiple attempts to register component ${xe}.`),!1;en.set(xe,Tt);for(const Gt of Ct.values())Pn(Gt,Tt);return!0}function Dt(Tt,xe){return Tt.container.getProvider(xe)}function Lt(Tt,xe,Gt=Nt){Dt(Tt,xe).clearInstance(Gt)}function fr(){en.clear()}const Rr=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gn{constructor(xe,Gt,sn){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const el="9.0.0";function ms(Tt,xe={}){"object"!=typeof xe&&(xe={name:xe});const Gt=Object.assign({name:Nt,automaticDataCollectionEnabled:!1},xe),sn=Gt.name;if("string"!=typeof sn||!sn)throw Rr.create("bad-app-name",{appName:String(sn)});const an=Ct.get(sn);if(an){if((0,ie.vZ)(Tt,an.options)&&(0,ie.vZ)(Gt,an.config))return an;throw Rr.create("duplicate-app",{appName:sn})}const Kt=new ue.H0(sn);for(const We of en.values())Kt.addComponent(We);const Ge=new gn(Tt,Gt,Kt);return Ct.set(sn,Ge),Ge}function or(Tt=Nt){const xe=Ct.get(Tt);if(!xe)throw Rr.create("no-app",{appName:Tt});return xe}function Bo(){return Array.from(Ct.values())}function xa(Tt){return jo.apply(this,arguments)}function jo(){return(jo=(0,g.Z)(function*(Tt){const xe=Tt.name;Ct.has(xe)&&(Ct.delete(xe),yield Promise.all(Tt.container.getProviders().map(Gt=>Gt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function ys(Tt,xe,Gt){var sn;let an=null!==(sn=nt[Tt])&&void 0!==sn?sn:Tt;Gt&&(an+=`-${Gt}`);const Kt=an.match(/\s|\//),Ge=xe.match(/\s|\//);if(Kt||Ge){const We=[`Unable to register library "${an}" with version "${xe}":`];return Kt&&We.push(`library name "${an}" contains illegal characters (whitespace or "/")`),Kt&&Ge&&We.push("and"),Ge&&We.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void Q.warn(We.join(" "))}rn(new ue.wA(`${an}-version`,()=>({library:an,version:xe}),"VERSION"))}function $n(Tt,xe){if(null!==Tt&&"function"!=typeof Tt)throw Rr.create("invalid-log-argument");(0,q.Am)(Tt,xe)}function Ai(Tt){(0,q.Ub)(Tt)}rn(new ue.wA("platform-logger",xe=>new Ee(xe),"PRIVATE")),ys(we,"0.7.0",undefined),ys("fire-js","")},6034:(Qe,De,F)=>{"use strict";F.d(De,{wA:()=>q,H0:()=>ye});var g=F(4762),ue=F(4685),q=function(){function Q(L,H,G){this.name=L,this.instanceFactory=H,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Q.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},Q.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},Q.prototype.setServiceProps=function(L){return this.serviceProps=L,this},Q.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},Q}(),ie="[DEFAULT]",Ee=function(){function Q(L,H){this.name=L,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Q.prototype.get=function(L){var H=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(H)){var G=new ue.BH;if(this.instancesDeferred.set(H,G),this.isInitialized(H)||this.shouldAutoInitialize())try{var j=this.getOrInitializeService({instanceIdentifier:H});j&&G.resolve(j)}catch(W){}}return this.instancesDeferred.get(H).promise},Q.prototype.getImmediate=function(L){var H,G=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),j=null!==(H=null==L?void 0:L.optional)&&void 0!==H&&H;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(j)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(W){if(j)return null;throw W}},Q.prototype.getComponent=function(){return this.component},Q.prototype.setComponent=function(L){var H,G;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(Q){return"EAGER"===Q.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(Me){}try{for(var j=(0,g.XA)(this.instancesDeferred.entries()),W=j.next();!W.done;W=j.next()){var he=(0,g.CR)(W.value,2),ne=he[1],Pe=this.normalizeInstanceIdentifier(he[0]);try{var Re=this.getOrInitializeService({instanceIdentifier:Pe});ne.resolve(Re)}catch(Me){}}}catch(Me){H={error:Me}}finally{try{W&&!W.done&&(G=j.return)&&G.call(j)}finally{if(H)throw H.error}}}},Q.prototype.clearInstance=function(L){void 0===L&&(L=ie),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},Q.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var L;return(0,g.Jh)(this,function(H){switch(H.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(L.filter(function(G){return"INTERNAL"in G}).map(function(G){return G.INTERNAL.delete()}))),(0,g.CR)(L.filter(function(G){return"_delete"in G}).map(function(G){return G._delete()}))))];case 1:return H.sent(),[2]}})})},Q.prototype.isComponentSet=function(){return null!=this.component},Q.prototype.isInitialized=function(L){return void 0===L&&(L=ie),this.instances.has(L)},Q.prototype.getOptions=function(L){return void 0===L&&(L=ie),this.instancesOptions.get(L)||{}},Q.prototype.initialize=function(L){var H,G;void 0===L&&(L={});var j=L.options,W=void 0===j?{}:j,he=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(he))throw Error(this.name+"("+he+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var re=this.getOrInitializeService({instanceIdentifier:he,options:W});try{for(var ne=(0,g.XA)(this.instancesDeferred.entries()),Pe=ne.next();!Pe.done;Pe=ne.next()){var Re=(0,g.CR)(Pe.value,2),Ve=Re[1];he===this.normalizeInstanceIdentifier(Re[0])&&Ve.resolve(re)}}catch(Ue){H={error:Ue}}finally{try{Pe&&!Pe.done&&(G=ne.return)&&G.call(ne)}finally{if(H)throw H.error}}return re},Q.prototype.onInit=function(L,H){var G,j=this.normalizeInstanceIdentifier(H),W=null!==(G=this.onInitCallbacks.get(j))&&void 0!==G?G:new Set;W.add(L),this.onInitCallbacks.set(j,W);var he=this.instances.get(j);return he&&L(he,j),function(){W.delete(L)}},Q.prototype.invokeOnInitCallbacks=function(L,H){var G,j,W=this.onInitCallbacks.get(H);if(W)try{for(var he=(0,g.XA)(W),re=he.next();!re.done;re=he.next()){var ne=re.value;try{ne(L,H)}catch(Pe){}}}catch(Pe){G={error:Pe}}finally{try{re&&!re.done&&(j=he.return)&&j.call(he)}finally{if(G)throw G.error}}},Q.prototype.getOrInitializeService=function(L){var H=L.instanceIdentifier,G=L.options,j=void 0===G?{}:G,W=this.instances.get(H);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:oe(H),options:j}),this.instances.set(H,W),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(W,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,W)}catch(he){}return W||null},Q.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=ie),this.component?this.component.multipleInstances?L:ie:L},Q.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Q}();function oe(Q){return Q===ie?void 0:Q}var ye=function(){function Q(L){this.name=L,this.providers=new Map}return Q.prototype.addComponent=function(L){var H=this.getProvider(L.name);if(H.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);H.setComponent(L)},Q.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},Q.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var H=new Ee(L,this);return this.providers.set(L,H),H},Q.prototype.getProviders=function(){return Array.from(this.providers.values())},Q}()},300:(Qe,De,F)=>{"use strict";function g(){for(var G=0,j=0,W=arguments.length;j<W;j++)G+=arguments[j].length;var he=Array(G),re=0;for(j=0;j<W;j++)for(var ne=arguments[j],Pe=0,Re=ne.length;Pe<Re;Pe++,re++)he[re]=ne[Pe];return he}F.d(De,{in:()=>ie,Yd:()=>Q,Ub:()=>L,Am:()=>H});var ue,q=[],ie=(()=>{return(G=ie||(ie={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ie;var G})(),Ee={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},oe=ie.INFO,we=((ue={})[ie.DEBUG]="log",ue[ie.VERBOSE]="log",ue[ie.INFO]="info",ue[ie.WARN]="warn",ue[ie.ERROR]="error",ue),ye=function(G,j){for(var W=[],he=2;he<arguments.length;he++)W[he-2]=arguments[he];if(!(j<G.logLevel)){var re=(new Date).toISOString(),ne=we[j];if(!ne)throw new Error("Attempted to log a message with an invalid logType (value: "+j+")");console[ne].apply(console,g(["["+re+"]  "+G.name+":"],W))}},Q=function(){function G(j){this.name=j,this._logLevel=oe,this._logHandler=ye,this._userLogHandler=null,q.push(this)}return Object.defineProperty(G.prototype,"logLevel",{get:function(){return this._logLevel},set:function(j){if(!(j in ie))throw new TypeError('Invalid value "'+j+'" assigned to `logLevel`');this._logLevel=j},enumerable:!1,configurable:!0}),G.prototype.setLogLevel=function(j){this._logLevel="string"==typeof j?Ee[j]:j},Object.defineProperty(G.prototype,"logHandler",{get:function(){return this._logHandler},set:function(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(j){this._userLogHandler=j},enumerable:!1,configurable:!0}),G.prototype.debug=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.DEBUG],j)),this._logHandler.apply(this,g([this,ie.DEBUG],j))},G.prototype.log=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.VERBOSE],j)),this._logHandler.apply(this,g([this,ie.VERBOSE],j))},G.prototype.info=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.INFO],j)),this._logHandler.apply(this,g([this,ie.INFO],j))},G.prototype.warn=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.WARN],j)),this._logHandler.apply(this,g([this,ie.WARN],j))},G.prototype.error=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.ERROR],j)),this._logHandler.apply(this,g([this,ie.ERROR],j))},G}();function L(G){q.forEach(function(j){j.setLogLevel(G)})}function H(G,j){for(var W=function(Pe){var Re=null;j&&j.level&&(Re=Ee[j.level]),Pe.userLogHandler=null===G?null:function(Me,Ve){for(var Be=[],Ue=2;Ue<arguments.length;Ue++)Be[Ue-2]=arguments[Ue];var pe=Be.map(function(Ft){if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch(pt){return null}}).filter(function(Ft){return Ft}).join(" ");Ve>=(null!=Re?Re:Me.logLevel)&&G({level:ie[Ve].toLowerCase(),message:pe,args:Be,type:Me.name})}},he=0,re=q;he<re.length;he++)W(re[he])}},4685:(Qe,De,F)=>{"use strict";F.d(De,{BH:()=>W,LL:()=>ke,ZR:()=>X,tV:()=>L,r3:()=>Lt,Sg:()=>he,ne:()=>jo,vZ:()=>gn,ZB:()=>G,pd:()=>Bo,m9:()=>un,z$:()=>re,jU:()=>Re,ru:()=>Me,d:()=>Be,xb:()=>Ws,w1:()=>Ue,hl:()=>ce,uI:()=>ne,UG:()=>Pe,b$:()=>Ve,G6:()=>pt,Mn:()=>pe,xO:()=>ms,zd:()=>or});var g=F(4762),Ee=function(Z){for(var V=[],te=0,le=0;le<Z.length;le++){var J=Z.charCodeAt(le);J<128?V[te++]=J:J<2048?(V[te++]=J>>6|192,V[te++]=63&J|128):55296==(64512&J)&&le+1<Z.length&&56320==(64512&Z.charCodeAt(le+1))?(J=65536+((1023&J)<<10)+(1023&Z.charCodeAt(++le)),V[te++]=J>>18|240,V[te++]=J>>12&63|128,V[te++]=J>>6&63|128,V[te++]=63&J|128):(V[te++]=J>>12|224,V[te++]=J>>6&63|128,V[te++]=63&J|128)}return V},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Z,V){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var te=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[],J=0;J<Z.length;J+=3){var Te=Z[J],it=J+1<Z.length,Vt=it?Z[J+1]:0,Ot=J+2<Z.length,At=Ot?Z[J+2]:0,Hn=(15&Vt)<<2|At>>6,Ks=63&At;Ot||(Ks=64,it||(Hn=64)),le.push(te[Te>>2],te[(3&Te)<<4|Vt>>4],te[Hn],te[Ks])}return le.join("")},encodeString:function(Z,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(Z):this.encodeByteArray(Ee(Z),V)},decodeString:function(Z,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(Z):function(Z){for(var V=[],te=0,le=0;te<Z.length;){var J=Z[te++];if(J<128)V[le++]=String.fromCharCode(J);else if(J>191&&J<224){var Te=Z[te++];V[le++]=String.fromCharCode((31&J)<<6|63&Te)}else if(J>239&&J<365){var Ot=((7&J)<<18|(63&(Te=Z[te++]))<<12|(63&(it=Z[te++]))<<6|63&Z[te++])-65536;V[le++]=String.fromCharCode(55296+(Ot>>10)),V[le++]=String.fromCharCode(56320+(1023&Ot))}else{Te=Z[te++];var it=Z[te++];V[le++]=String.fromCharCode((15&J)<<12|(63&Te)<<6|63&it)}}return V.join("")}(this.decodeStringToByteArray(Z,V))},decodeStringToByteArray:function(Z,V){this.init_();for(var te=V?this.charToByteMapWebSafe_:this.charToByteMap_,le=[],J=0;J<Z.length;){var Te=te[Z.charAt(J++)],Vt=J<Z.length?te[Z.charAt(J)]:0,At=++J<Z.length?te[Z.charAt(J)]:64,_n=++J<Z.length?te[Z.charAt(J)]:64;if(++J,null==Te||null==Vt||null==At||null==_n)throw Error();le.push(Te<<2|Vt>>4),64!==At&&(le.push(Vt<<4&240|At>>2),64!==_n&&le.push(At<<6&192|_n))}return le},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},Q=function(Z){return function(Z){var V=Ee(Z);return we.encodeByteArray(V,!0)}(Z).replace(/\./g,"")},L=function(Z){try{return we.decodeString(Z,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function G(Z,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return V}for(var le in V)!V.hasOwnProperty(le)||!j(le)||(Z[le]=G(Z[le],V[le]));return Z}function j(Z){return"__proto__"!==Z}var W=function(){function Z(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(te,le){V.resolve=te,V.reject=le})}return Z.prototype.wrapCallback=function(V){var te=this;return function(le,J){le?te.reject(le):te.resolve(J),"function"==typeof V&&(te.promise.catch(function(){}),1===V.length?V(le):V(le,J))}},Z}();function he(Z,V){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var le=V||"demo-project",J=Z.iat||0,Te=Z.sub||Z.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var it=(0,g.pi)({iss:"https://securetoken.google.com/"+le,aud:le,iat:J,exp:J+3600,auth_time:J,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(it)),""].join(".")}function re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function Pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function Re(){return"object"==typeof self&&self.self===self}function Me(){var Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return re().indexOf("Electron/")>=0}function Ue(){var Z=re();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function pe(){return re().indexOf("MSAppHost/")>=0}function pt(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){return"indexedDB"in self&&null!=indexedDB}var X=function(Z){function V(te,le,J){var Te=Z.call(this,le)||this;return Te.code=te,Te.customData=J,Te.name="FirebaseError",Object.setPrototypeOf(Te,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Te,ke.prototype.create),Te}return(0,g.ZT)(V,Z),V}(Error),ke=function(){function Z(V,te,le){this.service=V,this.serviceName=te,this.errors=le}return Z.prototype.create=function(V){for(var te=[],le=1;le<arguments.length;le++)te[le-1]=arguments[le];var J=te[0]||{},Te=this.service+"/"+V,it=this.errors[V],Vt=it?tt(it,J):"Error",Ot=this.serviceName+": "+Vt+" ("+Te+").",At=new X(Te,Ot,J);return At},Z}();function tt(Z,V){return Z.replace(Nt,function(te,le){var J=V[le];return null!=J?String(J):"<"+le+"?>"})}var Nt=/\{\$([^}]+)}/g;function Lt(Z,V){return Object.prototype.hasOwnProperty.call(Z,V)}function Ws(Z){for(var V in Z)if(Object.prototype.hasOwnProperty.call(Z,V))return!1;return!0}function gn(Z,V){if(Z===V)return!0;for(var te=Object.keys(Z),le=Object.keys(V),J=0,Te=te;J<Te.length;J++){if(!le.includes(it=Te[J]))return!1;var Vt=Z[it],Ot=V[it];if(el(Vt)&&el(Ot)){if(!gn(Vt,Ot))return!1}else if(Vt!==Ot)return!1}for(var At=0,wn=le;At<wn.length;At++){var it;if(!te.includes(it=wn[At]))return!1}return!0}function el(Z){return null!==Z&&"object"==typeof Z}function ms(Z){for(var V=[],te=function(Ot,At){Array.isArray(At)?At.forEach(function(wn){V.push(encodeURIComponent(Ot)+"="+encodeURIComponent(wn))}):V.push(encodeURIComponent(Ot)+"="+encodeURIComponent(At))},le=0,J=Object.entries(Z);le<J.length;le++){var Te=J[le];te(Te[0],Te[1])}return V.length?"&"+V.join("&"):""}function or(Z){var V={};return Z.replace(/^\?/,"").split("&").forEach(function(le){if(le){var J=le.split("="),it=J[1];V[decodeURIComponent(J[0])]=decodeURIComponent(it)}}),V}function Bo(Z){var V=Z.indexOf("?");if(!V)return"";var te=Z.indexOf("#",V);return Z.substring(V,te>0?te:void 0)}function jo(Z,V){var te=new ys(Z,V);return te.subscribe.bind(te)}!function(){function Z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}Z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Z.prototype.compress_=function(V,te){te||(te=0);var le=this.W_;if("string"==typeof V)for(var J=0;J<16;J++)le[J]=V.charCodeAt(te)<<24|V.charCodeAt(te+1)<<16|V.charCodeAt(te+2)<<8|V.charCodeAt(te+3),te+=4;else for(J=0;J<16;J++)le[J]=V[te]<<24|V[te+1]<<16|V[te+2]<<8|V[te+3],te+=4;for(J=16;J<80;J++)le[J]=4294967295&((Te=le[J-3]^le[J-8]^le[J-14]^le[J-16])<<1|Te>>>31);var _n,Hn,it=this.chain_[0],Vt=this.chain_[1],Ot=this.chain_[2],At=this.chain_[3],wn=this.chain_[4];for(J=0;J<80;J++){J<40?J<20?(_n=At^Vt&(Ot^At),Hn=1518500249):(_n=Vt^Ot^At,Hn=1859775393):J<60?(_n=Vt&Ot|At&(Vt|Ot),Hn=2400959708):(_n=Vt^Ot^At,Hn=3395469782);var Te=(it<<5|it>>>27)+_n+wn+Hn+le[J]&4294967295;wn=At,At=Ot,Ot=4294967295&(Vt<<30|Vt>>>2),Vt=it,it=Te}this.chain_[0]=this.chain_[0]+it&4294967295,this.chain_[1]=this.chain_[1]+Vt&4294967295,this.chain_[2]=this.chain_[2]+Ot&4294967295,this.chain_[3]=this.chain_[3]+At&4294967295,this.chain_[4]=this.chain_[4]+wn&4294967295},Z.prototype.update=function(V,te){if(null!=V){void 0===te&&(te=V.length);for(var le=te-this.blockSize,J=0,Te=this.buf_,it=this.inbuf_;J<te;){if(0===it)for(;J<=le;)this.compress_(V,J),J+=this.blockSize;if("string"==typeof V){for(;J<te;)if(Te[it]=V.charCodeAt(J),++J,++it===this.blockSize){this.compress_(Te),it=0;break}}else for(;J<te;)if(Te[it]=V[J],++J,++it===this.blockSize){this.compress_(Te),it=0;break}}this.inbuf_=it,this.total_+=te}},Z.prototype.digest=function(){var V=[],te=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&te,te/=256;this.compress_(this.buf_);var J=0;for(le=0;le<5;le++)for(var Te=24;Te>=0;Te-=8)V[J]=this.chain_[le]>>Te&255,++J;return V}}();var ys=function(){function Z(V,te){var le=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(function(){V(le)}).catch(function(J){le.error(J)})}return Z.prototype.next=function(V){this.forEachObserver(function(te){te.next(V)})},Z.prototype.error=function(V){this.forEachObserver(function(te){te.error(V)}),this.close(V)},Z.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},Z.prototype.subscribe=function(V,te,le){var Te,J=this;if(void 0===V&&void 0===te&&void 0===le)throw new Error("Missing Observer.");void 0===(Te=function(Z,V){if("object"!=typeof Z||null===Z)return!1;for(var te=0,le=["next","error","complete"];te<le.length;te++){var J=le[te];if(J in Z&&"function"==typeof Z[J])return!0}return!1}(V)?V:{next:V,error:te,complete:le}).next&&(Te.next=ci),void 0===Te.error&&(Te.error=ci),void 0===Te.complete&&(Te.complete=ci);var it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{J.finalError?Te.error(J.finalError):Te.complete()}catch(Vt){}}),this.observers.push(Te),it},Z.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Z.prototype.forEachObserver=function(V){if(!this.finalized)for(var te=0;te<this.observers.length;te++)this.sendOne(te,V)},Z.prototype.sendOne=function(V,te){var le=this;this.task.then(function(){if(void 0!==le.observers&&void 0!==le.observers[V])try{te(le.observers[V])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})},Z.prototype.close=function(V){var te=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){te.observers=void 0,te.onNoObservers=void 0}))},Z}();function ci(){}function un(Z){return Z&&Z._delegate?Z._delegate:Z}},7841:(Qe,De,F)=>{"use strict";F.d(De,{Z:()=>g.Z});var g=F(4486);g.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(Qe,De,F)=>{"use strict";F.r(De);var g=F(8239),ue=F(4486),q=F(4685),ie=F(5452),Ee=F(4762),oe=F(300),we=F(6034);const he=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ne=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new oe.Yd("@firebase/auth");function Me(C,..._){Re.logLevel<=oe.in.ERROR&&Re.error(`Auth (${ie.SDK_VERSION}): ${C}`,..._)}function Ve(C,..._){throw Ue(C,..._)}function Be(C,..._){return Ue(C,..._)}function Ue(C,..._){if("string"!=typeof C){const E=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(E,...I)}return ne.create(C,..._)}function pe(C,_,...E){if(!C)throw Ue(_,...E)}function Ft(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Me(_),new Error(_)}function pt(C,_){C||Ft(_)}const ce=new Map;function se(C){pt(C instanceof Function,"Expected a class definition");let _=ce.get(C);return _?(pt(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,ce.set(C,_),_)}function de(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function X(){return"http:"===ke()||"https:"===ke()}function ke(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class nt{constructor(_,E){this.shortDelay=_,this.longDelay=E,pt(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ct(C,_){pt(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class en{static initialize(_,E,I){this.fetchImpl=_,E&&(this.headersImpl=E),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Zi=new nt(3e4,6e4);function rn(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Dt(C,_,E,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,g.Z)(function*(C,_,E,I,N={}){return fr(C,N,()=>{let P={},Y={};I&&("GET"===_?Y=I:P={body:JSON.stringify(I)});const be=(0,q.xO)(Object.assign({key:C.config.apiKey},Y)).slice(1),Le=new(en.headers());return Le.set("Content-Type","application/json"),Le.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Le.set("X-Firebase-Locale",C.languageCode),en.fetch()(el(C,C.config.apiHost,E,be),Object.assign({method:_,headers:Le,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function fr(C,_,E){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(C,_,E){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},Pn),_);try{const N=new ms(C),P=yield Promise.race([E(),N.promise]);N.clearNetworkTimeout();const Y=yield P.json();if("needConfirmation"in Y)throw or(C,"account-exists-with-different-credential",Y);if(P.ok&&!("errorMessage"in Y))return Y;{const Le=(P.ok?Y.errorMessage:Y.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw or(C,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Le)throw or(C,"email-already-in-use",Y);Ve(C,I[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(N){if(N instanceof q.ZR)throw N;Ve(C,"network-request-failed")}})).apply(this,arguments)}function Rr(C,_,E,I){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(C,_,E,I,N={}){const P=yield Dt(C,_,E,I,N);return"mfaPendingCredential"in P&&Ve(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function el(C,_,E,I){const N=`${_}${E}?${I}`;return C.config.emulator?Ct(C.config,N):`${C.config.apiScheme}://${N}`}class ms{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,I)=>{this.timer=setTimeout(()=>I(Be(this.auth,"timeout")),Zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(C,_,E){const I={appName:C.name};E.email&&(I.email=E.email),E.phoneNumber&&(I.phoneNumber=E.phoneNumber);const N=Be(C,_,I);return N.customData._tokenResponse=E,N}function xa(){return(xa=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function jo(C,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function $n(C,_){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ci(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Gt(){return(Gt=(0,g.Z)(function*(C,_=!1){const E=(0,q.m9)(C),I=yield E.getIdToken(_),N=an(I);pe(N&&N.exp&&N.auth_time&&N.iat,E.auth,"internal-error");const P="object"==typeof N.firebase?N.firebase:void 0,Y=null==P?void 0:P.sign_in_provider;return{claims:N,token:I,authTime:ci(sn(N.auth_time)),issuedAtTime:ci(sn(N.iat)),expirationTime:ci(sn(N.exp)),signInProvider:Y||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function sn(C){return 1e3*Number(C)}function an(C){const[_,E,I]=C.split(".");if(void 0===_||void 0===E||void 0===I)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,q.tV)(E);return N?JSON.parse(N):(Me("Failed to decode base64 JWT payload"),null)}catch(N){return Me("Caught error parsing JWT payload as JSON",N),null}}function Ge(C,_){return We.apply(this,arguments)}function We(){return(We=(0,g.Z)(function*(C,_,E=!1){if(E)return _;try{return yield _}catch(I){throw I instanceof q.ZR&&xr(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function xr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class tl{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const N=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield E.iteration()}),I)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&_.schedule(!0))}_.schedule()})()}}class Ri{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=ci(this.lastLoginAt),this.creationTime=ci(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,g.Z)(function*(C){var _;const E=C.auth,I=yield C.getIdToken(),N=yield Ge(C,$n(E,{idToken:I}));pe(null==N?void 0:N.users.length,E,"internal-error");const P=N.users[0];C._notifyReloadListener(P);const Y=(null===(_=P.providerUserInfo)||void 0===_?void 0:_.length)?V(P.providerUserInfo):[],be=Z(C.providerData,Y),gt=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==be?void 0:be.length)),st={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:be,metadata:new Ri(P.createdAt,P.lastLoginAt),isAnonymous:gt};Object.assign(C,st)})).apply(this,arguments)}function un(){return(un=(0,g.Z)(function*(C){const _=(0,q.m9)(C);yield tn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Z(C,_){return[...C.filter(I=>!_.some(N=>N.providerId===I.providerId)),..._]}function V(C){return C.map(_=>{var{providerId:E}=_,I=(0,Ee._T)(_,["providerId"]);return{providerId:E,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function le(){return(le=(0,g.Z)(function*(C,_){const E=yield fr(C,{},()=>{const I=(0,q.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:N,apiKey:P}=C.config,Y=el(C,N,"/v1/token",`key=${P}`);return en.fetch()(Y,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){pe(_.idToken,"internal-error"),pe(void 0!==_.idToken,"internal-error"),pe(void 0!==_.refreshToken,"internal-error");const E="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=an(C);return pe(_,"internal-error"),pe(void 0!==_.exp,"internal-error"),pe(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}getToken(_,E=!1){var I=this;return(0,g.Z)(function*(){return pe(!I.accessToken||I.refreshToken,_,"user-token-expired"),E||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var I=this;return(0,g.Z)(function*(){const{accessToken:N,refreshToken:P,expiresIn:Y}=yield function(C,_){return le.apply(this,arguments)}(_,E);I.updateTokensAndExpiration(N,P,Number(Y))})()}updateTokensAndExpiration(_,E,I){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,E){const{refreshToken:I,accessToken:N,expirationTime:P}=E,Y=new J;return I&&(pe("string"==typeof I,"internal-error",{appName:_}),Y.refreshToken=I),N&&(pe("string"==typeof N,"internal-error",{appName:_}),Y.accessToken=N),P&&(pe("number"==typeof P,"internal-error",{appName:_}),Y.expirationTime=P),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return Ft("not implemented")}}function Te(C,_){pe("string"==typeof C||void 0===C,"internal-error",{appName:_})}class it{constructor(_){var{uid:E,auth:I,stsTokenManager:N}=_,P=(0,Ee._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=I,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new Ri(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,g.Z)(function*(){const I=yield Ge(E,E.stsTokenManager.getToken(E.auth,_));return pe(I,E.auth,"internal-error"),E.accessToken!==I&&(E.accessToken=I,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),I})()}getIdTokenResult(_){return function(C){return Gt.apply(this,arguments)}(this,_)}reload(){return function(C){return un.apply(this,arguments)}(this)}_assign(_){this!==_&&(pe(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new it(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,E=!1){var I=this;return(0,g.Z)(function*(){let N=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),N=!0),E&&(yield tn(I)),yield I.auth._persistUserIfCurrent(I),N&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,g.Z)(function*(){const E=yield _.getIdToken();return yield Ge(_,function(C,_){return xa.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var I,N,P,Y,be,Le,Ke,gt;const st=null!==(I=E.displayName)&&void 0!==I?I:void 0,Dn=null!==(N=E.email)&&void 0!==N?N:void 0,Gn=null!==(P=E.phoneNumber)&&void 0!==P?P:void 0,vo=null!==(Y=E.photoURL)&&void 0!==Y?Y:void 0,vr=null!==(be=E.tenantId)&&void 0!==be?be:void 0,su=null!==(Le=E._redirectEventId)&&void 0!==Le?Le:void 0,Rd=null!==(Ke=E.createdAt)&&void 0!==Ke?Ke:void 0,Lr=null!==(gt=E.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:Nl,emailVerified:cp,isAnonymous:zm,providerData:Ml,stsTokenManager:Wv}=E;pe(Nl&&Wv,_,"internal-error");const Wm=J.fromJSON(this.name,Wv);pe("string"==typeof Nl,_,"internal-error"),Te(st,_.name),Te(Dn,_.name),pe("boolean"==typeof cp,_,"internal-error"),pe("boolean"==typeof zm,_,"internal-error"),Te(Gn,_.name),Te(vo,_.name),Te(vr,_.name),Te(su,_.name),Te(Rd,_.name),Te(Lr,_.name);const ca=new it({uid:Nl,auth:_,email:Dn,emailVerified:cp,displayName:st,isAnonymous:zm,photoURL:vo,phoneNumber:Gn,tenantId:vr,stsTokenManager:Wm,createdAt:Rd,lastLoginAt:Lr});return Ml&&Array.isArray(Ml)&&(ca.providerData=Ml.map(Fi=>Object.assign({},Fi))),su&&(ca._redirectEventId=su),ca}static _fromIdTokenResponse(_,E,I=!1){return(0,g.Z)(function*(){const N=new J;N.updateFromServerResponse(E);const P=new it({uid:E.localId,auth:_,stsTokenManager:N,isAnonymous:I});return yield tn(P),P})()}}const Ot=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(E,I){var N=this;return(0,g.Z)(function*(){N.storage[E]=I})()}_get(E){var I=this;return(0,g.Z)(function*(){const N=I.storage[E];return void 0===N?null:N})()}_remove(E){var I=this;return(0,g.Z)(function*(){delete I.storage[E]})()}_addListener(E,I){}_removeListener(E,I){}}return C.type="NONE",C})();function At(C,_,E){return`firebase:${C}:${_}:${E}`}class wn{constructor(_,E,I){this.persistence=_,this.auth=E,this.userKey=I;const{config:N,name:P}=this.auth;this.fullUserKey=At(this.userKey,N.apiKey,P),this.fullPersistenceKey=At("persistence",N.apiKey,P),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?it._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,g.Z)(function*(){if(E.persistence===_)return;const I=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,I?E.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E,I="authUser"){return(0,g.Z)(function*(){if(!E.length)return new wn(se(Ot),_,I);const N=(yield Promise.all(E.map(function(){var Ke=(0,g.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let P=N[0]||se(Ot);const Y=At(I,_.config.apiKey,_.name);let be=null;for(const Ke of E)try{const gt=yield Ke._get(Y);if(gt){const st=it._fromJSON(_,gt);Ke!==P&&(be=st),P=Ke;break}}catch(gt){}const Le=N.filter(Ke=>Ke._shouldAllowMigration);return P._shouldAllowMigration&&Le.length?(P=Le[0],be&&(yield P._set(Y,be.toJSON())),yield Promise.all(E.map(function(){var Ke=(0,g.Z)(function*(gt){if(gt!==P)try{yield gt._remove(Y)}catch(st){}});return function(gt){return Ke.apply(this,arguments)}}())),new wn(P,_,I)):new wn(P,_,I)})()}}function _n(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(tm(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Hn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Rc(_))return"Blackberry";if(df(_))return"Webos";if(Ks(_))return"Safari";if((_.includes("chrome/")||Na(_))&&!_.includes("edge/"))return"Chrome";if(Ma(_))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Hn(C=(0,q.z$)()){return/firefox\//i.test(C)}function Ks(C=(0,q.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Na(C=(0,q.z$)()){return/crios\//i.test(C)}function tm(C=(0,q.z$)()){return/iemobile/i.test(C)}function Ma(C=(0,q.z$)()){return/android/i.test(C)}function Rc(C=(0,q.z$)()){return/blackberry/i.test(C)}function df(C=(0,q.z$)()){return/webos/i.test(C)}function _s(C=(0,q.z$)()){return/iphone|ipad|ipod/i.test(C)}function hf(C=(0,q.z$)()){return _s(C)||Ma(C)||df(C)||Rc(C)||/windows phone/i.test(C)||tm(C)}function zi(C,_=[]){let E;switch(C){case"Browser":E=_n((0,q.z$)());break;case"Worker":E=`${_n((0,q.z$)())}-${C}`;break;default:E=C}const I=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${ie.SDK_VERSION}/${I}`}class $o{constructor(_,E){this.app=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rm(this),this.idTokenSubscription=new rm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(_,E){var I=this;return E&&(this._popupRedirectResolver=se(E)),this._initializationPromise=this.queue((0,g.Z)(function*(){var N;I._deleted||(I.persistenceManager=yield wn.create(I,_),!I._deleted&&((null===(N=I._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(E),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E)}})()}initializeCurrentUser(_){var E=this;return(0,g.Z)(function*(){var I;let N=yield E.assertedPersistence.getCurrentUser();if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const P=null===(I=E.redirectUser)||void 0===I?void 0:I._redirectEventId,Y=null==N?void 0:N._redirectEventId,be=yield E.tryRedirectSignIn(_);(!P||P===Y)&&(null==be?void 0:be.user)&&(N=be.user)}return N?N._redirectEventId?(pe(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===N._redirectEventId?E.directlySetCurrentUser(N):E.reloadAndSetCurrentUserOrClear(N)):E.reloadAndSetCurrentUserOrClear(N):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var E=this;return(0,g.Z)(function*(){let I=null;try{I=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch(N){yield E._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,g.Z)(function*(){try{yield tn(_)}catch(I){if("auth/network-request-failed"!==I.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,g.Z)(function*(){const I=_?(0,q.m9)(_):null;return I&&pe(I.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(I&&I._clone(E))})()}_updateCurrentUser(_){var E=this;return(0,g.Z)(function*(){if(!E._deleted)return _&&pe(E.tenantId===_.tenantId,E,"tenant-id-mismatch"),E.queue((0,g.Z)(function*(){yield E.directlySetCurrentUser(_),E.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var E=this;return this.queue((0,g.Z)(function*(){yield E.assertedPersistence.setPersistence(se(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new q.LL("auth","Firebase",_())}onAuthStateChanged(_,E,I){return this.registerStateListener(this.authStateSubscription,_,E,I)}onIdTokenChanged(_,E,I){return this.registerStateListener(this.idTokenSubscription,_,E,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var I=this;return(0,g.Z)(function*(){const N=yield I.getOrInitRedirectPersistenceManager(E);return null===_?N.removeCurrentUser():N.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,g.Z)(function*(){if(!E.redirectPersistenceManager){const I=_&&se(_)||E._popupRedirectResolver;pe(I,E,"argument-error"),E.redirectPersistenceManager=yield wn.create(E,[se(I._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,g.Z)(function*(){var I,N;return E._isInitialized&&(yield E.queue((0,g.Z)(function*(){}))),(null===(I=E._currentUser)||void 0===I?void 0:I._redirectEventId)===_?E._currentUser:(null===(N=E.redirectUser)||void 0===N?void 0:N._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,g.Z)(function*(){if(_===E.currentUser)return E.queue((0,g.Z)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,I,N){if(this._deleted)return()=>{};const P="function"==typeof E?E:E.next.bind(E),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(Y,this,"internal-error"),Y.then(()=>P(this.currentUser)),"function"==typeof E?_.addObserver(E,I,N):_.addObserver(E)}directlySetCurrentUser(_){var E=this;return(0,g.Z)(function*(){E.currentUser&&E.currentUser!==_&&(E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh()),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=zi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function jt(C){return(0,q.m9)(C)}class rm{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,q.ne)(E=>this.observer=E)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $e(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function on(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class hi{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return Ft("not implemented")}_getIdTokenResponse(_){return Ft("not implemented")}_linkToIdToken(_,E){return Ft("not implemented")}_getReauthenticationResolver(_){return Ft("not implemented")}}function Cn(C,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:resetPassword",rn(C,_))})).apply(this,arguments)}function mn(C,_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function rl(C,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",rn(C,_))})).apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithPassword",rn(C,_))})).apply(this,arguments)}function Pa(C,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:sendOobCode",rn(C,_))})).apply(this,arguments)}function pr(C,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(C,_){return Pa(C,_)})).apply(this,arguments)}function Gr(C,_){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(C,_){return Pa(C,_)})).apply(this,arguments)}function Qt(C,_){return il.apply(this,arguments)}function il(){return(il=(0,g.Z)(function*(C,_){return Pa(C,_)})).apply(this,arguments)}function ff(C,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,g.Z)(function*(C,_){return Pa(C,_)})).apply(this,arguments)}function Fa(){return(Fa=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithEmailLink",rn(C,_))})).apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithEmailLink",rn(C,_))})).apply(this,arguments)}class kn extends hi{constructor(_,E,I,N=null){super("password",I),this._email=_,this._password=E,this._tenantId=N}static _fromEmailAndPassword(_,E){return new kn(_,E,"password")}static _fromEmailAndCode(_,E,I=null){return new kn(_,E,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,g.Z)(function*(){switch(E.signInMethod){case"password":return function(C,_){return Ys.apply(this,arguments)}(_,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,_){return Fa.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:Ve(_,"internal-error")}})()}_linkToIdToken(_,E){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return mn(_,{idToken:E,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,_){return vs.apply(this,arguments)}(_,{idToken:E,email:I._email,oobCode:I._password});default:Ve(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Es(C,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithIdp",rn(C,_))})).apply(this,arguments)}class pi extends hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const E=new pi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(E.idToken=_.idToken),_.accessToken&&(E.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(E.nonce=_.nonce),_.pendingToken&&(E.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(E.accessToken=_.oauthToken,E.secret=_.oauthTokenSecret):Ve("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:N}=E,P=(0,Ee._T)(E,["providerId","signInMethod"]);if(!I||!N)return null;const Y=new pi(I,N);return Object.assign(Y,P),Y}_getIdTokenResponse(_){return Es(_,this.buildRequest())}_linkToIdToken(_,E){const I=this.buildRequest();return I.idToken=E,Es(_,I)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Es(_,E)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),_.postBody=(0,q.xO)(E)}return _}}function Nc(C,_){return La.apply(this,arguments)}function La(){return(La=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:sendVerificationCode",rn(C,_))})).apply(this,arguments)}function gf(){return(gf=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithPhoneNumber",rn(C,_))})).apply(this,arguments)}function mf(){return(mf=(0,g.Z)(function*(C,_){const E=yield Rr(C,"POST","/v1/accounts:signInWithPhoneNumber",rn(C,_));if(E.temporaryProof)throw or(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const uv={USER_NOT_FOUND:"user-not-found"};function im(){return(im=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithPhoneNumber",rn(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),uv)})).apply(this,arguments)}class Va extends hi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,E){return new Va({verificationId:_,verificationCode:E})}static _fromTokenResponse(_,E){return new Va({phoneNumber:_,temporaryProof:E})}_getIdTokenResponse(_){return function(C,_){return gf.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,E){return function(C,_){return mf.apply(this,arguments)}(_,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return im.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:E,verificationId:I,verificationCode:N}=this.params;return _&&E?{temporaryProof:_,phoneNumber:E}:{sessionInfo:I,code:N}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:E,verificationCode:I,phoneNumber:N,temporaryProof:P}=_;return I||E||N||P?new Va({verificationId:E,verificationCode:I,phoneNumber:N,temporaryProof:P}):null}}class Mc{constructor(_){var E,I,N,P,Y,be;const Le=(0,q.zd)((0,q.pd)(_)),Ke=null!==(E=Le.apiKey)&&void 0!==E?E:null,gt=null!==(I=Le.oobCode)&&void 0!==I?I:null,st=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Le.mode)&&void 0!==N?N:null);pe(Ke&&gt&&st,"argument-error"),this.apiKey=Ke,this.operation=st,this.code=gt,this.continueUrl=null!==(P=Le.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Y=Le.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(be=Le.tenantId)&&void 0!==be?be:null}static parseLink(_){const E=function(C){const _=(0,q.zd)((0,q.pd)(C)).link,E=_?(0,q.zd)((0,q.pd)(_)).deep_link_id:null,I=(0,q.zd)((0,q.pd)(C)).deep_link_id;return(I?(0,q.zd)((0,q.pd)(I)).link:null)||I||E||_||C}(_);try{return new Mc(E)}catch(I){return null}}}let sm=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,I){return kn._fromEmailAndPassword(E,I)}static credentialWithLink(E,I){const N=Mc.parseLink(I);return pe(N,"argument-error"),kn._fromEmailAndCode(E,N.code,N.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Qs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ol extends Qs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class al extends ol{static credentialFromJSON(_){const E="string"==typeof _?JSON.parse(_):_;return pe("providerId"in E&&"signInMethod"in E,"argument-error"),pi._fromParams(E)}credential(_){return this._credential(_)}_credential(_){return pe(_.idToken||_.accessToken,"argument-error"),pi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return al.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return al.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:N,pendingToken:P,nonce:Y,providerId:be}=_;if(!I&&!N&&!E&&!P||!be)return null;try{return new al(be)._credential({idToken:E,accessToken:I,rawNonce:Y,pendingToken:P})}catch(Le){return null}}}let lv=(()=>{class C extends ol{constructor(){super("facebook.com")}static credential(E){return pi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),yf=(()=>{class C extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(E,I){return pi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:N}=E;if(!I&&!N)return null;try{return C.credential(I,N)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),_f=(()=>{class C extends ol{constructor(){super("github.com")}static credential(E){return pi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Go extends hi{constructor(_,E){super(_,_),this.pendingToken=E}_getIdTokenResponse(_){return Es(_,this.buildRequest())}_linkToIdToken(_,E){const I=this.buildRequest();return I.idToken=E,Es(_,I)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Es(_,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:N,pendingToken:P}=E;return I&&N&&P&&I===N?new Go(I,P):null}static _create(_,E){return new Go(_,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let cv=(()=>{class C extends ol{constructor(){super("twitter.com")}static credential(E,I){return pi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:I,oauthTokenSecret:N}=E;if(!I||!N)return null;try{return C.credential(I,N)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Js(C,_){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signUp",rn(C,_))})).apply(this,arguments)}class zr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,I,N=!1){return(0,g.Z)(function*(){const P=yield it._fromIdTokenResponse(_,I,N),Y=Pc(I);return new zr({user:P,providerId:Y,_tokenResponse:I,operationType:E})})()}static _forOperation(_,E,I){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const N=Pc(I);return new zr({user:_,providerId:N,_tokenResponse:I,operationType:E})})()}}function Pc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function am(){return(am=(0,g.Z)(function*(C){var _;const E=jt(C);if(yield E._initializationPromise,null===(_=E.currentUser)||void 0===_?void 0:_.isAnonymous)return new zr({user:E.currentUser,providerId:null,operationType:"signIn"});const I=yield Js(E,{returnSecureToken:!0}),N=yield zr._fromIdTokenResponse(E,"signIn",I,!0);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}class kc extends q.ZR{constructor(_,E,I,N){var P;super(E.code,E.message),this.operationType=I,this.user=N,this.name="FirebaseError",Object.setPrototypeOf(this,kc.prototype),this.appName=_.name,this.code=E.code,this.tenantId=null!==(P=_.tenantId)&&void 0!==P?P:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(_,E,I,N){return new kc(_,E,I,N)}}function Fc(C,_,E,I){return("reauthenticate"===_?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?kc._fromErrorAndOperation(C,P,_,I):P})}function um(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function bf(){return(bf=(0,g.Z)(function*(C,_){const E=(0,q.m9)(C);yield ul(!0,E,_);const{providerUserInfo:I}=yield jo(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[_]}),N=um(I||[]);return E.providerData=E.providerData.filter(P=>N.has(P.providerId)),N.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Wr(C,_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,g.Z)(function*(C,_,E=!1){const I=yield Ge(C,_._linkToIdToken(C.auth,yield C.getIdToken()),E);return zr._forOperation(C,"link",I)})).apply(this,arguments)}function ul(C,_,E){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,g.Z)(function*(C,_,E){yield tn(_);const N=!1===C?"provider-already-linked":"no-such-provider";pe(um(_.providerData).has(E)===C,_.auth,N)})).apply(this,arguments)}function Ua(C,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,g.Z)(function*(C,_,E=!1){const{auth:I}=C,N="reauthenticate";try{const P=yield Ge(C,Fc(I,N,_,C),E);pe(P.idToken,I,"internal-error");const Y=an(P.idToken);pe(Y,I,"internal-error");const{sub:be}=Y;return pe(C.uid===be,I,"user-mismatch"),zr._forOperation(C,N,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ve(I,"user-mismatch"),P}})).apply(this,arguments)}function Uc(C,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(C,_,E=!1){const I="signIn",N=yield Fc(C,I,_),P=yield zr._fromIdTokenResponse(C,I,N);return E||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Bc(C,_){return jc.apply(this,arguments)}function jc(){return(jc=(0,g.Z)(function*(C,_){return Uc(jt(C),_)})).apply(this,arguments)}function lm(C,_){return cn.apply(this,arguments)}function cn(){return(cn=(0,g.Z)(function*(C,_){const E=(0,q.m9)(C);return yield ul(!1,E,_.providerId),Wr(E,_)})).apply(this,arguments)}function cm(C,_){return dm.apply(this,arguments)}function dm(){return(dm=(0,g.Z)(function*(C,_){return Ua((0,q.m9)(C),_)})).apply(this,arguments)}function $c(C,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(C,_){return Rr(C,"POST","/v1/accounts:signInWithCustomToken",rn(C,_))})).apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(C,_){const E=jt(C),I=yield $c(E,{token:_,returnSecureToken:!0}),N=yield zr._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}class eo{constructor(_,E){this.factorId=_,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(_,E){return"phoneInfo"in E?gr._fromServerResponse(_,E):Ve(_,"internal-error")}}class gr extends eo{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,E){return new gr(E)}}function cl(C,_,E){var I;pe((null===(I=E.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),pe(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=E.url,_.dynamicLinkDomain=E.dynamicLinkDomain,_.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(pe(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iosBundleId=E.iOS.bundleId),E.android&&(pe(E.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=E.android.installApp,_.androidMinimumVersionCode=E.android.minimumVersion,_.androidPackageName=E.android.packageName)}function Hc(){return(Hc=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C),N={requestType:"PASSWORD_RESET",email:_};E&&cl(I,N,E),yield Gr(I,N)})).apply(this,arguments)}function qc(){return(qc=(0,g.Z)(function*(C,_,E){yield Cn((0,q.m9)(C),{oobCode:_,newPassword:E})})).apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(C,_){yield rl((0,q.m9)(C),{oobCode:_})})).apply(this,arguments)}function dv(C,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(C,_){const E=(0,q.m9)(C),I=yield Cn(E,{oobCode:_}),N=I.requestType;switch(pe(N,E,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(I.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(I.mfaInfo,E,"internal-error");default:pe(I.email,E,"internal-error")}let P=null;return I.mfaInfo&&(P=eo._fromServerResponse(jt(E),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:N}})).apply(this,arguments)}function dl(){return(dl=(0,g.Z)(function*(C,_){const{data:E}=yield dv((0,q.m9)(C),_);return E.email})).apply(this,arguments)}function Wo(){return(Wo=(0,g.Z)(function*(C,_,E){const I=jt(C),N=yield Js(I,{returnSecureToken:!0,email:_,password:E}),P=yield zr._fromIdTokenResponse(I,"signIn",N);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function Rt(){return(Rt=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C),N={requestType:"EMAIL_SIGNIN",email:_};pe(E.handleCodeInApp,I,"argument-error"),E&&cl(I,N,E),yield Qt(I,N)})).apply(this,arguments)}function Zc(){return(Zc=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C),N=sm.credentialWithLink(_,E||de());return pe(N._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Bc(I,N)})).apply(this,arguments)}function hl(C,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:createAuthUri",rn(C,_))})).apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(C,_){const I={identifier:_,continueUri:X()?de():"http://localhost"},{signinMethods:N}=yield hl((0,q.m9)(C),I);return N||[]})).apply(this,arguments)}function fm(){return(fm=(0,g.Z)(function*(C,_){const E=(0,q.m9)(C),N={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&cl(E.auth,N,_);const{email:P}=yield pr(E.auth,N);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function ro(){return(ro=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};E&&cl(I.auth,P,E);const{email:Y}=yield ff(I.auth,P);Y!==C.email&&(yield C.reload())})).apply(this,arguments)}function Mr(C,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function io(){return(io=(0,g.Z)(function*(C,{displayName:_,photoURL:E}){if(void 0===_&&void 0===E)return;const I=(0,q.m9)(C),P={idToken:yield I.getIdToken(),displayName:_,photoUrl:E,returnSecureToken:!0},Y=yield Ge(I,Mr(I.auth,P));I.displayName=Y.displayName||null,I.photoURL=Y.photoUrl||null;const be=I.providerData.find(({providerId:Le})=>"password"===Le);be&&(be.displayName=I.displayName,be.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Af(C,_,E){return fl.apply(this,arguments)}function fl(){return(fl=(0,g.Z)(function*(C,_,E){const{auth:I}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(P.email=_),E&&(P.password=E);const Y=yield Ge(C,mn(I,P));yield C._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class so{constructor(_,E,I={}){this.isNewUser=_,this.providerId=E,this.profile=I}}class zc extends so{constructor(_,E,I,N){super(_,E,I),this.username=N}}class gm extends so{constructor(_,E){super(_,"facebook.com",E)}}class mm extends zc{constructor(_,E){super(_,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class pv extends so{constructor(_,E){super(_,"google.com",E)}}class gv extends zc{constructor(_,E,I){super(_,"twitter.com",E,I)}}function pl(C){const{user:_,_tokenResponse:E}=C;return _.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,E;if(!C)return null;const{providerId:I}=C,N=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const Y=null===(E=null===(_=an(C.idToken))||void 0===_?void 0:_.firebase)||void 0===E?void 0:E.sign_in_provider;if(Y)return new so(P,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!I)return null;switch(I){case"facebook.com":return new gm(P,N);case"github.com":return new mm(P,N);case"google.com":return new pv(P,N);case"twitter.com":return new gv(P,N,C.screenName||null);case"custom":case"anonymous":return new so(P,null);default:return new so(P,I,N)}}(E)}class Or{constructor(_,E){this.type=_,this.credential=E}static _fromIdtoken(_){return new Or("enroll",_)}static _fromMfaPendingCredential(_){return new Or("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var E,I;if(null==_?void 0:_.multiFactorSession){if(null===(E=_.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Or._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return Or._fromIdtoken(_.multiFactorSession.idToken)}return null}}class dn{constructor(_,E,I){this.session=_,this.hints=E,this.signInResolver=I}static _fromError(_,E){const I=jt(_),N=(E.serverResponse.mfaInfo||[]).map(Y=>eo._fromServerResponse(I,Y));pe(E.serverResponse.mfaPendingCredential,I,"internal-error");const P=Or._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new dn(P,N,function(){var Y=(0,g.Z)(function*(be){const Le=yield be._process(I,P);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const Ke=Object.assign(Object.assign({},E.serverResponse),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(E.operationType){case"signIn":const gt=yield zr._fromIdTokenResponse(I,E.operationType,Ke);return yield I._updateCurrentUser(gt.user),gt;case"reauthenticate":return pe(E.user,I,"internal-error"),zr._forOperation(E.user,E.operationType,Ke);default:Ve(I,"internal-error")}});return function(be){return Y.apply(this,arguments)}}())}resolveSignIn(_){var E=this;return(0,g.Z)(function*(){return E.signInResolver(_)})()}}function _v(C,_){return Dt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},_))}class xf{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(I=>eo._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new xf(_)}getSession(){var _=this;return(0,g.Z)(function*(){return Or._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,E){var I=this;return(0,g.Z)(function*(){const N=_,P=yield I.getSession(),Y=yield Ge(I.user,N._process(I.user.auth,P,E));return yield I.user._updateTokensIfNecessary(Y),I.user.reload()})()}unenroll(_){var E=this;return(0,g.Z)(function*(){const I="string"==typeof _?_:_.uid,N=yield E.user.getIdToken(),P=yield Ge(E.user,function(C,_){return Dt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},_))}(E.user.auth,{idToken:N,mfaEnrollmentId:I}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Y})=>Y!==I),yield E.user._updateTokensIfNecessary(P);try{yield E.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const Nf=new WeakMap,Yo="__sak";class Kc{constructor(_,E){this.storage=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const Ki=(()=>{class C extends Kc{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,q.z$)();return Ks(C)||_s(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=hf(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const I of Object.keys(this.listeners)){const N=this.storage.getItem(I),P=this.localCache[I];N!==P&&E(I,P,N)}}onStorageEvent(E,I=!1){if(!E.key)return void this.forAllChangedKeys((be,Le,Ke)=>{this.notifyListeners(be,Ke)});const N=E.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(N);if(E.newValue!==be)null!==E.newValue?this.storage.setItem(N,E.newValue):this.storage.removeItem(N);else if(this.localCache[N]===E.newValue&&!I)return}const P=()=>{const be=this.storage.getItem(N);!I&&this.localCache[N]===be||this.notifyListeners(N,be)},Y=this.storage.getItem(N);(0,q.w1)()&&10===document.documentMode&&Y!==E.newValue&&E.newValue!==E.oldValue?setTimeout(P,10):P()}notifyListeners(E,I){this.localCache[E]=I;const N=this.listeners[E];if(N)for(const P of Array.from(N))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,I,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:I,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,I){var N=()=>super._set,P=this;return(0,g.Z)(function*(){yield N().call(P,E,I),P.localCache[E]=JSON.stringify(I)})()}_get(E){var I=()=>super._get,N=this;return(0,g.Z)(function*(){const P=yield I().call(N,E);return N.localCache[E]=JSON.stringify(P),P})()}_remove(E){var I=()=>super._remove,N=this;return(0,g.Z)(function*(){yield I().call(N,E),delete N.localCache[E]})()}}return C.type="LOCAL",C})(),oo=(()=>{class C extends Kc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,I){}_removeListener(E,I){}}return C.type="SESSION",C})();let bm=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const I=this.receivers.find(P=>P.isListeningto(E));if(I)return I;const N=new C(E);return this.receivers.push(N),N}isListeningto(E){return this.eventTarget===E}handleEvent(E){var I=this;return(0,g.Z)(function*(){const N=E,{eventId:P,eventType:Y,data:be}=N.data,Le=I.handlersMap[Y];if(!(null==Le?void 0:Le.size))return;N.ports[0].postMessage({status:"ack",eventId:P,eventType:Y});const Ke=Array.from(Le).map(function(){var st=(0,g.Z)(function*(Dn){return Dn(N.origin,be)});return function(Dn){return st.apply(this,arguments)}}()),gt=yield function(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(I){return{fulfilled:!1,reason:I}}});return function(E){return _.apply(this,arguments)}}()))}(Ke);N.ports[0].postMessage({status:"done",eventId:P,eventType:Y,response:gt})})()}_subscribe(E,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(I)}_unsubscribe(E,I){this.handlersMap[E]&&I&&this.handlersMap[E].delete(I),(!I||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ml(C="",_=10){let E="";for(let I=0;I<_;I++)E+=Math.floor(10*Math.random());return C+E}class ao{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E,I=50){var N=this;return(0,g.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Y,be;return new Promise((Le,Ke)=>{const gt=ml("",20);P.port1.start();const st=setTimeout(()=>{Ke(new Error("unsupported_event"))},I);be={messageChannel:P,onMessage(Dn){const Gn=Dn;if(Gn.data.eventId===gt)switch(Gn.data.status){case"ack":clearTimeout(st),Y=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Le(Gn.data.response);break;default:clearTimeout(st),clearTimeout(Y),Ke(new Error("invalid_response"))}}},N.handlers.add(be),P.port1.addEventListener("message",be.onMessage),N.target.postMessage({eventType:_,eventId:gt,data:E},[P.port2])}).finally(()=>{be&&N.removeMessageHandler(be)})})()}}function qn(){return window}function uo(){return void 0!==qn().WorkerGlobalScope&&"function"==typeof qn().importScripts}function Qc(){return(Qc=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Pf="firebaseLocalStorageDb",Jc="firebaseLocalStorage",Ba="fbase_key";class ja{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function $a(C,_){return C.transaction([Jc],_?"readwrite":"readonly").objectStore(Jc)}function kf(){const C=indexedDB.open(Pf,1);return new Promise((_,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(Jc,{keyPath:Ba})}catch(N){E(N)}}),C.addEventListener("success",(0,g.Z)(function*(){const I=C.result;I.objectStoreNames.contains(Jc)?_(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(Pf);return new ja(C).toPromise()}(),_(yield kf()))}))})}function Jt(C,_,E){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,g.Z)(function*(C,_,E){const I=$a(C,!0).put({[Ba]:_,value:E});return new ja(I).toPromise()})).apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(C,_){const E=$a(C,!1).get(_),I=yield new ja(E).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Xc(C,_){const E=$a(C,!0).delete(_);return new ja(E).toPromise()}const Mi=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,g.Z)(function*(){return E.db||(E.db=yield kf()),E.db})()}_withRetries(E){var I=this;return(0,g.Z)(function*(){let N=0;for(;;)try{const P=yield I._openDb();return yield E(P)}catch(P){if(N++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,g.Z)(function*(){return uo()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,g.Z)(function*(){E.receiver=bm._getInstance(uo()?self:null),E.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(N,P){return{keyProcessed:(yield E._poll()).includes(P.key)}});return function(N,P){return I.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(N,P){return["keyChanged"]});return function(N,P){return I.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,g.Z)(function*(){var I,N;if(E.activeServiceWorker=yield function(){return Qc.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new ao(E.activeServiceWorker);const P=yield E.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(N=P[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:E},I.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const E=yield kf();return yield Jt(E,Yo,"1"),yield Xc(E,Yo),!0}catch(E){}return!1})()}_withPendingWrite(E){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield E()}finally{I.pendingWrites--}})()}_set(E,I){var N=this;return(0,g.Z)(function*(){return N._withPendingWrite((0,g.Z)(function*(){return yield N._withRetries(P=>Jt(P,E,I)),N.localCache[E]=I,N.notifyServiceWorker(E)}))})()}_get(E){var I=this;return(0,g.Z)(function*(){const N=yield I._withRetries(P=>function(C,_){return ht.apply(this,arguments)}(P,E));return I.localCache[E]=N,N})()}_remove(E){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(N=>Xc(N,E)),delete I.localCache[E],I.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,g.Z)(function*(){const I=yield E._withRetries(Y=>{const be=$a(Y,!1).getAll();return new ja(be).toPromise()});if(!I)return[];if(0!==E.pendingWrites)return[];const N=[],P=new Set;for(const{fbase_key:Y,value:be}of I)P.add(Y),JSON.stringify(E.localCache[Y])!==JSON.stringify(be)&&(E.notifyListeners(Y,be),N.push(Y));for(const Y of Object.keys(E.localCache))E.localCache[Y]&&!P.has(Y)&&(E.notifyListeners(Y,null),N.push(Y));return N})()}notifyListeners(E,I){this.localCache[E]=I;const N=this.listeners[E];if(N)for(const P of Array.from(N))P(I)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Oi(C,_){return Dt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},_))}function td(){return(td=(0,g.Z)(function*(C){return(yield Dt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cm(C){return new Promise((_,E)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=_,I.onerror=N=>{const P=Be("internal-error");P.customData=N,E(P)},I.type="text/javascript",I.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(I)})}function ws(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ln=1e12;class Cs{constructor(_){this.auth=_,this.counter=Ln,this._widgets=new Map}render(_,E){const I=this.counter;return this._widgets.set(I,new Ha(_,this.auth.name,E||{})),this.counter++,I}reset(_){var E;const I=_||Ln;null===(E=this._widgets.get(I))||void 0===E||E.delete(),this._widgets.delete(I)}getResponse(_){var E;return(null===(E=this._widgets.get(_||Ln))||void 0===E?void 0:E.getResponse())||""}execute(_){var E=this;return(0,g.Z)(function*(){var I;return null===(I=E._widgets.get(_||Ln))||void 0===I||I.execute(),""})()}}class Ha{constructor(_,E,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof _?document.getElementById(_):_;pe(N,"argument-error",{appName:E}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)_.push(E.charAt(Math.floor(Math.random()*E.length)));return _.join("")}();const{callback:_,"expired-callback":E}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qa=ws("rcb"),nd=new nt(3e4,6e4);class ea{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qn().grecaptcha}load(_,E=""){return pe((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(qn().grecaptcha):new Promise((I,N)=>{const P=qn().setTimeout(()=>{N(Be(_,"network-request-failed"))},nd.get());qn()[qa]=()=>{qn().clearTimeout(P),delete qn()[qa];const be=qn().grecaptcha;if(!be)return void N(Be(_,"internal-error"));const Le=be.render;be.render=(Ke,gt)=>{const st=Le(Ke,gt);return this.counter++,st},this.hostLanguage=E,I(be)},Cm(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:qa,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(P),N(Be(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!qn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ga{load(_){return(0,g.Z)(function*(){return new Cs(_)})()}clearedOneInstance(){}}const _l="recaptcha",lo={theme:"light",type:"image"};class na{constructor(_,E=Object.assign({},lo),I){this.parameters=E,this.type=_l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jt(I),this.isInvisible="invisible"===this.parameters.size,pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof _?document.getElementById(_):_;pe(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ga:new ea,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const E=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(E)||new Promise(P=>{const Y=be=>{!be||(_.tokenChangeListeners.delete(Y),P(be))};_.tokenChangeListeners.add(Y),_.isInvisible&&I.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return E=>{if(this.tokenChangeListeners.forEach(I=>I(E)),"function"==typeof _)_(E);else if("string"==typeof _){const I=qn()[_];"function"==typeof I&&I(E)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let E=_.container;if(!_.isInvisible){const I=document.createElement("div");E.appendChild(I),E=I}_.widgetId=_.getAssertedRecaptcha().render(E,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){pe(X()&&!uo(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const E=yield function(C){return td.apply(this,arguments)}(_.auth);pe(E,_.auth,"internal-error"),_.parameters.sitekey=E})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rd{constructor(_,E){this.verificationId=_,this.onConfirmation=E}confirm(_){const E=Va._fromVerification(this.verificationId,_);return this.onConfirmation(E)}}function id(){return(id=(0,g.Z)(function*(C,_,E){const I=jt(C),N=yield ad(I,_,(0,q.m9)(E));return new rd(N,P=>Bc(I,P))})).apply(this,arguments)}function sd(){return(sd=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C);yield ul(!1,I,"phone");const N=yield ad(I.auth,_,(0,q.m9)(E));return new rd(N,P=>lm(I,P))})).apply(this,arguments)}function od(){return(od=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C),N=yield ad(I.auth,_,(0,q.m9)(E));return new rd(N,P=>cm(I,P))})).apply(this,arguments)}function ad(C,_,E){return ud.apply(this,arguments)}function ud(){return(ud=(0,g.Z)(function*(C,_,E){var I;const N=yield E.verify();try{let P;if(pe("string"==typeof N,C,"argument-error"),pe(E.type===_l,C,"argument-error"),P="string"==typeof _?{phoneNumber:_}:_,"session"in P){const Y=P.session;if("phoneNumber"in P)return pe("enroll"===Y.type,C,"internal-error"),(yield _v(C,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{pe("signin"===Y.type,C,"internal-error");const be=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return pe(be,C,"missing-multi-factor-info"),(yield Oi(C,{mfaPendingCredential:Y.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Nc(C,{phoneNumber:P.phoneNumber,recaptchaToken:N});return Y}}finally{E._reset()}})).apply(this,arguments)}function Bf(){return(Bf=(0,g.Z)(function*(C,_){yield Wr((0,q.m9)(C),_)})).apply(this,arguments)}let vl=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=jt(E)}verifyPhoneNumber(E,I){return ad(this.auth,E,(0,q.m9)(I))}static credential(E,I){return Va._fromVerification(E,I)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:I,temporaryProof:N}=E;return I&&N?Va._fromTokenResponse(I,N):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function co(C,_){return _?se(_):(pe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class El extends hi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Es(_,this._buildIdpRequest())}_linkToIdToken(_,E){return Es(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return Es(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function Dv(C){return Uc(C.auth,new El(C),C.bypassAuthState)}function Za(C){const{auth:_,user:E}=C;return pe(E,_,"internal-error"),Ua(E,new El(C),C.bypassAuthState)}function Sv(C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,g.Z)(function*(C){const{auth:_,user:E}=C;return pe(E,_,"internal-error"),Wr(E,new El(C),C.bypassAuthState)})).apply(this,arguments)}class _i{constructor(_,E,I,N,P=!1){this.auth=_,this.resolver=I,this.user=N,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,g.Z)(function*(I,N){_.pendingPromise={resolve:I,reject:N};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(P){_.reject(P)}});return function(I,N){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:N,postBody:P,tenantId:Y,error:be,type:Le}=_;if(be)return void E.reject(be);const Ke={auth:E.auth,requestUri:I,sessionId:N,tenantId:Y||void 0,postBody:P||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Le)(Ke))}catch(gt){E.reject(gt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Dv;case"linkViaPopup":case"linkViaRedirect":return Sv;case"reauthViaPopup":case"reauthViaRedirect":return Za;default:Ve(this.auth,"internal-error")}}resolve(_){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bl=new nt(2e3,1e4);function Im(){return(Im=(0,g.Z)(function*(C,_,E){const I=jt(C);pe(_ instanceof Qs,C,"argument-error");const N=co(I,E);return new Yr(I,"signInViaPopup",_,N).executeNotNull()})).apply(this,arguments)}function Fr(){return(Fr=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C);pe(_ instanceof Qs,I.auth,"argument-error");const N=co(I.auth,E);return new Yr(I.auth,"reauthViaPopup",_,N,I).executeNotNull()})).apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C);pe(_ instanceof Qs,I.auth,"argument-error");const N=co(I.auth,E);return new Yr(I.auth,"linkViaPopup",_,N,I).executeNotNull()})).apply(this,arguments)}let Yr=(()=>{class C extends _i{constructor(E,I,N,P,Y){super(E,I,P,Y),this.provider=N,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,g.Z)(function*(){const I=yield E.execute();return pe(I,E.auth,"internal-error"),I})()}onExecution(){var E=this;return(0,g.Z)(function*(){pt(1===E.filter.length,"Popup operations only handle one event");const I=ml();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],I),E.authWindow.associatedEvent=I,E.resolver._originValidation(E.auth).catch(N=>{E.reject(N)}),E.resolver._isIframeWebStorageSupported(E.auth,N=>{N||E.reject(Be(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var I,N;this.pollId=(null===(N=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,bl.get())};E()}}return C.currentPopupAction=null,C})();const Wa=new Map;class ld extends _i{constructor(_,E,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,g.Z)(function*(){let I=Wa.get(E.auth._key());if(!I){try{const P=(yield function(C,_){return cd.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;I=()=>Promise.resolve(P)}catch(N){I=()=>Promise.reject(N)}Wa.set(E.auth._key(),I)}return I()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return E().call(I,_);if("unknown"!==_.type){if(_.eventId){const N=yield I.auth._redirectUserForId(_.eventId);if(N)return I.user=N,E().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function cd(){return(cd=(0,g.Z)(function*(C,_){const E=Av(_),I="true"===(yield Is(C)._get(E));return yield Is(C)._remove(E),I})).apply(this,arguments)}function ra(C,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,g.Z)(function*(C,_){return Is(C)._set(Av(_),"true")})).apply(this,arguments)}function Is(C){return se(C._redirectPersistence)}function Av(C){return At("pendingRedirect",C.config.apiKey,C.name)}function Dm(){return(Dm=(0,g.Z)(function*(C,_,E){const I=jt(C);pe(_ instanceof Qs,C,"argument-error");const N=co(I,E);return yield ra(N,I),N._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function qf(){return(qf=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C);pe(_ instanceof Qs,I.auth,"argument-error");const N=co(I.auth,E);yield ra(N,I.auth);const P=yield Ya(I);return N._openRedirect(I.auth,_,"reauthViaRedirect",P)})).apply(this,arguments)}function Ds(){return(Ds=(0,g.Z)(function*(C,_,E){const I=(0,q.m9)(C);pe(_ instanceof Qs,I.auth,"argument-error");const N=co(I.auth,E);yield ul(!1,I,_.providerId),yield ra(N,I.auth);const P=yield Ya(I);return N._openRedirect(I.auth,_,"linkViaRedirect",P)})).apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(C,_){return yield jt(C)._initializationPromise,Ss(C,_,!1)})).apply(this,arguments)}function Ss(C,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(C,_,E=!1){const I=jt(C),N=co(I,_),Y=yield new ld(I,N,E).execute();return Y&&!E&&(delete Y.user._redirectEventId,yield I._persistUserIfCurrent(Y.user),yield I._setRedirectUser(null,_)),Y})).apply(this,arguments)}function Ya(C){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,g.Z)(function*(C){const _=ml(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Cl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(E=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tl(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var I;if(_.error&&!Tl(_)){const N=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";E.onError(Be(this.auth,N))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const I=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zf(_))}saveEventToCache(_){this.cachedEventUids.add(zf(_)),this.lastProcessedEventTime=Date.now()}}function zf(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Tl({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function As(C){return ho.apply(this,arguments)}function ho(){return(ho=(0,g.Z)(function*(C,_={}){return Dt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dd=/^https?/;function fo(){return(fo=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield As(C);for(const E of _)try{if(Rs(E))return}catch(I){}Ve(C,"unauthorized-domain")})).apply(this,arguments)}function Rs(C){const _=de(),{protocol:E,hostname:I}=new URL(_);if(C.startsWith("chrome-extension://")){const Y=new URL(C);return""===Y.hostname&&""===I?"chrome-extension:"===E&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&Y.hostname===I}if(!dd.test(E))return!1;if(hn.test(C))return I===C;const N=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(I)}const Wf=new nt(3e4,6e4);function hd(){const C=qn().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let Kf=null;function sa(C){return Kf=Kf||function(C){return new Promise((_,E)=>{var I,N,P;function Y(){hd(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{hd(),E(Be(C,"network-request-failed"))},timeout:Wf.get()})}if(null===(N=null===(I=qn().gapi)||void 0===I?void 0:I.iframes)||void 0===N?void 0:N.Iframe)_(gapi.iframes.getContext());else{if(!(null===(P=qn().gapi)||void 0===P?void 0:P.load)){const be=ws("iframefcb");return qn()[be]=()=>{gapi.load?Y():E(Be(C,"network-request-failed"))},Cm(`https://apis.google.com/js/api.js?onload=${be}`)}Y()}}).catch(_=>{throw Kf=null,_})}(C),Kf}const xs=new nt(5e3,15e3),Sm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qf(C){const _=C.config;pe(_.authDomain,C,"auth-domain-config-required");const E=_.emulator?Ct(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:C.name,v:ie.SDK_VERSION},N=fd.get(C.config.apiHost);N&&(I.eid=N);const P=C._getFrameworks();return P.length&&(I.fw=P.join(",")),`${E}?${(0,q.xO)(I).slice(1)}`}function pd(){return(pd=(0,g.Z)(function*(C){const _=yield sa(C),E=qn().gapi;return pe(E,C,"internal-error"),_.open({where:document.body,url:Qf(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sm,dontclear:!0},I=>new Promise(function(){var N=(0,g.Z)(function*(P,Y){yield I.restyle({setHideOnLeave:!1});const be=Be(C,"network-request-failed"),Le=qn().setTimeout(()=>{Y(be)},xs.get());function Ke(){qn().clearTimeout(Le),P(I)}I.ping(Ke).then(Ke,()=>{Y(be)})});return function(P,Y){return N.apply(this,arguments)}}()))})).apply(this,arguments)}const uC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rm{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function oa(C,_,E,I,N,P){pe(C.config.authDomain,C,"auth-domain-config-required"),pe(C.config.apiKey,C,"invalid-api-key");const Y={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:I,v:ie.SDK_VERSION,eventId:N};if(_ instanceof Qs){_.setDefaultLanguage(C.languageCode),Y.providerId=_.providerId||"",(0,q.xb)(_.getCustomParameters())||(Y.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Le,Ke]of Object.entries(P||{}))Y[Le]=Ke}if(_ instanceof ol){const Le=_.getScopes().filter(Ke=>""!==Ke);Le.length>0&&(Y.scopes=Le.join(","))}C.tenantId&&(Y.tid=C.tenantId);const be=Y;for(const Le of Object.keys(be))void 0===be[Le]&&delete be[Le];return`${function({config:C}){return C.emulator?Ct(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,q.xO)(be).slice(1)}`}const po="webStorageSupport";class Xf extends class{constructor(_){this.factorId=_}_process(_,E,I){switch(E.type){case"enroll":return this._finalizeEnroll(_,E.credential,I);case"signin":return this._finalizeSignIn(_,E.credential);default:return Ft("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Xf(_)}_finalizeEnroll(_,E,I){return function(C,_){return Dt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{idToken:E,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,E){return function(C,_){return Dt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ep{constructor(){}static assertion(_){return Xf._fromCredential(_)}}var C;class Nm{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,g.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(I=>{var N;_((null===(N=I)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);!E||(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function go(){return window}function Il(){return(Il=(0,g.Z)(function*(C,_,E){var I;const{BuildInfo:N}=go();pt(_.sessionId,"AuthEvent did not contain a session ID");const P=yield Pm(_.sessionId),Y={};return _s()?Y.ibi=N.packageName:Ma()?Y.apn=N.packageName:Ve(C,"operation-not-supported-in-this-environment"),N.displayName&&(Y.appDisplayName=N.displayName),Y.sessionId=P,oa(C,E,_.type,void 0,null!==(I=_.eventId)&&void 0!==I?I:void 0,Y)})).apply(this,arguments)}function vi(){return(vi=(0,g.Z)(function*(C){const{BuildInfo:_}=go(),E={};_s()?E.iosBundleId=_.packageName:Ma()?E.androidPackageName=_.packageName:Ve(C,"operation-not-supported-in-this-environment"),yield As(C,E)})).apply(this,arguments)}function vd(){return(vd=(0,g.Z)(function*(C,_,E){const{cordova:I}=go();let N=()=>{};try{yield new Promise((P,Y)=>{let be=null;function Le(){var st;P();const Dn=null===(st=I.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Dn&&Dn(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function Ke(){be||(be=window.setTimeout(()=>{Y(Be(C,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}_.addPassiveListener(Le),document.addEventListener("resume",Ke,!1),Ma()&&document.addEventListener("visibilitychange",gt,!1),N=()=>{_.removePassiveListener(Le),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",gt,!1),be&&window.clearTimeout(be)}})}finally{N()}})).apply(this,arguments)}function Pm(C){return np.apply(this,arguments)}function np(){return(np=(0,g.Z)(function*(C){const _=Uv(C),E=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(E)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Uv(C){if(pt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),E=new Uint8Array(_);for(let I=0;I<C.length;I++)E[I]=C.charCodeAt(I);return E}C="Browser",(0,ie._registerComponent)(new we.wA("auth",(_,{options:E})=>{const I=_.getProvider("app").getImmediate(),{apiKey:N,authDomain:P}=I.options;return(Y=>{pe(N&&!N.includes(":"),"invalid-api-key",{appName:Y.name}),pe(!(null==P?void 0:P.includes(":")),"argument-error",{appName:Y.name});const be={apiKey:N,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zi(C)},Le=new $o(Y,be);return function(C,_){const E=(null==_?void 0:_.persistence)||[],I=(Array.isArray(E)?E:[E]).map(se);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(Le,E),Le})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,I)=>{_.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new we.wA("auth-internal",_=>{const E=jt(_.getProvider("auth").getImmediate());return new Nm(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)("@firebase/auth","0.17.1",void 0);class km extends Cl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(_)),super.onEvent(_)}initialized(){var _=this;return(0,g.Z)(function*(){yield _.initPromise})()}}function Lm(C){return rp.apply(this,arguments)}function rp(){return(rp=(0,g.Z)(function*(C){const _=yield Ed()._get(Jr(C));return _&&(yield Ed()._remove(Jr(C))),_})).apply(this,arguments)}function nu(){const C=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const I=Math.floor(Math.random()*_.length);C.push(_.charAt(I))}return C.join("")}function Ed(){return se(Ki)}function Jr(C){return At("authEvent",C.config.apiKey,C.name)}function wd(C){if(!(null==C?void 0:C.includes("?")))return{};const[_,...E]=C.split("?");return(0,q.zd)(E.join("?"))}function qv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}function ki(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function sp(C=(0,q.z$)()){return!("file:"!==ki()&&"ionic:"!==ki()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dd(){try{const C=self.localStorage,_=ml();if(C)return C.setItem(_,"1"),C.removeItem(_),!function(C=(0,q.z$)()){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,q.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,q.hl)()}catch(C){return Sl()&&(0,q.hl)()}return!1}function Sl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sd(){return("http:"===ki()||"https:"===ki()||(0,q.ru)()||sp())&&!((0,q.b$)()||(0,q.UG)())&&Dd()&&!Sl()}function Gv(){return sp()&&"undefined"!=typeof document}function op(){return(op=(0,g.Z)(function*(){return!!Gv()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const Ei={LOCAL:"local",NONE:"none",SESSION:"session"},mo=pe,yo="persistence";function Al(C){return tr.apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(C){yield C._initializationPromise;const _=Hm(),E=At(yo,C.config.apiKey,C.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(E,C._getPersistence())})).apply(this,arguments)}function Hm(){return"undefined"!=typeof window?window:null}const fC=pe;class ua{constructor(){this.browserResolver=se(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=Ss}_openPopup(_,E,I,N){var P=this;return(0,g.Z)(function*(){var Y;pt(null===(Y=P.eventManagers[_._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const be=oa(_,E,I,de(),N);return function(C,_,E,I=500,N=600){const P=Math.max((window.screen.availHeight-N)/2,0).toString(),Y=Math.max((window.screen.availWidth-I)/2,0).toString();let be="";const Le=Object.assign(Object.assign({},uC),{width:I.toString(),height:N.toString(),top:P,left:Y}),Ke=(0,q.z$)().toLowerCase();E&&(be=Na(Ke)?"_blank":E),Hn(Ke)&&(_=_||"http://localhost",Le.scrollbars="yes");const gt=Object.entries(Le).reduce((Dn,[Gn,vo])=>`${Dn}${Gn}=${vo},`,"");if(function(C=(0,q.z$)()){var _;return _s(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(Ke)&&"_self"!==be)return function(C,_){const E=document.createElement("a");E.href=C,E.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(I)}(_||"",be),new Rm(null);const st=window.open(_||"",be,gt);pe(st,C,"popup-blocked");try{st.focus()}catch(Dn){}return new Rm(st)}(_,be,ml())})()}_openRedirect(_,E,I,N){var P=this;return(0,g.Z)(function*(){return yield P._originValidation(_),C=oa(_,E,I,de(),N),qn().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:N,promise:P}=this.eventManagers[E];return N?Promise.resolve(N):(pt(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(_);return this.eventManagers[E]={promise:I},I}initAndGetManager(_){var E=this;return(0,g.Z)(function*(){const I=yield function(C){return pd.apply(this,arguments)}(_),N=new Cl(_);return I.register("authEvent",P=>(pe(null==P?void 0:P.authEvent,_,"invalid-auth-event"),{status:N.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:N},E.iframes[_._key()]=I,N})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(po,{type:po},N=>{var P;const Y=null===(P=null==N?void 0:N[0])||void 0===P?void 0:P[po];void 0!==Y&&E(!!Y),Ve(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return fo.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return hf()||Ks()||_s()}}),this.cordovaResolver=se(class{constructor(){this._redirectPersistence=oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ss}_initialize(_){var E=this;return(0,g.Z)(function*(){const I=_._key();let N=E.eventManagers.get(I);return N||(N=new km(_),E.eventManagers.set(I,N),E.attachCallbackListeners(_,N)),N})()}_openPopup(_){Ve(_,"operation-not-supported-in-this-environment")}_openRedirect(_,E,I,N){var P=this;return(0,g.Z)(function*(){!function(C){var _,E,I,N,P,Y,be,Le,Ke,gt;const st=go();pe("function"==typeof(null===(_=null==st?void 0:st.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(void 0!==(null===(E=null==st?void 0:st.BuildInfo)||void 0===E?void 0:E.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe("function"==typeof(null===(P=null===(N=null===(I=null==st?void 0:st.cordova)||void 0===I?void 0:I.plugins)||void 0===N?void 0:N.browsertab)||void 0===P?void 0:P.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(Le=null===(be=null===(Y=null==st?void 0:st.cordova)||void 0===Y?void 0:Y.plugins)||void 0===be?void 0:be.browsertab)||void 0===Le?void 0:Le.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(gt=null===(Ke=null==st?void 0:st.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===gt?void 0:gt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const Y=yield P._initialize(_);yield Y.initialized(),Y.resetRedirect(),Wa.clear(),yield P._originValidation(_);const be=function(C,_,E=null){return{type:_,eventId:E,urlResponse:null,sessionId:nu(),postBody:null,tenantId:C.tenantId,error:Be(C,"no-auth-event")}}(_,I,N);yield function(C,_){return Ed()._set(Jr(C),_)}(_,be);const Le=yield function(C,_,E){return Il.apply(this,arguments)}(_,be,E),Ke=yield function(C){const{cordova:_}=go();return new Promise(E=>{_.plugins.browsertab.isAvailable(I=>{let N=null;I?_.plugins.browsertab.openUrl(C):N=_.InAppBrowser.open(C,function(C=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),E(N)})})}(Le);return function(C,_,E){return vd.apply(this,arguments)}(_,Y,Ke)})()}_isIframeWebStorageSupported(_,E){throw new Error("Method not implemented.")}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return vi.apply(this,arguments)}(_)),this.originValidationPromises[E]}attachCallbackListeners(_,E){const{universalLinks:I,handleOpenURL:N,BuildInfo:P}=go(),Y=setTimeout((0,g.Z)(function*(){yield Lm(_),E.onEvent(qv())}),500),be=function(){var gt=(0,g.Z)(function*(st){clearTimeout(Y);const Dn=yield Lm(_);let Gn=null;Dn&&(null==st?void 0:st.url)&&(Gn=function(C,_){var E,I;const N=function(C){const _=wd(C),E=_.link?decodeURIComponent(_.link):void 0,I=wd(E).link,N=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return wd(N).link||N||I||E||C}(_);if(N.includes("/__/auth/callback")){const P=wd(N),Y=P.firebaseError?function(C){try{return JSON.parse(C)}catch(_){return null}}(decodeURIComponent(P.firebaseError)):null,be=null===(I=null===(E=null==Y?void 0:Y.code)||void 0===E?void 0:E.split("auth/"))||void 0===I?void 0:I[1],Le=be?Be(be):null;return Le?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:N,postBody:null}}return null}(Dn,st.url)),E.onEvent(Gn||qv())});return function(Dn){return gt.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,be);const Le=N,Ke=`${P.packageName.toLowerCase()}://`;go().handleOpenURL=function(){var gt=(0,g.Z)(function*(st){if(st.toLowerCase().startsWith(Ke)&&be({url:st}),"function"==typeof Le)try{Le(st)}catch(Dn){console.error(Dn)}});return function(st){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=oo,this._completeRedirectFn=Ss}_initialize(_){var E=this;return(0,g.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,E,I,N){var P=this;return(0,g.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(_,E,I,N)})()}_openRedirect(_,E,I,N){var P=this;return(0,g.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(_,E,I,N)})()}_isIframeWebStorageSupported(_,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,E)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Gv()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,g.Z)(function*(){if(_.underlyingResolver)return;const E=yield function(){return op.apply(this,arguments)}();_.underlyingResolver=E?_.cordovaResolver:_.browserResolver})()}}function ru(C){return C.unwrap()}function ap(C){return up(C)}function qm(C,_){var E;const I=null===(E=_.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new pC(C,function(C,_){var E;const I=(0,q.m9)(C),N=_;return pe(_.operationType,I,"argument-error"),pe(null===(E=N.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,I,"argument-error"),dn._fromError(I,N)}(C,_));else if(I){const N=up(_),P=_;N&&(P.credential=N,P.tenantId=I.tenantId||void 0,P.email=I.email||void 0,P.phoneNumber=I.phoneNumber||void 0)}}function up(C){const{_tokenResponse:_}=C instanceof q.ZR?C.customData:C;if(!_)return null;if(!(C instanceof q.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return vl.credentialFromResult(C);const E=_.providerId;if(!E||"password"===E)return null;let I;switch(E){case"google.com":I=yf;break;case"facebook.com":I=lv;break;case"github.com":I=_f;break;case"twitter.com":I=cv;break;default:const{oauthIdToken:N,oauthAccessToken:P,oauthTokenSecret:Y,pendingToken:be,nonce:Le}=_;return P||Y||N||be?be?E.startsWith("saml.")?Go._create(E,be):pi._fromParams({providerId:E,signInMethod:E,pendingToken:be,idToken:N,accessToken:P}):new al(E).credential({idToken:N,accessToken:P,rawNonce:Le}):null}return C instanceof q.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function Zt(C,_){return la.apply(this,arguments)}function la(){return(la=(0,g.Z)(function*(C,_){let E;try{E=yield _}catch(P){throw P instanceof q.ZR&&qm(C,P),P}const{operationType:I,user:N}=E;return{operationType:I,credential:ap(E),additionalUserInfo:pl(E),user:Os.getOrCreate(N)}})).apply(this,arguments)}function Rl(C,_){return lp.apply(this,arguments)}function lp(){return(lp=(0,g.Z)(function*(C,_){const E=yield _;return{verificationId:E.verificationId,confirm:I=>Zt(C,E.confirm(I))}})).apply(this,arguments)}class pC{constructor(_,E){this.resolver=E,this.auth=function(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Zt(ru(this.auth),this.resolver.resolveSignIn(_))}}class Os{constructor(_){this._delegate=_,this.multiFactor=function(C){const _=(0,q.m9)(C);return Nf.has(_)||Nf.set(_,xf._fromUser(_)),Nf.get(_)}(_)}static getOrCreate(_){return Os.USER_MAP.has(_)||Os.USER_MAP.set(_,new Os(_)),Os.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var E=this;return(0,g.Z)(function*(){return Zt(E.auth,lm(E._delegate,_))})()}linkWithPhoneNumber(_,E){var I=this;return(0,g.Z)(function*(){return Rl(I.auth,function(C,_,E){return sd.apply(this,arguments)}(I._delegate,_,E))})()}linkWithPopup(_){var E=this;return(0,g.Z)(function*(){return Zt(E.auth,function(C,_,E){return Ts.apply(this,arguments)}(E._delegate,_,ua))})()}linkWithRedirect(_){var E=this;return(0,g.Z)(function*(){return yield Al(jt(E.auth)),function(C,_,E){return function(C,_,E){return Ds.apply(this,arguments)}(C,_,E)}(E._delegate,_,ua)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var E=this;return(0,g.Z)(function*(){return Zt(E.auth,cm(E._delegate,_))})()}reauthenticateWithPhoneNumber(_,E){return Rl(this.auth,function(C,_,E){return od.apply(this,arguments)}(this._delegate,_,E))}reauthenticateWithPopup(_){return Zt(this.auth,function(C,_,E){return Fr.apply(this,arguments)}(this._delegate,_,ua))}reauthenticateWithRedirect(_){var E=this;return(0,g.Z)(function*(){return yield Al(jt(E.auth)),function(C,_,E){return function(C,_,E){return qf.apply(this,arguments)}(C,_,E)}(E._delegate,_,ua)})()}sendEmailVerification(_){return function(C,_){return fm.apply(this,arguments)}(this._delegate,_)}unlink(_){var E=this;return(0,g.Z)(function*(){return yield function(C,_){return bf.apply(this,arguments)}(E._delegate,_),E})()}updateEmail(_){return function(C,_){return Af((0,q.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function(C,_){return Af((0,q.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(C,_){return Bf.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(C,_){return io.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,E){return function(C,_,E){return ro.apply(this,arguments)}(this._delegate,_,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;const _o=pe;let xl=(()=>{class C{constructor(E,I){if(this.app=E,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=E.options;_o(N,"invalid-api-key",{appName:E.name});let P=[Ot];if("undefined"!=typeof window){P=function(C,_){const E=Hm();if(!(null==E?void 0:E.sessionStorage))return[];const I=At(yo,C,_);switch(E.sessionStorage.getItem(I)){case Ei.NONE:return[Ot];case Ei.LOCAL:return[Mi,oo];case Ei.SESSION:return[oo];default:return[]}}(N,E.name);for(const be of[Mi,Ki,oo])P.includes(be)||P.push(be)}_o(N,"invalid-api-key",{appName:E.name});const Y="undefined"!=typeof window?ua:void 0;this._delegate=I.initialize({options:{persistence:P,popupRedirectResolver:Y}}),this._delegate._updateErrorMap(he),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,I){!function(C,_,E){const I=jt(C);pe(I._canInitEmulator,I,"emulator-config-failed"),pe(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const N=!!(null==E?void 0:E.disableWarnings),P=$e(_),{host:Y,port:be}=function(C){const _=$e(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!E)return{host:"",port:null};const I=E[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(I);if(N){const P=N[1];return{host:P,port:on(I.substr(P.length+1))}}{const[P,Y]=I.split(":");return{host:P,port:on(Y)}}}(_);I.config.emulator={url:`${P}//${Y}${null===be?"":`:${be}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Y,port:be,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:N})}),function(C){function _(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(N)}(this._delegate,E,I)}applyActionCode(E){return function(C,_){return ct.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return dv(this._delegate,E)}confirmPasswordReset(E,I){return function(C,_,E){return qc.apply(this,arguments)}(this._delegate,E,I)}createUserWithEmailAndPassword(E,I){var N=this;return(0,g.Z)(function*(){return Zt(N._delegate,function(C,_,E){return Wo.apply(this,arguments)}(N._delegate,E,I))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(C,_){return no.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(C,_){const E=Mc.parseLink(_);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,g.Z)(function*(){_o(Sd(),E._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,_){return Pi.apply(this,arguments)}(E._delegate,ua);return I?Zt(E._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(C,_){jt(C)._logFramework(_)}(this._delegate,E)}onAuthStateChanged(E,I,N){const{next:P,error:Y,complete:be}=iu(E,I,N);return this._delegate.onAuthStateChanged(P,Y,be)}onIdTokenChanged(E,I,N){const{next:P,error:Y,complete:be}=iu(E,I,N);return this._delegate.onIdTokenChanged(P,Y,be)}sendSignInLinkToEmail(E,I){return function(C,_,E){return Rt.apply(this,arguments)}(this._delegate,E,I)}sendPasswordResetEmail(E,I){return function(C,_,E){return Hc.apply(this,arguments)}(this._delegate,E,I||void 0)}setPersistence(E){var I=this;return(0,g.Z)(function*(){let N;switch(function(C,_){mo(Object.values(Ei).includes(_),C,"invalid-persistence-type"),(0,q.b$)()?mo(_!==Ei.SESSION,C,"unsupported-persistence-type"):(0,q.UG)()?mo(_===Ei.NONE,C,"unsupported-persistence-type"):Sl()?mo(_===Ei.NONE||_===Ei.LOCAL&&(0,q.hl)(),C,"unsupported-persistence-type"):mo(_===Ei.NONE||Dd(),C,"unsupported-persistence-type")}(I._delegate,E),E){case Ei.SESSION:N=oo;break;case Ei.LOCAL:N=(yield se(Mi)._isAvailable())?Mi:Ki;break;case Ei.NONE:N=Ot;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return Zt(this._delegate,function(C){return am.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return Zt(this._delegate,Bc(this._delegate,E))}signInWithCustomToken(E){return Zt(this._delegate,function(C,_){return Xs.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,I){return Zt(this._delegate,function(C,_,E){return Bc((0,q.m9)(C),sm.credential(_,E))}(this._delegate,E,I))}signInWithEmailLink(E,I){return Zt(this._delegate,function(C,_,E){return Zc.apply(this,arguments)}(this._delegate,E,I))}signInWithPhoneNumber(E,I){return Rl(this._delegate,function(C,_,E){return id.apply(this,arguments)}(this._delegate,E,I))}signInWithPopup(E){var I=this;return(0,g.Z)(function*(){return _o(Sd(),I._delegate,"operation-not-supported-in-this-environment"),Zt(I._delegate,function(C,_,E){return Im.apply(this,arguments)}(I._delegate,E,ua))})()}signInWithRedirect(E){var I=this;return(0,g.Z)(function*(){return _o(Sd(),I._delegate,"operation-not-supported-in-this-environment"),yield Al(I._delegate),function(C,_,E){return function(C,_,E){return Dm.apply(this,arguments)}(C,_,E)}(I._delegate,E,ua)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(C,_){return dl.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Ei,C})();function iu(C,_,E){let I=C;"function"!=typeof C&&({next:I,error:_,complete:E}=C);const N=I;return{next:Y=>N(Y&&Os.getOrCreate(Y)),error:_,complete:E}}class Ad{constructor(){this.providerId="phone",this._delegate=new vl(ru(ue.Z.auth()))}static credential(_,E){return vl.credential(_,E)}verifyPhoneNumber(_,E){return this._delegate.verifyPhoneNumber(_,E)}unwrap(){return this._delegate}}Ad.PHONE_SIGN_IN_METHOD=vl.PHONE_SIGN_IN_METHOD,Ad.PROVIDER_ID=vl.PROVIDER_ID;const Zv=pe;class zv{constructor(_,E,I=ue.Z.app()){var N;Zv(null===(N=I.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new na(_,E,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new we.wA("auth-compat",_=>{const E=_.getProvider("app-compat").getImmediate(),I=_.getProvider("auth");return new xl(E,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:sm,FacebookAuthProvider:lv,GithubAuthProvider:_f,GoogleAuthProvider:yf,OAuthProvider:al,PhoneAuthProvider:Ad,PhoneMultiFactorGenerator:ep,RecaptchaVerifier:zv,TwitterAuthProvider:cv,Auth:xl,AuthCredential:hi,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.1")}(ue.Z)},7574:(Qe,De,F)=>{"use strict";F.d(De,{y:()=>H});var g=F(7393),q=F(9181),ie=F(6490),oe=F(6554),we=F(4487);var L=F(2494);let H=(()=>{class j{constructor(he){this._isScalar=!1,he&&(this._subscribe=he)}lift(he){const re=new j;return re.source=this,re.operator=he,re}subscribe(he,re,ne){const{operator:Pe}=this,Re=function(j,W,he){if(j){if(j instanceof g.L)return j;if(j[q.b])return j[q.b]()}return j||W||he?new g.L(j,W,he):new g.L(ie.c)}(he,re,ne);if(Re.add(Pe?Pe.call(Re,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!Re.syncErrorThrowable?this._subscribe(Re):this._trySubscribe(Re)),L.v.useDeprecatedSynchronousErrorHandling&&Re.syncErrorThrowable&&(Re.syncErrorThrowable=!1,Re.syncErrorThrown))throw Re.syncErrorValue;return Re}_trySubscribe(he){try{return this._subscribe(he)}catch(re){L.v.useDeprecatedSynchronousErrorHandling&&(he.syncErrorThrown=!0,he.syncErrorValue=re),function(j){for(;j;){const{closed:W,destination:he,isStopped:re}=j;if(W||re)return!1;j=he&&he instanceof g.L?he:null}return!0}(he)?he.error(re):console.warn(re)}}forEach(he,re){return new(re=G(re))((ne,Pe)=>{let Re;Re=this.subscribe(Me=>{try{he(Me)}catch(Ve){Pe(Ve),Re&&Re.unsubscribe()}},Pe,ne)})}_subscribe(he){const{source:re}=this;return re&&re.subscribe(he)}[oe.L](){return this}pipe(...he){return 0===he.length?this:function(j){return 0===j.length?we.y:1===j.length?j[0]:function(he){return j.reduce((re,ne)=>ne(re),he)}}(he)(this)}toPromise(he){return new(he=G(he))((re,ne)=>{let Pe;this.subscribe(Re=>Pe=Re,Re=>ne(Re),()=>re(Pe))})}}return j.create=W=>new j(W),j})();function G(j){if(j||(j=L.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6490:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>q});var g=F(2494),ue=F(4449);const q={closed:!0,next(ie){},error(ie){if(g.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,ue.z)(ie)},complete(){}}},9765:(Qe,De,F)=>{"use strict";F.d(De,{Yc:()=>we,xQ:()=>ye});var g=F(7574),ue=F(7393),q=F(5319),ie=F(7971),Ee=F(8858),oe=F(9181);class we extends ue.L{constructor(H){super(H),this.destination=H}}let ye=(()=>{class L extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new we(this)}lift(G){const j=new Q(this,this);return j.operator=G,j}next(G){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:j}=this,W=j.length,he=j.slice();for(let re=0;re<W;re++)he[re].next(G)}}error(G){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:j}=this,W=j.length,he=j.slice();for(let re=0;re<W;re++)he[re].error(G);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:G}=this,j=G.length,W=G.slice();for(let he=0;he<j;he++)W[he].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new ie.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new ie.N;return this.hasError?(G.error(this.thrownError),q.w.EMPTY):this.isStopped?(G.complete(),q.w.EMPTY):(this.observers.push(G),new Ee.W(this,G))}asObservable(){const G=new g.y;return G.source=this,G}}return L.create=(H,G)=>new Q(H,G),L})();class Q extends ye{constructor(H,G){super(),this.destination=H,this.source=G}next(H){const{destination:G}=this;G&&G.next&&G.next(H)}error(H){const{destination:G}=this;G&&G.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:G}=this;return G?this.source.subscribe(H):q.w.EMPTY}}},8858:(Qe,De,F)=>{"use strict";F.d(De,{W:()=>ue});var g=F(5319);class ue extends g.w{constructor(ie,Ee){super(),this.subject=ie,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,Ee=ie.observers;if(this.subject=null,!Ee||0===Ee.length||ie.isStopped||ie.closed)return;const oe=Ee.indexOf(this.subscriber);-1!==oe&&Ee.splice(oe,1)}}},7393:(Qe,De,F)=>{"use strict";F.d(De,{L:()=>we});var g=F(9105),ue=F(6490),q=F(5319),ie=F(9181),Ee=F(2494),oe=F(4449);class we extends q.w{constructor(L,H,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ue.c;break;case 1:if(!L){this.destination=ue.c;break}if("object"==typeof L){L instanceof we?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,L,H,G)}}[ie.b](){return this}static create(L,H,G){const j=new we(L,H,G);return j.syncErrorThrowable=!1,j}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ye extends we{constructor(L,H,G,j){super(),this._parentSubscriber=L;let W,he=this;(0,g.m)(H)?W=H:H&&(W=H.next,G=H.error,j=H.complete,H!==ue.c&&(he=Object.create(H),(0,g.m)(he.unsubscribe)&&this.add(he.unsubscribe.bind(he)),he.unsubscribe=this.unsubscribe.bind(this))),this._context=he,this._next=W,this._error=G,this._complete=j}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:G}=Ee.v;if(this._error)G&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(H.syncErrorThrowable)G?(H.syncErrorValue=L,H.syncErrorThrown=!0):(0,oe.z)(L),this.unsubscribe();else{if(this.unsubscribe(),G)throw L;(0,oe.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const H=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,H){try{L.call(this._context,H)}catch(G){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw G;(0,oe.z)(G)}}__tryOrSetError(L,H,G){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,G)}catch(j){return Ee.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=j,L.syncErrorThrown=!0,!0):((0,oe.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Qe,De,F)=>{"use strict";F.d(De,{w:()=>oe});var g=F(9796),ue=F(1555),q=F(9105);const Ee=(()=>{function ye(Q){return Error.call(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((L,H)=>`${H+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q,this}return ye.prototype=Object.create(Error.prototype),ye})();class oe{constructor(Q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Q&&(this._ctorUnsubscribe=!0,this._unsubscribe=Q)}unsubscribe(){let Q;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:H,_unsubscribe:G,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof oe)L.remove(this);else if(null!==L)for(let W=0;W<L.length;++W)L[W].remove(this);if((0,q.m)(G)){H&&(this._unsubscribe=void 0);try{G.call(this)}catch(W){Q=W instanceof Ee?we(W.errors):[W]}}if((0,g.k)(j)){let W=-1,he=j.length;for(;++W<he;){const re=j[W];if((0,ue.K)(re))try{re.unsubscribe()}catch(ne){Q=Q||[],ne instanceof Ee?Q=Q.concat(we(ne.errors)):Q.push(ne)}}}if(Q)throw new Ee(Q)}add(Q){let L=Q;if(!Q)return oe.EMPTY;switch(typeof Q){case"function":L=new oe(Q);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof oe)){const j=L;L=new oe,L._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+Q+" added to Subscription.")}let{_parentOrParents:H}=L;if(null===H)L._parentOrParents=this;else if(H instanceof oe){if(H===this)return L;L._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return L;H.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[L]:G.push(L),L}remove(Q){const L=this._subscriptions;if(L){const H=L.indexOf(Q);-1!==H&&L.splice(H,1)}}}var ye;function we(ye){return ye.reduce((Q,L)=>Q.concat(L instanceof Ee?L.errors:L),[])}oe.EMPTY=((ye=new oe).closed=!0,ye)},2494:(Qe,De,F)=>{"use strict";F.d(De,{v:()=>ue});let g=!1;const ue={Promise:void 0,set useDeprecatedSynchronousErrorHandling(q){if(q){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=q},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(Qe,De,F)=>{"use strict";F.d(De,{IY:()=>ie,Ds:()=>oe,ft:()=>ye});var g=F(7393),ue=F(7574),q=F(7444);class ie extends g.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends g.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ye(Q,L){if(L.closed)return;if(Q instanceof ue.y)return Q.subscribe(L);let H;try{H=(0,q.s)(Q)(L)}catch(G){L.error(G)}return H}},2441:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>Ee,N:()=>oe});var g=F(9765),ue=F(7574),q=F(5319),ie=F(1307);class Ee extends ue.y{constructor(H,G){super(),this.source=H,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new q.w,H.add(this.source.subscribe(new we(this.getSubject(),this))),H.closed&&(this._connection=null,H=q.w.EMPTY)),H}refCount(){return(0,ie.x)()(this)}}const oe=(()=>{const L=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class we extends g.Yc{constructor(H,G){super(H),this.connectable=G}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const G=H._connection;H._refCount=0,H._subject=null,H._connection=null,G&&G.unsubscribe()}}}},9193:(Qe,De,F)=>{"use strict";F.d(De,{E:()=>ue,c:()=>q});var g=F(7574);const ue=new g.y(Ee=>Ee.complete());function q(Ee){return Ee?function(Ee){return new g.y(oe=>Ee.schedule(()=>oe.complete()))}(Ee):ue}},4402:(Qe,De,F)=>{"use strict";F.d(De,{D:()=>he});var g=F(7574),ue=F(7444),q=F(5319),ie=F(6554),we=F(4087),ye=F(377),H=F(4072),G=F(9489);function he(re,ne){return ne?function(re,ne){if(null!=re){if(function(re){return re&&"function"==typeof re[ie.L]}(re))return function(re,ne){return new g.y(Pe=>{const Re=new q.w;return Re.add(ne.schedule(()=>{const Me=re[ie.L]();Re.add(Me.subscribe({next(Ve){Re.add(ne.schedule(()=>Pe.next(Ve)))},error(Ve){Re.add(ne.schedule(()=>Pe.error(Ve)))},complete(){Re.add(ne.schedule(()=>Pe.complete()))}}))})),Re})}(re,ne);if((0,H.t)(re))return function(re,ne){return new g.y(Pe=>{const Re=new q.w;return Re.add(ne.schedule(()=>re.then(Me=>{Re.add(ne.schedule(()=>{Pe.next(Me),Re.add(ne.schedule(()=>Pe.complete()))}))},Me=>{Re.add(ne.schedule(()=>Pe.error(Me)))}))),Re})}(re,ne);if((0,G.z)(re))return(0,we.r)(re,ne);if(function(re){return re&&"function"==typeof re[ye.hZ]}(re)||"string"==typeof re)return function(re,ne){if(!re)throw new Error("Iterable cannot be null");return new g.y(Pe=>{const Re=new q.w;let Me;return Re.add(()=>{Me&&"function"==typeof Me.return&&Me.return()}),Re.add(ne.schedule(()=>{Me=re[ye.hZ](),Re.add(ne.schedule(function(){if(Pe.closed)return;let Ve,Be;try{const Ue=Me.next();Ve=Ue.value,Be=Ue.done}catch(Ue){return void Pe.error(Ue)}Be?Pe.complete():(Pe.next(Ve),this.schedule())}))})),Re})}(re,ne)}throw new TypeError((null!==re&&typeof re||re)+" is not observable")}(re,ne):re instanceof g.y?re:new g.y((0,ue.s)(re))}},6693:(Qe,De,F)=>{"use strict";F.d(De,{n:()=>ie});var g=F(7574),ue=F(5015),q=F(4087);function ie(Ee,oe){return oe?(0,q.r)(Ee,oe):new g.y((0,ue.V)(Ee))}},6682:(Qe,De,F)=>{"use strict";F.d(De,{T:()=>Ee});var g=F(7574),ue=F(4869),q=F(3282),ie=F(6693);function Ee(...oe){let we=Number.POSITIVE_INFINITY,ye=null,Q=oe[oe.length-1];return(0,ue.K)(Q)?(ye=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(we=oe.pop())):"number"==typeof Q&&(we=oe.pop()),null===ye&&1===oe.length&&oe[0]instanceof g.y?oe[0]:(0,q.J)(we)((0,ie.n)(oe,ye))}},5917:(Qe,De,F)=>{"use strict";F.d(De,{of:()=>ie});var g=F(4869),ue=F(6693),q=F(4087);function ie(...Ee){let oe=Ee[Ee.length-1];return(0,g.K)(oe)?(Ee.pop(),(0,q.r)(Ee,oe)):(0,ue.n)(Ee)}},8002:(Qe,De,F)=>{"use strict";F.d(De,{U:()=>ue});var g=F(7393);function ue(Ee,oe){return function(ye){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new q(Ee,oe))}}class q{constructor(oe,we){this.project=oe,this.thisArg=we}call(oe,we){return we.subscribe(new ie(oe,this.project,this.thisArg))}}class ie extends g.L{constructor(oe,we,ye){super(oe),this.project=we,this.count=0,this.thisArg=ye||this}_next(oe){let we;try{we=this.project.call(this.thisArg,oe,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(we)}}},3282:(Qe,De,F)=>{"use strict";F.d(De,{J:()=>q});var g=F(9773),ue=F(4487);function q(ie=Number.POSITIVE_INFINITY){return(0,g.zg)(ue.y,ie)}},9773:(Qe,De,F)=>{"use strict";F.d(De,{zg:()=>ie});var g=F(8002),ue=F(4402),q=F(5345);function ie(ye,Q,L=Number.POSITIVE_INFINITY){return"function"==typeof Q?H=>H.pipe(ie((G,j)=>(0,ue.D)(ye(G,j)).pipe((0,g.U)((W,he)=>Q(G,W,j,he))),L)):("number"==typeof Q&&(L=Q),H=>H.lift(new Ee(ye,L)))}class Ee{constructor(Q,L=Number.POSITIVE_INFINITY){this.project=Q,this.concurrent=L}call(Q,L){return L.subscribe(new oe(Q,this.project,this.concurrent))}}class oe extends q.Ds{constructor(Q,L,H=Number.POSITIVE_INFINITY){super(Q),this.project=L,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Q){this.active<this.concurrent?this._tryNext(Q):this.buffer.push(Q)}_tryNext(Q){let L;const H=this.index++;try{L=this.project(Q,H)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(L)}_innerSub(Q){const L=new q.IY(this),H=this.destination;H.add(L);const G=(0,q.ft)(Q,L);G!==L&&H.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Q){this.destination.next(Q)}notifyComplete(){const Q=this.buffer;this.active--,Q.length>0?this._next(Q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Qe,De,F)=>{"use strict";F.d(De,{ht:()=>H,QV:()=>Q});var g=F(7393),ue=F(9193),q=F(5917),ie=F(7574);class ye{constructor(W,he,re){this.kind=W,this.value=he,this.error=re,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,he,re){switch(this.kind){case"N":return W&&W(this.value);case"E":return he&&he(this.error);case"C":return re&&re()}}accept(W,he,re){return W&&"function"==typeof W.next?this.observe(W):this.do(W,he,re)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return j=this.error,new ie.y(he=>he.error(j));case"C":return(0,ue.c)()}var j;throw new Error("unexpected notification kind value")}static createNext(W){return void 0!==W?new ye("N",W):ye.undefinedValueNotification}static createError(W){return new ye("E",void 0,W)}static createComplete(){return ye.completeNotification}}function Q(j,W=0){return function(re){return re.lift(new L(j,W))}}ye.completeNotification=new ye("C"),ye.undefinedValueNotification=new ye("N",void 0);class L{constructor(W,he=0){this.scheduler=W,this.delay=he}call(W,he){return he.subscribe(new H(W,this.scheduler,this.delay))}}class H extends g.L{constructor(W,he,re=0){super(W),this.scheduler=he,this.delay=re}static dispatch(W){const{notification:he,destination:re}=W;he.observe(re),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(H.dispatch,this.delay,new G(W,this.destination)))}_next(W){this.scheduleMessage(ye.createNext(W))}_error(W){this.scheduleMessage(ye.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(ye.createComplete()),this.unsubscribe()}}class G{constructor(W,he){this.notification=W,this.destination=he}}},1307:(Qe,De,F)=>{"use strict";F.d(De,{x:()=>ue});var g=F(7393);function ue(){return function(oe){return oe.lift(new q(oe))}}class q{constructor(oe){this.connectable=oe}call(oe,we){const{connectable:ye}=this;ye._refCount++;const Q=new ie(oe,ye),L=we.subscribe(Q);return Q.closed||(Q.connection=ye.connect()),L}}class ie extends g.L{constructor(oe,we){super(oe),this.connectable=we}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const we=oe._refCount;if(we<=0)return void(this.connection=null);if(oe._refCount=we-1,we>1)return void(this.connection=null);const{connection:ye}=this,Q=oe._connection;this.connection=null,Q&&(!ye||Q===ye)&&Q.unsubscribe()}}},3101:(Qe,De,F)=>{"use strict";F.d(De,{R:()=>ne});var g=F(7574);let ue=1;const q=Promise.resolve(),ie={};function Ee(Re){return Re in ie&&(delete ie[Re],!0)}const oe={setImmediate(Re){const Me=ue++;return ie[Me]=!0,q.then(()=>Ee(Me)&&Re()),Me},clearImmediate(Re){Ee(Re)}};var ye=F(6465),L=F(6102);const j=new class extends L.v{flush(Me){this.active=!0,this.scheduled=void 0;const{actions:Ve}=this;let Be,Ue=-1,pe=Ve.length;Me=Me||Ve.shift();do{if(Be=Me.execute(Me.state,Me.delay))break}while(++Ue<pe&&(Me=Ve.shift()));if(this.active=!1,Be){for(;++Ue<pe&&(Me=Ve.shift());)Me.unsubscribe();throw Be}}}(class extends ye.o{constructor(Me,Ve){super(Me,Ve),this.scheduler=Me,this.work=Ve}requestAsyncId(Me,Ve,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Me,Ve,Be):(Me.actions.push(this),Me.scheduled||(Me.scheduled=oe.setImmediate(Me.flush.bind(Me,null))))}recycleAsyncId(Me,Ve,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Me,Ve,Be);0===Me.actions.length&&(oe.clearImmediate(Ve),Me.scheduled=void 0)}});var W=F(9796);class re extends g.y{constructor(Me,Ve=0,Be=j){var Re;super(),this.source=Me,this.delayTime=Ve,this.scheduler=Be,(!(!(0,W.k)(Re=Ve)&&Re-parseFloat(Re)+1>=0)||Ve<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=j)}static create(Me,Ve=0,Be=j){return new re(Me,Ve,Be)}static dispatch(Me){const{source:Ve,subscriber:Be}=Me;return this.add(Ve.subscribe(Be))}_subscribe(Me){return this.scheduler.schedule(re.dispatch,this.delayTime,{source:this.source,subscriber:Me})}}function ne(Re,Me=0){return function(Be){return Be.lift(new Pe(Re,Me))}}class Pe{constructor(Me,Ve){this.scheduler=Me,this.delay=Ve}call(Me,Ve){return new re(Ve,this.delay,this.scheduler).subscribe(Me)}}},3342:(Qe,De,F)=>{"use strict";F.d(De,{b:()=>ie});var g=F(7393);function ue(){}var q=F(9105);function ie(we,ye,Q){return function(H){return H.lift(new Ee(we,ye,Q))}}class Ee{constructor(ye,Q,L){this.nextOrObserver=ye,this.error=Q,this.complete=L}call(ye,Q){return Q.subscribe(new oe(ye,this.nextOrObserver,this.error,this.complete))}}class oe extends g.L{constructor(ye,Q,L,H){super(ye),this._tapNext=ue,this._tapError=ue,this._tapComplete=ue,this._tapError=L||ue,this._tapComplete=H||ue,(0,q.m)(Q)?(this._context=this,this._tapNext=Q):Q&&(this._context=Q,this._tapNext=Q.next||ue,this._tapError=Q.error||ue,this._tapComplete=Q.complete||ue)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(Q){return void this.destination.error(Q)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(Q){return void this.destination.error(Q)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},4087:(Qe,De,F)=>{"use strict";F.d(De,{r:()=>q});var g=F(7574),ue=F(5319);function q(ie,Ee){return new g.y(oe=>{const we=new ue.w;let ye=0;return we.add(Ee.schedule(function(){ye!==ie.length?(oe.next(ie[ye++]),oe.closed||we.add(this.schedule())):oe.complete()})),we})}},6465:(Qe,De,F)=>{"use strict";F.d(De,{o:()=>q});var g=F(5319);class ue extends g.w{constructor(Ee,oe){super()}schedule(Ee,oe=0){return this}}class q extends ue{constructor(Ee,oe){super(Ee,oe),this.scheduler=Ee,this.work=oe,this.pending=!1}schedule(Ee,oe=0){if(this.closed)return this;this.state=Ee;const we=this.id,ye=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ye,we,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(ye,this.id,oe),this}requestAsyncId(Ee,oe,we=0){return setInterval(Ee.flush.bind(Ee,this),we)}recycleAsyncId(Ee,oe,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return oe;clearInterval(oe)}execute(Ee,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Ee,oe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,oe){let ye,we=!1;try{this.work(Ee)}catch(Q){we=!0,ye=!!Q&&Q||new Error(Q)}if(we)return this.unsubscribe(),ye}_unsubscribe(){const Ee=this.id,oe=this.scheduler,we=oe.actions,ye=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ye&&we.splice(ye,1),null!=Ee&&(this.id=this.recycleAsyncId(oe,Ee,null)),this.delay=null}}},6102:(Qe,De,F)=>{"use strict";F.d(De,{v:()=>ue});let g=(()=>{class q{constructor(Ee,oe=q.now){this.SchedulerAction=Ee,this.now=oe}schedule(Ee,oe=0,we){return new this.SchedulerAction(this,Ee).schedule(we,oe)}}return q.now=()=>Date.now(),q})();class ue extends g{constructor(ie,Ee=g.now){super(ie,()=>ue.delegate&&ue.delegate!==this?ue.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,Ee=0,oe){return ue.delegate&&ue.delegate!==this?ue.delegate.schedule(ie,Ee,oe):super.schedule(ie,Ee,oe)}flush(ie){const{actions:Ee}=this;if(this.active)return void Ee.push(ie);let oe;this.active=!0;do{if(oe=ie.execute(ie.state,ie.delay))break}while(ie=Ee.shift());if(this.active=!1,oe){for(;ie=Ee.shift();)ie.unsubscribe();throw oe}}}},3637:(Qe,De,F)=>{"use strict";F.d(De,{z:()=>q,P:()=>ie});var g=F(6465);const q=new(F(6102).v)(g.o),ie=q},7771:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>oe,N:()=>Ee});var g=F(6465),q=F(6102);const Ee=new class extends q.v{}(class extends g.o{constructor(ye,Q){super(ye,Q),this.scheduler=ye,this.work=Q}schedule(ye,Q=0){return Q>0?super.schedule(ye,Q):(this.delay=Q,this.state=ye,this.scheduler.flush(this),this)}execute(ye,Q){return Q>0||this.closed?super.execute(ye,Q):this._execute(ye,Q)}requestAsyncId(ye,Q,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ye,Q,L):ye.flush(this)}}),oe=Ee},377:(Qe,De,F)=>{"use strict";F.d(De,{hZ:()=>ue});const ue="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Qe,De,F)=>{"use strict";F.d(De,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Qe,De,F)=>{"use strict";F.d(De,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Qe,De,F)=>{"use strict";F.d(De,{N:()=>ue});const ue=(()=>{function q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return q.prototype=Object.create(Error.prototype),q})()},4449:(Qe,De,F)=>{"use strict";function g(ue){setTimeout(()=>{throw ue},0)}F.d(De,{z:()=>g})},4487:(Qe,De,F)=>{"use strict";function g(ue){return ue}F.d(De,{y:()=>g})},9796:(Qe,De,F)=>{"use strict";F.d(De,{k:()=>g});const g=Array.isArray||(ue=>ue&&"number"==typeof ue.length)},9489:(Qe,De,F)=>{"use strict";F.d(De,{z:()=>g});const g=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},9105:(Qe,De,F)=>{"use strict";function g(ue){return"function"==typeof ue}F.d(De,{m:()=>g})},1555:(Qe,De,F)=>{"use strict";function g(ue){return null!==ue&&"object"==typeof ue}F.d(De,{K:()=>g})},4072:(Qe,De,F)=>{"use strict";function g(ue){return!!ue&&"function"!=typeof ue.subscribe&&"function"==typeof ue.then}F.d(De,{t:()=>g})},4869:(Qe,De,F)=>{"use strict";function g(ue){return ue&&"function"==typeof ue.schedule}F.d(De,{K:()=>g})},7444:(Qe,De,F)=>{"use strict";F.d(De,{s:()=>H});var g=F(5015),ue=F(4449),ie=F(377),oe=F(6554),ye=F(9489),Q=F(4072),L=F(1555);const H=G=>{if(G&&"function"==typeof G[oe.L])return(G=>j=>{const W=G[oe.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(j)})(G);if((0,ye.z)(G))return(0,g.V)(G);if((0,Q.t)(G))return(G=>j=>(G.then(W=>{j.closed||(j.next(W),j.complete())},W=>j.error(W)).then(null,ue.z),j))(G);if(G&&"function"==typeof G[ie.hZ])return(G=>j=>{const W=G[ie.hZ]();for(;;){let he;try{he=W.next()}catch(re){return j.error(re),j}if(he.done){j.complete();break}if(j.next(he.value),j.closed)break}return"function"==typeof W.return&&j.add(()=>{W.return&&W.return()}),j})(G);{const W=`You provided ${(0,L.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(Qe,De,F)=>{"use strict";F.d(De,{V:()=>g});const g=ue=>q=>{for(let ie=0,Ee=ue.length;ie<Ee&&!q.closed;ie++)q.next(ue[ie]);q.complete()}},4595:(Qe,De,F)=>{"use strict";var g=F(3018);let ue=null;function q(){return ue}const we=new g.OlP("DocumentToken");let ye=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,g.Yz7)({factory:Q,token:s,providedIn:"platform"}),s})();function Q(){return(0,g.LFG)(H)}const L=new g.OlP("Location Initialized");let H=(()=>{class s extends ye{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(i){const o=q().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=q().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,c){G()?this._history.pushState(i,o,c):this.location.hash=c}replaceState(i,o,c){G()?this._history.replaceState(i,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we))},s.\u0275prov=(0,g.Yz7)({factory:j,token:s,providedIn:"platform"}),s})();function G(){return!!window.history.pushState}function j(){return new H((0,g.LFG)(we))}function W(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function he(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function re(s){return s&&"?"!==s[0]?"?"+s:s}let ne=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,g.Yz7)({factory:Pe,token:s,providedIn:"root"}),s})();function Pe(s){const r=(0,g.LFG)(we).location;return new Me((0,g.LFG)(ye),r&&r.origin||"")}const Re=new g.OlP("appBaseHref");let Me=(()=>{class s extends ne{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return W(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+re(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${o}${c}`:o}pushState(i,o,c,h){const m=this.prepareExternalUrl(c+re(h));this._platformLocation.pushState(i,o,m)}replaceState(i,o,c,h){const m=this.prepareExternalUrl(c+re(h));this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(ye),g.LFG(Re,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),Ve=(()=>{class s extends ne{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=W(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,c,h){let m=this.prepareExternalUrl(c+re(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,o,m)}replaceState(i,o,c,h){let m=this.prepareExternalUrl(c+re(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(ye),g.LFG(Re,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),Be=(()=>{class s{constructor(i,o){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=he(Ft(c)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+re(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,Ft(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",c=null){this._platformStrategy.pushState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+re(o)),c)}replaceState(i,o="",c=null){this._platformStrategy.replaceState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+re(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformStrategy).historyGo)||void 0===c||c.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(c=>c(i,o))}subscribe(i,o,c){return this._subject.subscribe({next:i,error:o,complete:c})}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(ne),g.LFG(ye))},s.normalizeQueryParams=re,s.joinWithSlash=W,s.stripTrailingSlash=he,s.\u0275prov=(0,g.Yz7)({factory:Ue,token:s,providedIn:"root"}),s})();function Ue(){return new Be((0,g.LFG)(ne),(0,g.LFG)(ye))}function Ft(s){return s.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Zero=0]="Zero",se[se.One=1]="One",se[se.Two=2]="Two",se[se.Few=3]="Few",se[se.Many=4]="Many",se[se.Other=5]="Other",se))();const or=g.kL8;class fi{}let Ho=(()=>{class s extends fi{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(or(o||this.locale)(i)){case se.Zero:return"zero";case se.One:return"one";case se.Two:return"two";case se.Few:return"few";case se.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.soG))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class Pa{constructor(r,i,o,c){this.$implicit=r,this.ngForOf=i,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wi=(()=>{class s{constructor(i,o,c){this._viewContainer=i,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(s){return s.name||typeof s}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const o=[];i.forEachOperation((c,h,m)=>{if(null==c.previousIndex){const b=this._viewContainer.createEmbeddedView(this._template,new Pa(null,this._ngForOf,-1,-1),null===m?void 0:m),T=new pr(c,b);o.push(T)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const b=this._viewContainer.get(h);this._viewContainer.move(b,m);const T=new pr(c,b);o.push(T)}});for(let c=0;c<o.length;c++)this._perViewChange(o[c].view,o[c].record);for(let c=0,h=this._viewContainer.length;c<h;c++){const m=this._viewContainer.get(c);m.context.index=c,m.context.count=h,m.context.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(i,o){i.context.$implicit=o.item}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},s.\u0275dir=g.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class pr{constructor(r,i){this.record=r,this.view=i}}let Gr=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new Zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Qt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Qt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.s_b),g.Y36(g.Rgc))},s.\u0275dir=g.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Zr{constructor(){this.$implicit=null,this.ngIf=null}}function Qt(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,g.AaK)(r)}'.`)}let vf=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[{provide:fi,useClass:Ho}]}),s})();function Pc(s){return"server"===s}let Fc=(()=>{class s{}return s.\u0275prov=(0,g.Yz7)({token:s,providedIn:"root",factory:()=>new um((0,g.LFG)(we),window)}),s})();class um{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const h=c.shadowRoot;if(h){const m=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(m)return m}c=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],c-h[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Lc(this.window.history)||Lc(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Lc(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Zo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Zo,ue||(ue=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(Ua=Ua||document.querySelector("base"),Ua?Ua.getAttribute("href"):null);return null==i?null:function(s){Uc=Uc||document.createElement("a"),Uc.setAttribute("href",s);const r=Uc.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){Ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[c,h]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(c.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let Uc,Ua=null;const Bc=new g.OlP("TRANSITION_ID"),lm=[{provide:g.ip1,useFactory:function(s,r,i){return()=>{i.get(g.CZH).donePromise.then(()=>{const o=q(),c=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let h=0;h<c.length;h++)o.remove(c[h])})}},deps:[Bc,we,g.zs3],multi:!0}];class cn{static init(){(0,g.VLi)(new cn)}addToWindow(r){g.dqk.getAngularTestability=(o,c=!0)=>{const h=r.findTestabilityInTree(o,c);if(null==h)throw new Error("Could not find testability for element.");return h},g.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(o=>{const c=g.dqk.getAllAngularTestabilities();let h=c.length,m=!1;const b=function(T){m=m||T,h--,0==h&&o(m)};c.forEach(function(T){T.whenStable(b)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const c=r.getTestability(i);return null!=c?c:o?q().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let cm=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const zo=new g.OlP("EventManagerPlugins");let Gc=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,c){return this._findPluginFor(o).addEventListener(i,o,c)}addGlobalEventListener(i,o,c){return this._findPluginFor(o).addGlobalEventListener(i,o,c)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const c=this._plugins;for(let h=0;h<c.length;h++){const m=c[h];if(m.supports(i))return this._eventNameToPlugin.set(i,m),m}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(zo),g.LFG(g.R0b))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class dl{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const c=q().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,o)}}let Tf=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),Wo=(()=>{class s extends Tf{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,c){i.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,c.push(o.appendChild(m))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(hm),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(i,c,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(hm))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();function hm(s){q().remove(s)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rt=/%COMP%/g;function no(s,r,i){for(let o=0;o<r.length;o++){let c=r[o];Array.isArray(c)?no(s,c,i):(c=c.replace(Rt,s),i.push(c))}return i}function hv(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Ko=(()=>{class s{constructor(i,o,c){this.eventManager=i,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new ro(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case g.ifc.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new io(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(i),c}case 1:case g.ifc.ShadowDom:return new bs(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const c=no(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Gc),g.LFG(Wo),g.LFG(g.AFp))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class ro{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Se[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,c){if(c){i=c+":"+i;const h=Se[c];h?r.setAttributeNS(h,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const c=Se[o];c?r.removeAttributeNS(c,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,c){c&(g.JOm.DashCase|g.JOm.Important)?r.style.setProperty(i,o,c&g.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&g.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,hv(o)):this.eventManager.addEventListener(r,i,hv(o))}}class io extends ro{constructor(r,i,o,c){super(r),this.component=o;const h=no(c+"-"+o.id,o.styles,[]);i.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Rt,c+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(Rt,s)}(c+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class bs extends ro{constructor(r,i,o,c){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=no(c.id,c.styles,[]);for(let m=0;m<h.length;m++){const b=document.createElement("style");b.textContent=h[m],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let fv=(()=>{class s extends dl{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,c){return i.addEventListener(o,c,!1),()=>this.removeEventListener(i,o,c)}removeEventListener(i,o,c){return i.removeEventListener(o,c)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const pl=["alt","control","meta","shift"],yv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ym={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},er={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Or=(()=>{class s extends dl{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,c){const h=s.parseEventName(o),m=s.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(i,h.domEventName,m))}static parseEventName(i){const o=i.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const h=s._normalizeKey(o.pop());let m="";if(pl.forEach(T=>{const A=o.indexOf(T);A>-1&&(o.splice(A,1),m+=T+".")}),m+=h,0!=o.length||0===h.length)return null;const b={};return b.domEventName=c,b.fullKey=m,b}static getEventFullKey(i){let o="",c=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&ym.hasOwnProperty(r)&&(r=ym[r]))}return yv[r]||r}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),pl.forEach(h=>{h!=c&&er[h](i)&&(o+=h+".")}),o+=c,o}static eventCallback(i,o,c){return h=>{s.getEventFullKey(h)===i&&c.runGuarded(()=>o(h))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),gl=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,g.Yz7)({factory:function(){return(0,g.LFG)(Rf)},token:s,providedIn:"root"}),s})(),Rf=(()=>{class s extends gl{constructor(i){super(),this._doc=i}sanitize(i,o){if(null==o)return null;switch(i){case g.q3G.NONE:return o;case g.q3G.HTML:return(0,g.qzn)(o,"HTML")?(0,g.z3N)(o):(0,g.EiD)(this._doc,String(o)).toString();case g.q3G.STYLE:return(0,g.qzn)(o,"Style")?(0,g.z3N)(o):o;case g.q3G.SCRIPT:if((0,g.qzn)(o,"Script"))return(0,g.z3N)(o);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(o),(0,g.qzn)(o,"URL")?(0,g.z3N)(o):(0,g.mCW)(String(o));case g.q3G.RESOURCE_URL:if((0,g.qzn)(o,"ResourceURL"))return(0,g.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return(0,g.JVY)(i)}bypassSecurityTrustStyle(i){return(0,g.L6k)(i)}bypassSecurityTrustScript(i){return(0,g.eBb)(i)}bypassSecurityTrustUrl(i){return(0,g.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,g.pB0)(i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we))},s.\u0275prov=(0,g.Yz7)({factory:function(){return function(s){return new Rf(s.get(we))}((0,g.LFG)(g.gxx))},token:s,providedIn:"root"}),s})();const Ev=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){Zo.makeCurrent(),cn.init()},multi:!0},{provide:we,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Qo=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:zo,useClass:fv,multi:!0,deps:[we,g.R0b,g.Lbi]},{provide:zo,useClass:Or,multi:!0,deps:[we]},[],{provide:Ko,useClass:Ko,deps:[Gc,Wo,g.AFp]},{provide:g.FYo,useExisting:Ko},{provide:Tf,useExisting:Wo},{provide:Wo,useClass:Wo,deps:[we]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Gc,useClass:Gc,deps:[zo,g.R0b]},{provide:class{},useClass:cm,deps:[]},[]];let Ki=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:g.AFp,useValue:i.appId},{provide:Bc,useExisting:g.AFp},lm]}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(s,12))},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:Qo,imports:[vf,g.hGG]}),s})();"undefined"!=typeof window&&window;var Jt=F(4402),Pr=F(7574),Ff=F(9796),ht=F(8002),Xc=F(1555);function Jo(s,r){return new Pr.y(i=>{const o=s.length;if(0===o)return void i.complete();const c=new Array(o);let h=0,m=0;for(let b=0;b<o;b++){const T=(0,Jt.D)(s[b]);let A=!1;i.add(T.subscribe({next:x=>{A||(A=!0,m++),c[b]=x},error:x=>i.error(x),complete:()=>{h++,(h===o||!A)&&(m===o&&i.next(r?r.reduce((x,M,U)=>(x[M]=c[U],x),{}):c),i.complete())}}))}})}let ed=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.Qsj),g.Y36(g.SBq))},s.\u0275dir=g.lG2({type:s}),s})(),Mi=(()=>{class s extends ed{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,features:[g.qOj]}),s})();const Oi=new g.OlP("NgValueAccessor"),td={provide:Oi,useExisting:(0,g.Gpc)(()=>ws),multi:!0},Cm=new g.OlP("CompositionEventMode");let ws=(()=>{class s extends ed{constructor(i,o,c){super(i,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=q()?q().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Cm,8))},s.\u0275dir=g.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&g.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[g._Bn([td]),g.qOj]}),s})();function yi(s){return null==s||0===s.length}function Tm(s){return null!=s&&"number"==typeof s.length}const Ln=new g.OlP("NgValidators"),Cs=new g.OlP("NgAsyncValidators"),Ha=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Et{static min(r){return function(s){return r=>{if(yi(r.value)||yi(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i<s?{min:{min:s,actual:r.value}}:null}}(r)}static max(r){return function(s){return r=>{if(yi(r.value)||yi(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i>s?{max:{max:s,actual:r.value}}:null}}(r)}static required(r){return Xo(r)}static requiredTrue(r){return function(s){return!0===s.value?null:{required:!0}}(r)}static email(r){return function(s){return yi(s.value)||Ha.test(s.value)?null:{email:!0}}(r)}static minLength(r){return function(s){return r=>yi(r.value)||!Tm(r.value)?null:r.value.length<s?{minlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function(s){return r=>Tm(r.value)&&r.value.length>s?{maxlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static pattern(r){return function(s){if(!s)return na;let r,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),r=new RegExp(i)):(i=s.toString(),r=s),o=>{if(yi(o.value))return null;const c=o.value;return r.test(c)?null:{pattern:{requiredPattern:i,actualValue:c}}}}(r)}static nullValidator(r){return null}static compose(r){return Uf(r)}static composeAsync(r){return ad(r)}}function Xo(s){return yi(s.value)?{required:!0}:null}function na(s){return null}function Cv(s){return null!=s}function rd(s){const r=(0,g.QGY)(s)?(0,Jt.D)(s):s;return(0,g.CqO)(r),r}function Tv(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function id(s,r){return r.map(i=>i(s))}function sd(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function Uf(s){if(!s)return null;const r=s.filter(Cv);return 0==r.length?null:function(i){return Tv(id(i,r))}}function od(s){return null!=s?Uf(sd(s)):null}function ad(s){if(!s)return null;const r=s.filter(Cv);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,Ff.k)(r))return Jo(r,null);if((0,Xc.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return Jo(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return Jo(s=1===s.length&&(0,Ff.k)(s[0])?s[0]:s,null).pipe((0,ht.U)(i=>r(...i)))}return Jo(s,null)}(id(i,r).map(rd)).pipe((0,ht.U)(Tv))}}function ud(s){return null!=s?ad(sd(s)):null}function Iv(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function Bf(s){return s._rawValidators}function vl(s){return s._rawAsyncValidators}function co(s){return s?Array.isArray(s)?s:[s]:[]}function El(s,r){return Array.isArray(s)?s.includes(r):s===r}function Dv(s,r){const i=co(r);return co(s).forEach(c=>{El(i,c)||i.push(c)}),i}function Za(s,r){return co(r).filter(i=>!El(s,i))}let Sv=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=od(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=ud(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=g.lG2({type:s}),s})(),Pt=(()=>{class s extends Sv{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,features:[g.qOj]}),s})();class _i extends Sv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bl{constructor(r){this._cd=r}is(r){var i,o,c;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(c=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===c?void 0:c[r])}}let kr=(()=>{class s extends bl{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(_i,2))},s.\u0275dir=g.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&g.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[g.qOj]}),s})(),Fr=(()=>{class s extends bl{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Pt,10))},s.\u0275dir=g.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&g.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[g.qOj]}),s})();function za(s,r){cd(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&Is(s,r)})}(s,r),function(s,r){const i=(o,c)=>{r.valueAccessor.writeValue(o),c&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&Is(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function Wa(s,r,i=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),ra(s,r),s&&(r._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function ld(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function cd(s,r){const i=Bf(s);null!==r.validator?s.setValidators(Iv(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=vl(s);null!==r.asyncValidator?s.setAsyncValidators(Iv(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const c=()=>s.updateValueAndValidity();ld(r._rawValidators,c),ld(r._rawAsyncValidators,c)}function ra(s,r){let i=!1;if(null!==s){if(null!==r.validator){const c=Bf(s);if(Array.isArray(c)&&c.length>0){const h=c.filter(m=>m!==r.validator);h.length!==c.length&&(i=!0,s.setValidators(h))}}if(null!==r.asyncValidator){const c=vl(s);if(Array.isArray(c)&&c.length>0){const h=c.filter(m=>m!==r.asyncValidator);h.length!==c.length&&(i=!0,s.setAsyncValidators(h))}}}const o=()=>{};return ld(r._rawValidators,o),ld(r._rawAsyncValidators,o),i}function Is(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Ds(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Pi="VALID",Ss="INVALID",Qr="PENDING",Ya="DISABLED";function Zf(s){return(ia(s)?s.validators:s)||null}function Cl(s){return Array.isArray(s)?od(s):s||null}function zf(s,r){return(ia(r)?r.asyncValidators:s)||null}function Tl(s){return Array.isArray(s)?ud(s):s||null}function ia(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class As{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=Cl(this._rawValidators),this._composedAsyncValidatorFn=Tl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Pi}get invalid(){return this.status===Ss}get pending(){return this.status==Qr}get disabled(){return this.status===Ya}get enabled(){return this.status!==Ya}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Cl(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=Tl(r)}addValidators(r){this.setValidators(Dv(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Dv(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Za(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Za(r,this._rawAsyncValidators))}hasValidator(r){return El(this._rawValidators,r)}hasAsyncValidator(r){return El(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Qr,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Ya,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Pi,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pi||this.status===Qr)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ya:Pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Qr,this._hasOwnPendingAsyncValidator=!0;const i=rd(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(c=>{o=o instanceof hn?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof dd&&o.at(c)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Ya:this.errors?Ss:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qr)?Qr:this._anyControlsHaveStatus(Ss)?Ss:Pi}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){ia(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ho extends As{constructor(r=null,i,o){super(Zf(i),zf(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ds(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ds(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class hn extends As{constructor(r,i,o){super(Zf(i),zf(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof ho?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((c,h)=>{o=i(o,c,h)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class dd extends As{constructor(r,i,o){super(Zf(i),zf(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof ho?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}let fd=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=g.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})();const Qf={provide:Oi,useExisting:(0,g.Gpc)(()=>Qa),multi:!0};let Qa=(()=>{class s extends Mi{writeValue(i){this.setProperty("value",null==i?"":i)}registerOnChange(i){this.onChange=o=>{i(""==o?null:parseFloat(o))}}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){1&i&&g.NdJ("input",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},features:[g._Bn([Qf]),g.qOj]}),s})(),Am=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})();const gd=new g.OlP("NgModelWithFormControlWarning"),kv={provide:Pt,useExisting:(0,g.Gpc)(()=>oa)};let oa=(()=>{class s extends Pt{constructor(i,o){super(),this.validators=i,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ra(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const o=this.form.get(i.path);return za(o,i),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){Wa(i.control||null,i,!1),Ds(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const o=i.control,c=this.form.get(i.path);o!==c&&(Wa(o||null,i),c instanceof ho&&(za(c,i),i.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const o=this.form.get(i.path);(function(s,r){cd(s,r)})(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const o=this.form.get(i.path);o&&function(s,r){return ra(s,r)}(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cd(this.form,this),this._oldForm&&ra(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Ln,10),g.Y36(Cs,10))},s.\u0275dir=g.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&g.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([kv]),g.qOj,g.TTD]}),s})();const Xf={provide:_i,useExisting:(0,g.Gpc)(()=>ep)};let ep=(()=>{class s extends _i{constructor(i,o,c,h,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=function(s,r){if(!r)return null;let i,o,c;return Array.isArray(r),r.forEach(h=>{h.constructor===ws?i=h:function(s){return Object.getPrototypeOf(s.constructor)===Mi}(h)?o=h:c=h}),c||o||i||null}(0,h)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function(s,r){return[...r.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Pt,13),g.Y36(Ln,10),g.Y36(Cs,10),g.Y36(Oi,10),g.Y36(gd,8))},s.\u0275dir=g.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Xf]),g.qOj,g.TTD]}),s._ngModelWarningSentOnce=!1,s})();const md={provide:Oi,useExisting:(0,g.Gpc)(()=>_d),multi:!0};function yd(s,r){return null==s?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${s}: ${r}`.slice(0,50))}let _d=(()=>{class s extends Mi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;const o=this._getOptionId(i);null==o&&this.setProperty("selectedIndex",-1);const c=yd(o,i);this.setProperty("value",c)}registerOnChange(i){this.onChange=o=>{this.value=this._getOptionValue(o),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),i))return o;return null}_getOptionValue(i){const o=function(s){return s.split(":")[0]}(i);return this._optionMap.has(o)?this._optionMap.get(o):i}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){1&i&&g.NdJ("change",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([md]),g.qOj]}),s})(),tp=(()=>{class s{constructor(i,o,c){this._element=i,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(yd(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(_d,9))},s.\u0275dir=g.lG2({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})();const eu={provide:Oi,useExisting:(0,g.Gpc)(()=>Il),multi:!0};function go(s,r){return null==s?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${s}: ${r}`.slice(0,50))}let Il=(()=>{class s extends Mi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){let o;if(this.value=i,Array.isArray(i)){const c=i.map(h=>this._getOptionId(h));o=(h,m)=>{h._setSelected(c.indexOf(m.toString())>-1)}}else o=(c,h)=>{c._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(i){this.onChange=o=>{const c=[];if(void 0!==o.selectedOptions){const h=o.selectedOptions;for(let m=0;m<h.length;m++){const b=h.item(m),T=this._getOptionValue(b.value);c.push(T)}}else{const h=o.options;for(let m=0;m<h.length;m++){const b=h.item(m);if(b.selected){const T=this._getOptionValue(b.value);c.push(T)}}}this.value=c,i(c)}}_registerOption(i){const o=(this._idCounter++).toString();return this._optionMap.set(o,i),o}_getOptionId(i){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,i))return o;return null}_getOptionValue(i){const o=function(s){return s.split(":")[0]}(i);return this._optionMap.has(o)?this._optionMap.get(o)._value:i}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){1&i&&g.NdJ("change",function(h){return o.onChange(h.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([eu]),g.qOj]}),s})(),Mm=(()=>{class s{constructor(i,o,c){this._element=i,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(go(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(go(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Il,9))},s.\u0275dir=g.lG2({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})();const np={provide:Ln,useExisting:(0,g.Gpc)(()=>tu),multi:!0};let tu=(()=>{class s{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?Xo(i):null}registerOnValidatorChange(i){this._onChange=i}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=g.lG2({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){2&i&&g.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[g._Bn([np])]}),s})(),ip=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[Am]]}),s})(),cC=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[ip]}),s})(),Hv=(()=>{class s{static withConfig(i){return{ngModule:s,providers:[{provide:gd,useValue:i.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[ip]}),s})(),Cd=(()=>{class s{group(i,o=null){const c=this._reduceControls(i);let b,h=null,m=null;return null!=o&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(o)?(h=null!=o.validators?o.validators:null,m=null!=o.asyncValidators?o.asyncValidators:null,b=null!=o.updateOn?o.updateOn:void 0):(h=null!=o.validator?o.validator:null,m=null!=o.asyncValidator?o.asyncValidator:null)),new hn(c,{asyncValidators:m,updateOn:b,validators:h})}control(i,o,c){return new ho(i,o,c)}array(i,o,c){const h=i.map(m=>this._createControl(m));return new dd(h,o,c)}_reduceControls(i){const o={};return Object.keys(i).forEach(c=>{o[c]=this._createControl(i[c])}),o}_createControl(i){return i instanceof ho||i instanceof hn||i instanceof dd?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,g.Yz7)({factory:function(){return new s},token:s,providedIn:Hv}),s})();class Td{}const ki="*";function Um(s,r){return{type:7,name:s,definitions:r,options:{}}}function sp(s,r=null){return{type:4,styles:r,timings:s}}function Bm(s,r=null){return{type:2,steps:s,options:r}}function Dl(s){return{type:6,styles:s,offset:null}}function Id(s,r,i){return{type:0,name:s,styles:r,options:i}}function Sl(s,r,i=null){return{type:1,expr:s,animation:r,options:i}}function mo(s){Promise.resolve(null).then(s)}class yo{constructor(r=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class jm{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let i=0,o=0,c=0;const h=this.players.length;0==h?mo(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++i==h&&this._onFinish()}),m.onDestroy(()=>{++o==h&&this._onDestroy()}),m.onStart(()=>{++c==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,b)=>Math.max(m,b.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const i=r*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(c)})}getPosition(){const r=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}var tr=F(9765);const $m=["toast-component",""];function Hm(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(i),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA(),g.qZA()}}function fC(s,r){if(1&s&&(g.ynx(0),g._uU(1),g.BQk()),2&s){const i=g.oxw(2);g.xp6(1),g.hij("[",i.duplicatesCount+1,"]")}}function ua(s,r){if(1&s&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,fC,2,1,"ng-container",4),g.qZA()),2&s){const i=g.oxw();g.Tol(i.options.titleClass),g.uIk("aria-label",i.title),g.xp6(1),g.hij(" ",i.title," "),g.xp6(1),g.Q6J("ngIf",i.duplicatesCount)}}function ru(s,r){if(1&s&&g._UZ(0,"div",7),2&s){const i=g.oxw();g.Tol(i.options.messageClass),g.Q6J("innerHTML",i.message,g.oJD)}}function _r(s,r){if(1&s&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&s){const i=g.oxw();g.Tol(i.options.messageClass),g.uIk("aria-label",i.message),g.xp6(1),g.hij(" ",i.message," ")}}function ap(s,r){if(1&s&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&s){const i=g.oxw();g.xp6(1),g.Udp("width",i.width+"%")}}function qm(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(i),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA(),g.qZA()}}function up(s,r){if(1&s&&(g.ynx(0),g._uU(1),g.BQk()),2&s){const i=g.oxw(2);g.xp6(1),g.hij("[",i.duplicatesCount+1,"]")}}function Zt(s,r){if(1&s&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,up,2,1,"ng-container",4),g.qZA()),2&s){const i=g.oxw();g.Tol(i.options.titleClass),g.uIk("aria-label",i.title),g.xp6(1),g.hij(" ",i.title," "),g.xp6(1),g.Q6J("ngIf",i.duplicatesCount)}}function la(s,r){if(1&s&&g._UZ(0,"div",7),2&s){const i=g.oxw();g.Tol(i.options.messageClass),g.Q6J("innerHTML",i.message,g.oJD)}}function Rl(s,r){if(1&s&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&s){const i=g.oxw();g.Tol(i.options.messageClass),g.uIk("aria-label",i.message),g.xp6(1),g.hij(" ",i.message," ")}}function lp(s,r){if(1&s&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&s){const i=g.oxw();g.xp6(1),g.Udp("width",i.width+"%")}}class _o{constructor(r,i,o,c,h,m){this.toastId=r,this.config=i,this.message=o,this.title=c,this.toastType=h,this.toastRef=m,this._onTap=new tr.xQ,this._onAction=new tr.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(r){this._onAction.next(r)}onAction(){return this._onAction.asObservable()}}const xl={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},iu=new g.OlP("ToastConfig");class Ad{constructor(r,i){this.component=r,this.injector=i}attach(r,i){return this._attachedHost=r,r.attach(this,i)}detach(){const r=this._attachedHost;if(r)return this._attachedHost=void 0,r.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class zv extends class{attach(r,i){return this._attachedPortal=r,this.attachComponentPortal(r,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(r){this._disposeFn=r}}{constructor(r,i,o){super(),this._hostDomElement=r,this._componentFactoryResolver=i,this._appRef=o}attachComponentPortal(r,i){const o=this._componentFactoryResolver.resolveComponentFactory(r.component);let c;return c=o.create(r.injector),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.detachView(c.hostView),c.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(c),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(c)),c}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let Gm=(()=>{class s{constructor(i){this._document=i}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i=this._document.createElement("div");i.classList.add("overlay-container"),this._document.body.appendChild(i),this._containerElement=i}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(we))},token:s,providedIn:"root"}),s})();class Zm{constructor(r){this._portalHost=r}attach(r,i=!0){return this._portalHost.attach(r,i)}detach(){return this._portalHost.detach()}}let C=(()=>{class s{constructor(i,o,c,h){this._overlayContainer=i,this._componentFactoryResolver=o,this._appRef=c,this._document=h,this._paneElements=new Map}create(i,o){return this._createOverlayRef(this.getPaneElement(i,o))}getPaneElement(i="",o){return this._paneElements.get(o)||this._paneElements.set(o,{}),this._paneElements.get(o)[i]||(this._paneElements.get(o)[i]=this._createPaneElement(i,o)),this._paneElements.get(o)[i]}_createPaneElement(i,o){const c=this._document.createElement("div");return c.id="toast-container",c.classList.add(i),c.classList.add("toast-container"),o?o.getContainerElement().appendChild(c):this._overlayContainer.getContainerElement().appendChild(c),c}_createPortalHost(i){return new zv(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new Zm(this._createPortalHost(i))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Gm),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(we))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(Gm),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(we))},token:s,providedIn:"root"}),s})();class _{constructor(r){this._overlayRef=r,this.duplicatesCount=0,this._afterClosed=new tr.xQ,this._activate=new tr.xQ,this._manualClose=new tr.xQ,this._resetTimeout=new tr.xQ,this._countDuplicate=new tr.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(r,i){r&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}}class E{constructor(r,i){this._toastPackage=r,this._parentInjector=i}get(r,i,o){return r===_o?this._toastPackage:this._parentInjector.get(r,i,o)}}let I=(()=>{class s{constructor(i,o,c,h,m){this.overlay=o,this._injector=c,this.sanitizer=h,this.ngZone=m,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},i.default),i.config),i.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},i.default.iconClasses),i.config.iconClasses))}show(i,o,c={},h=""){return this._preBuildNotification(h,i,o,this.applyConfig(c))}success(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",i,o,this.applyConfig(c))}error(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",i,o,this.applyConfig(c))}info(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",i,o,this.applyConfig(c))}warning(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",i,o,this.applyConfig(c))}clear(i){for(const o of this.toasts)if(void 0!==i){if(o.toastId===i)return void o.toastRef.manualClose()}else o.toastRef.manualClose()}remove(i){const o=this._findToast(i);if(!o||(o.activeToast.toastRef.close(),this.toasts.splice(o.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const c=this.toasts[this.currentlyActive].toastRef;c.isInactive()||(this.currentlyActive=this.currentlyActive+1,c.activate())}return!0}findDuplicate(i="",o="",c,h){const{includeTitleDuplicates:m}=this.toastrConfig;for(const b of this.toasts){const T=m&&b.title===i;if((!m||T)&&b.message===o)return b.toastRef.onDuplicate(c,h),b}return null}applyConfig(i={}){return Object.assign(Object.assign({},this.toastrConfig),i)}_findToast(i){for(let o=0;o<this.toasts.length;o++)if(this.toasts[o].toastId===i)return{index:o,activeToast:this.toasts[o]};return null}_preBuildNotification(i,o,c,h){return h.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,o,c,h)):this._buildNotification(i,o,c,h)}_buildNotification(i,o,c,h){if(!h.toastComponent)throw new Error("toastComponent required");const m=this.findDuplicate(c,o,this.toastrConfig.resetTimeoutOnDuplicate&&h.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&c||o)&&this.toastrConfig.preventDuplicates&&null!==m)return m;this.previousToastMessage=o;let b=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(b=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const T=this.overlay.create(h.positionClass,this.overlayContainer);this.index=this.index+1;let A=o;o&&h.enableHtml&&(A=this.sanitizer.sanitize(g.q3G.HTML,o));const x=new _(T),M=new _o(this.index,h,A,c,i,x),U=new E(M,this._injector),$=new Ad(h.toastComponent,U),K=T.attach($,this.toastrConfig.newestOnTop);x.componentInstance=K.instance;const fe={toastId:this.index,title:c||"",message:o||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:K};return b||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{fe.toastRef.activate()})),this.toasts.push(fe),fe}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(iu),g.LFG(C),g.LFG(g.zs3),g.LFG(gl),g.LFG(g.R0b))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(iu),g.LFG(C),g.LFG(g.gxx),g.LFG(gl),g.LFG(g.R0b))},token:s,providedIn:"root"}),s})(),N=(()=>{class s{constructor(i,o,c){this.toastrService=i,this.toastPackage=o,this.ngZone=c,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(h=>{this.duplicatesCount=h})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const i=(new Date).getTime();this.width=(this.hideTime-i)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),o)):this.timeout=setTimeout(()=>i(),o)}outsideInterval(i,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),o)):this.intervalId=setInterval(()=>i(),o)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(I),g.Y36(_o),g.Y36(g.R0b))},s.\u0275cmp=g.Xpm({type:s,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,o){1&i&&g.NdJ("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),2&i&&(g.d8E("@flyInOut",o.state),g.Tol(o.toastClasses),g.Udp("display",o.displayStyle))},attrs:$m,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(i,o){1&i&&(g.YNc(0,Hm,3,0,"button",0),g.YNc(1,ua,3,5,"div",1),g.YNc(2,ru,1,3,"div",2),g.YNc(3,_r,2,4,"div",3),g.YNc(4,ap,2,2,"div",4)),2&i&&(g.Q6J("ngIf",o.options.closeButton),g.xp6(1),g.Q6J("ngIf",o.title),g.xp6(1),g.Q6J("ngIf",o.message&&o.options.enableHtml),g.xp6(1),g.Q6J("ngIf",o.message&&!o.options.enableHtml),g.xp6(1),g.Q6J("ngIf",o.options.progressBar))},directives:[Gr],encapsulation:2,data:{animation:[Um("flyInOut",[Id("inactive",Dl({opacity:0})),Id("active",Dl({opacity:1})),Id("removed",Dl({opacity:0})),Sl("inactive => active",sp("{{ easeTime }}ms {{ easing }}")),Sl("active => removed",sp("{{ easeTime }}ms {{ easing }}"))])]}}),s})();const P=Object.assign(Object.assign({},xl),{toastComponent:N});let Y=(()=>{class s{static forRoot(i={}){return{ngModule:s,providers:[{provide:iu,useValue:{default:P,config:i}}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[vf]]}),s})(),Le=(()=>{class s{constructor(i,o,c){this.toastrService=i,this.toastPackage=o,this.appRef=c,this.width=-1,this.toastClasses="",this.state="inactive",this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(h=>{this.duplicatesCount=h})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const i=(new Date).getTime();this.width=(this.hideTime-i)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(I),g.Y36(_o),g.Y36(g.z2F))},s.\u0275cmp=g.Xpm({type:s,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,o){1&i&&g.NdJ("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),2&i&&(g.Tol(o.toastClasses),g.Udp("display",o.displayStyle))},attrs:$m,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(i,o){1&i&&(g.YNc(0,qm,3,0,"button",0),g.YNc(1,Zt,3,5,"div",1),g.YNc(2,la,1,3,"div",2),g.YNc(3,Rl,2,4,"div",3),g.YNc(4,lp,2,2,"div",4)),2&i&&(g.Q6J("ngIf",o.options.closeButton),g.xp6(1),g.Q6J("ngIf",o.title),g.xp6(1),g.Q6J("ngIf",o.message&&o.options.enableHtml),g.xp6(1),g.Q6J("ngIf",o.message&&!o.options.enableHtml),g.xp6(1),g.Q6J("ngIf",o.options.progressBar))},directives:[Gr],encapsulation:2}),s})();function st(){return"undefined"!=typeof window&&void 0!==window.document}function Dn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gn(s){switch(s.length){case 0:return new yo;case 1:return s[0];default:return new jm(s)}}function vo(s,r,i,o,c={},h={}){const m=[],b=[];let T=-1,A=null;if(o.forEach(x=>{const M=x.offset,U=M==T,$=U&&A||{};Object.keys(x).forEach(K=>{let fe=K,Ie=x[K];if("offset"!==K)switch(fe=r.normalizePropertyName(fe,m),Ie){case"!":Ie=c[K];break;case ki:Ie=h[K];break;default:Ie=r.normalizeStyleValue(K,fe,Ie,m)}$[fe]=Ie}),U||b.push($),A=$,T=M}),m.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${m.join(x)}`)}return b}function vr(s,r,i,o){switch(r){case"start":s.onStart(()=>o(i&&su(i,"start",s)));break;case"done":s.onDone(()=>o(i&&su(i,"done",s)));break;case"destroy":s.onDestroy(()=>o(i&&su(i,"destroy",s)))}}function su(s,r,i){const o=i.totalTime,h=Rd(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==o?s.totalTime:o,!!i.disabled),m=s._data;return null!=m&&(h._data=m),h}function Rd(s,r,i,o,c="",h=0,m){return{element:s,triggerName:r,fromState:i,toState:o,phaseName:c,totalTime:h,disabled:!!m}}function Lr(s,r,i){let o;return s instanceof Map?(o=s.get(r),o||s.set(r,o=i)):(o=s[r],o||(o=s[r]=i)),o}function Nl(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}Object.assign(Object.assign({},xl),{toastComponent:Le});let cp=(s,r)=>!1,Ml=(s,r)=>!1,Wm=(s,r,i)=>[];const Fi=Dn();(Fi||"undefined"!=typeof Element)&&(cp=st()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),Ml=(()=>{if(Fi||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(i,o)=>r.apply(i,[o]):Ml}})(),Wm=(s,r,i)=>{let o=[];if(i){const c=s.querySelectorAll(r);for(let h=0;h<c.length;h++)o.push(c[h])}else{const c=s.querySelector(r);c&&o.push(c)}return o});let xd=null,Kv=!1;function gC(s){xd||(xd=("undefined"!=typeof document?document.body:null)||{},Kv=!!xd.style&&"WebkitAppearance"in xd.style);let r=!0;return xd.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in xd.style,!r&&Kv&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in xd.style)),r}const dp=Ml,hp=cp,Yv=Wm;function Qv(s){const r={};return Object.keys(s).forEach(i=>{const o=i.replace(/([a-z])([A-Z])/g,"$1-$2");r[o]=s[i]}),r}let Nd=(()=>{class s{validateStyleProperty(i){return gC(i)}matchesElement(i,o){return dp(i,o)}containsElement(i,o){return hp(i,o)}query(i,o,c){return Yv(i,o,c)}computeStyle(i,o,c){return c||""}animate(i,o,c,h,m,b=[],T){return new yo(c,h)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class fp{}fp.NOOP=new Nd;const Ym="ng-enter",Xv="ng-leave",gp="ng-trigger",Qm=".ng-trigger",Jm="ng-animating",eE=".ng-animating";function Ol(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:tE(parseFloat(r[1]),r[2])}function tE(s,r){switch(r){case"s":return 1e3*s;default:return s}}function Xm(s,r,i){return s.hasOwnProperty("duration")?s:function(s,r,i){let c,h=0,m="";if("string"==typeof s){const b=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};c=tE(parseFloat(b[1]),b[2]);const T=b[3];null!=T&&(h=tE(parseFloat(T),b[4]));const A=b[5];A&&(m=A)}else c=s;if(!i){let b=!1,T=r.length;c<0&&(r.push("Duration values below 0 are not allowed for this animation step."),b=!0),h<0&&(r.push("Delay values below 0 are not allowed for this animation step."),b=!0),b&&r.splice(T,0,`The provided timing value "${s}" is invalid.`)}return{duration:c,delay:h,easing:m}}(s,r,i)}function Md(s,r={}){return Object.keys(s).forEach(i=>{r[i]=s[i]}),r}function bo(s,r,i={}){if(r)for(let o in s)i[o]=s[o];else Md(s,i);return i}function rE(s,r,i){return i?r+":"+i+";":""}function ey(s){let r="";for(let i=0;i<s.style.length;i++){const o=s.style.item(i);r+=rE(0,o,s.style.getPropertyValue(o))}for(const i in s.style)s.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=rE(0,vC(i),s.style[i]));s.setAttribute("style",r)}function wo(s,r,i){s.style&&(Object.keys(r).forEach(o=>{const c=sE(o);i&&!i.hasOwnProperty(o)&&(i[o]=s.style[c]),s.style[c]=r[o]}),Dn()&&ey(s))}function Pl(s,r){s.style&&(Object.keys(r).forEach(i=>{const o=sE(i);s.style[o]=""}),Dn()&&ey(s))}function Od(s){return Array.isArray(s)?1==s.length?s[0]:Bm(s):s}const da=new RegExp("{{\\s*(.+?)\\s*}}","g");function iE(s){let r=[];if("string"==typeof s){let i;for(;i=da.exec(s);)r.push(i[1]);da.lastIndex=0}return r}function mp(s,r,i){const o=s.toString(),c=o.replace(da,(h,m)=>{let b=r[m];return r.hasOwnProperty(m)||(i.push(`Please provide a value for the animation param ${m}`),b=""),b.toString()});return c==o?s:c}function ty(s){const r=[];let i=s.next();for(;!i.done;)r.push(i.value),i=s.next();return r}const ny=/-+([a-z0-9])/g;function sE(s){return s.replace(ny,(...r)=>r[1].toUpperCase())}function vC(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oE(s,r){return 0===s||0===r}function aE(s,r,i){const o=Object.keys(i);if(o.length&&r.length){let h=r[0],m=[];if(o.forEach(b=>{h.hasOwnProperty(b)||m.push(b),h[b]=i[b]}),m.length)for(var c=1;c<r.length;c++){let b=r[c];m.forEach(function(T){b[T]=ry(s,T)})}}return r}function Xr(s,r,i){switch(r.type){case 7:return s.visitTrigger(r,i);case 0:return s.visitState(r,i);case 1:return s.visitTransition(r,i);case 2:return s.visitSequence(r,i);case 3:return s.visitGroup(r,i);case 4:return s.visitAnimate(r,i);case 5:return s.visitKeyframes(r,i);case 6:return s.visitStyle(r,i);case 8:return s.visitReference(r,i);case 9:return s.visitAnimateChild(r,i);case 10:return s.visitAnimateRef(r,i);case 11:return s.visitQuery(r,i);case 12:return s.visitStagger(r,i);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function ry(s,r){return window.getComputedStyle(s)[r]}function iy(s,r){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,r,i){if(":"==s[0]){const T=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,i);if("function"==typeof T)return void r.push(T);s=T}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(`The provided transition expression "${s}" is not supported`),r;const c=o[1],h=o[2],m=o[3];r.push(kd(c,m));"<"==h[0]&&!("*"==c&&"*"==m)&&r.push(kd(m,c))}(o,i,r)):i.push(s),i}const yp=new Set(["true","1"]),Pd=new Set(["false","0"]);function kd(s,r){const i=yp.has(s)||Pd.has(s),o=yp.has(r)||Pd.has(r);return(c,h)=>{let m="*"==s||s==c,b="*"==r||r==h;return!m&&i&&"boolean"==typeof c&&(m=c?yp.has(s):Pd.has(s)),!b&&o&&"boolean"==typeof h&&(b=h?yp.has(r):Pd.has(r)),m&&b}}const wC=new RegExp("s*:selfs*,?","g");function lE(s,r,i){return new TC(s).build(r,i)}class TC{constructor(r){this._driver=r}build(r,i){const o=new E1(i);return this._resetContextStyleTimingState(o),Xr(this,Od(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,i){let o=i.queryCount=0,c=i.depCount=0;const h=[],m=[];return"@"==r.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(b=>{if(this._resetContextStyleTimingState(i),0==b.type){const T=b,A=T.name;A.toString().split(/\s*,\s*/).forEach(x=>{T.name=x,h.push(this.visitState(T,i))}),T.name=A}else if(1==b.type){const T=this.visitTransition(b,i);o+=T.queryCount,c+=T.depCount,m.push(T)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:h,transitions:m,queryCount:o,depCount:c,options:null}}visitState(r,i){const o=this.visitStyle(r.styles,i),c=r.options&&r.options.params||null;if(o.containsDynamicStyles){const h=new Set,m=c||{};if(o.styles.forEach(b=>{if(sy(b)){const T=b;Object.keys(T).forEach(A=>{iE(T[A]).forEach(x=>{m.hasOwnProperty(x)||h.add(x)})})}}),h.size){const b=ty(h.values());i.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${b.join(", ")}`)}}return{type:0,name:r.name,style:o,options:c?{params:c}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const o=Xr(this,Od(r.animation),i);return{type:1,matchers:iy(r.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:Fl(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(o=>Xr(this,o,i)),options:Fl(r.options)}}visitGroup(r,i){const o=i.currentTime;let c=0;const h=r.steps.map(m=>{i.currentTime=o;const b=Xr(this,m,i);return c=Math.max(c,i.currentTime),b});return i.currentTime=c,{type:3,steps:h,options:Fl(r.options)}}visitAnimate(r,i){const o=function(s,r){let i=null;if(s.hasOwnProperty("duration"))i=s;else if("number"==typeof s)return dE(Xm(s,r).duration,0,"");const o=s;if(o.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=dE(0,0,"");return h.dynamic=!0,h.strValue=o,h}return i=i||Xm(o,r),dE(i.duration,i.delay,i.easing)}(r.timings,i.errors);i.currentAnimateTimings=o;let c,h=r.styles?r.styles:Dl({});if(5==h.type)c=this.visitKeyframes(h,i);else{let m=r.styles,b=!1;if(!m){b=!0;const A={};o.easing&&(A.easing=o.easing),m=Dl(A)}i.currentTime+=o.duration+o.delay;const T=this.visitStyle(m,i);T.isEmptyStep=b,c=T}return i.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(r,i){const o=this._makeStyleAst(r,i);return this._validateStyleAst(o,i),o}_makeStyleAst(r,i){const o=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==ki?o.push(m):i.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(r.styles);let c=!1,h=null;return o.forEach(m=>{if(sy(m)){const b=m,T=b.easing;if(T&&(h=T,delete b.easing),!c)for(let A in b)if(b[A].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:o,easing:h,offset:r.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(r,i){const o=i.currentAnimateTimings;let c=i.currentTime,h=i.currentTime;o&&h>0&&(h-=o.duration+o.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(b=>{if(!this._driver.validateStyleProperty(b))return void i.errors.push(`The provided animation property "${b}" is not a supported CSS property for animations`);const T=i.collectedStyles[i.currentQuerySelector],A=T[b];let x=!0;A&&(h!=c&&h>=A.startTime&&c<=A.endTime&&(i.errors.push(`The CSS property "${b}" that exists between the times of "${A.startTime}ms" and "${A.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${c}ms"`),x=!1),h=A.startTime),x&&(T[b]={startTime:h,endTime:c}),i.options&&function(s,r,i){const o=r.params||{},c=iE(s);c.length&&c.forEach(h=>{o.hasOwnProperty(h)||i.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[b],i.options,i.errors)})})}visitKeyframes(r,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;let h=0;const m=[];let b=!1,T=!1,A=0;const x=r.steps.map(He=>{const Ye=this._makeStyleAst(He,i);let qe=null!=Ye.offset?Ye.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(i=>{if(sy(i)&&i.hasOwnProperty("offset")){const o=i;r=parseFloat(o.offset),delete o.offset}});else if(sy(s)&&s.hasOwnProperty("offset")){const i=s;r=parseFloat(i.offset),delete i.offset}return r}(Ye.styles),ze=0;return null!=qe&&(h++,ze=Ye.offset=qe),T=T||ze<0||ze>1,b=b||ze<A,A=ze,m.push(ze),Ye});T&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),b&&i.errors.push("Please ensure that all keyframe offsets are in order");const M=r.steps.length;let U=0;h>0&&h<M?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(U=1/(M-1));const $=M-1,K=i.currentTime,fe=i.currentAnimateTimings,Ie=fe.duration;return x.forEach((He,Ye)=>{const qe=U>0?Ye==$?1:U*Ye:m[Ye],ze=qe*Ie;i.currentTime=K+fe.delay+ze,fe.duration=ze,this._validateStyleAst(He,i),He.offset=qe,o.styles.push(He)}),o}visitReference(r,i){return{type:8,animation:Xr(this,Od(r.animation),i),options:Fl(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:Fl(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:Fl(r.options)}}visitQuery(r,i){const o=i.currentQuerySelector,c=r.options||{};i.queryCount++,i.currentQuery=r;const[h,m]=function(s){const r=!!s.split(/\s*,\s*/).find(i=>":self"==i);return r&&(s=s.replace(wC,"")),[s=s.replace(/@\*/g,Qm).replace(/@\w+/g,i=>Qm+"-"+i.substr(1)).replace(/:animating/g,eE),r]}(r.selector);i.currentQuerySelector=o.length?o+" "+h:h,Lr(i.collectedStyles,i.currentQuerySelector,{});const b=Xr(this,Od(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:h,limit:c.limit||0,optional:!!c.optional,includeSelf:m,animation:b,originalSelector:r.selector,options:Fl(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:Xm(r.timings,i.errors,!0);return{type:12,animation:Xr(this,Od(r.animation),i),timings:o,options:null}}}class E1{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sy(s){return!Array.isArray(s)&&"object"==typeof s}function Fl(s){return s?(s=Md(s)).params&&(s.params=function(s){return s?Md(s):null}(s.params)):s={},s}function dE(s,r,i){return{duration:s,delay:r,easing:i}}function Li(s,r,i,o,c,h,m=null,b=!1){return{type:1,element:s,keyframes:r,preStyleProps:i,postStyleProps:o,duration:c,delay:h,totalTime:c+h,easing:m,subTimeline:b}}class oy{constructor(){this._map=new Map}consume(r){let i=this._map.get(r);return i?this._map.delete(r):i=[],i}append(r,i){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const oA=new RegExp(":enter","g"),uA=new RegExp(":leave","g");function ay(s,r,i,o,c,h={},m={},b,T,A=[]){return(new lA).buildKeyframes(s,r,i,o,c,h,m,b,T,A)}class lA{buildKeyframes(r,i,o,c,h,m,b,T,A,x=[]){A=A||new oy;const M=new hE(r,i,A,c,h,x,[]);M.options=T,M.currentTimeline.setStyles([m],null,M.errors,T),Xr(this,o,M);const U=M.timelines.filter($=>$.containsAnimation());if(U.length&&Object.keys(b).length){const $=U[U.length-1];$.allowOnlyTimelineStyles()||$.setStyles([b],null,M.errors,T)}return U.length?U.map($=>$.buildKeyframes()):[Li(i,[],[],[],0,0,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const o=i.subInstructions.consume(i.element);if(o){const c=i.createSubContext(r.options),h=i.currentTimeline.currentTime,m=this._visitSubInstructions(o,c,c.options);h!=m&&i.transformIntoNewTimeline(m)}i.previousNode=r}visitAnimateRef(r,i){const o=i.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=r}_visitSubInstructions(r,i,o){let h=i.currentTimeline.currentTime;const m=null!=o.duration?Ol(o.duration):null,b=null!=o.delay?Ol(o.delay):null;return 0!==m&&r.forEach(T=>{const A=i.appendInstructionToTimeline(T,m,b);h=Math.max(h,A.duration+A.delay)}),h}visitReference(r,i){i.updateOptions(r.options,!0),Xr(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const o=i.subContextCount;let c=i;const h=r.options;if(h&&(h.params||h.delay)&&(c=i.createSubContext(h),c.transformIntoNewTimeline(),null!=h.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=uy);const m=Ol(h.delay);c.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>Xr(this,m,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const o=[];let c=i.currentTimeline.currentTime;const h=r.options&&r.options.delay?Ol(r.options.delay):0;r.steps.forEach(m=>{const b=i.createSubContext(r.options);h&&b.delayNextStep(h),Xr(this,m,b),c=Math.max(c,b.currentTimeline.currentTime),o.push(b.currentTimeline)}),o.forEach(m=>i.currentTimeline.mergeTimelineCollectedStyles(m)),i.transformIntoNewTimeline(c),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const o=r.strValue;return Xm(i.params?mp(o,i.params,i.errors):o,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const o=i.currentAnimateTimings=this._visitTiming(r.timings,i),c=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),c.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,i):(i.incrementTime(o.duration),this.visitStyle(h,i),c.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const o=i.currentTimeline,c=i.currentAnimateTimings;!c&&o.getCurrentStyleProperties().length&&o.forwardFrame();const h=c&&c.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(h):o.setStyles(r.styles,h,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const o=i.currentAnimateTimings,c=i.currentTimeline.duration,h=o.duration,b=i.createSubContext().currentTimeline;b.easing=o.easing,r.styles.forEach(T=>{b.forwardTime((T.offset||0)*h),b.setStyles(T.styles,T.easing,i.errors,i.options),b.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(b),i.transformIntoNewTimeline(c+h),i.previousNode=r}visitQuery(r,i){const o=i.currentTimeline.currentTime,c=r.options||{},h=c.delay?Ol(c.delay):0;h&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uy);let m=o;const b=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!c.optional,i.errors);i.currentQueryTotal=b.length;let T=null;b.forEach((A,x)=>{i.currentQueryIndex=x;const M=i.createSubContext(r.options,A);h&&M.delayNextStep(h),A===i.element&&(T=M.currentTimeline),Xr(this,r.animation,M),M.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,M.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(m),T&&(i.currentTimeline.mergeTimelineCollectedStyles(T),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const o=i.parentContext,c=i.currentTimeline,h=r.timings,m=Math.abs(h.duration),b=m*(i.currentQueryTotal-1);let T=m*i.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":T=b-T;break;case"full":T=o.currentStaggerTime}const x=i.currentTimeline;T&&x.delayNextStep(T);const M=x.currentTime;Xr(this,r.animation,i),i.previousNode=r,o.currentStaggerTime=c.currentTime-M+(c.startTime-o.currentTimeline.startTime)}}const uy={};class hE{constructor(r,i,o,c,h,m,b,T){this._driver=r,this.element=i,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=h,this.errors=m,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=T||new ft(this._driver,i,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const o=r;let c=this.options;null!=o.duration&&(c.duration=Ol(o.duration)),null!=o.delay&&(c.delay=Ol(o.delay));const h=o.params;if(h){let m=c.params;m||(m=this.options.params={}),Object.keys(h).forEach(b=>{(!i||!m.hasOwnProperty(b))&&(m[b]=mp(h[b],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const o=r.params={};Object.keys(i).forEach(c=>{o[c]=i[c]})}}return r}createSubContext(r=null,i,o){const c=i||this.element,h=new hE(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=uy,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,o){const c={duration:null!=i?i:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},h=new RC(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,c,r.stretchStartingKeyframe);return this.timelines.push(h),c}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,o,c,h,m){let b=[];if(c&&b.push(this.element),r.length>0){r=(r=r.replace(oA,"."+this._enterClassName)).replace(uA,"."+this._leaveClassName);let A=this._driver.query(this.element,r,1!=o);0!==o&&(A=o<0?A.slice(A.length+o,A.length):A.slice(0,o)),b.push(...A)}return!h&&0==b.length&&m.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),b}}class ft{constructor(r,i,o,c){this._driver=r,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new ft(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles[r]=i,this._globalTimelineStyles[r]=i,this._styleSummary[r]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||ki,this._currentKeyframe[i]=ki}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,o,c){i&&(this._previousKeyframe.easing=i);const h=c&&c.params||{},m=function(s,r){const i={};let o;return s.forEach(c=>{"*"===c?(o=o||Object.keys(r),o.forEach(h=>{i[h]=ki})):bo(c,!1,i)}),i}(r,this._globalTimelineStyles);Object.keys(m).forEach(b=>{const T=mp(m[b],h,o);this._pendingStyles[b]=T,this._localTimelineStyles.hasOwnProperty(b)||(this._backFill[b]=this._globalTimelineStyles.hasOwnProperty(b)?this._globalTimelineStyles[b]:ki),this._updateStyle(b,T)})}applyStylesToKeyframe(){const r=this._pendingStyles,i=Object.keys(r);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const i=this._localTimelineStyles[r];this._pendingStyles[r]=i,this._updateStyle(r,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(i=>{const o=this._styleSummary[i],c=r._styleSummary[i];(!o||c.time>o.time)&&this._updateStyle(i,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((b,T)=>{const A=bo(b,!0);Object.keys(A).forEach(x=>{const M=A[x];"!"==M?r.add(x):M==ki&&i.add(x)}),o||(A.offset=T/this.duration),c.push(A)});const h=r.size?ty(r.values()):[],m=i.size?ty(i.values()):[];if(o){const b=c[0],T=Md(b);b.offset=0,T.offset=1,c=[b,T]}return Li(this.element,c,h,m,this.duration,this.startTime,this.easing,!1)}}class RC extends ft{constructor(r,i,o,c,h,m,b=!1){super(r,i,m.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=h,this._stretchStartingKeyframe=b,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&i){const h=[],m=o+i,b=i/m,T=bo(r[0],!1);T.offset=0,h.push(T);const A=bo(r[0],!1);A.offset=fE(b),h.push(A);const x=r.length-1;for(let M=1;M<=x;M++){let U=bo(r[M],!1);U.offset=fE((i+U.offset*o)/m),h.push(U)}o=m,i=0,c="",r=h}return Li(this.element,r,this.preStyleProps,this.postStyleProps,o,i,c,!0)}}function fE(s,r=3){const i=Math.pow(10,r-1);return Math.round(s*i)/i}class cy{}class pE extends cy{normalizePropertyName(r,i){return sE(r)}normalizeStyleValue(r,i,o,c){let h="";const m=o.toString().trim();if(gE[i]&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const b=o.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&c.push(`Please provide a CSS unit value for ${r}:${o}`)}return m+h}}const gE=(()=>function(s){const r={};return s.forEach(i=>r[i]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dy(s,r,i,o,c,h,m,b,T,A,x,M,U){return{type:0,element:s,triggerName:r,isRemovalTransition:c,fromState:i,fromStyles:h,toState:o,toStyles:m,timelines:b,queriedElements:T,preStyleProps:A,postStyleProps:x,totalTime:M,errors:U}}const NC={};class mE{constructor(r,i,o){this._triggerName=r,this.ast=i,this._stateStyles=o}match(r,i,o,c){return function(s,r,i,o,c){return s.some(h=>h(r,i,o,c))}(this.ast.matchers,r,i,o,c)}buildStyles(r,i,o){const c=this._stateStyles["*"],h=this._stateStyles[r],m=c?c.buildStyles(i,o):{};return h?h.buildStyles(i,o):m}build(r,i,o,c,h,m,b,T,A,x){const M=[],U=this.ast.options&&this.ast.options.params||NC,K=this.buildStyles(o,b&&b.params||NC,M),fe=T&&T.params||NC,Ie=this.buildStyles(c,fe,M),He=new Set,Ye=new Map,qe=new Map,ze="void"===c,nn={params:Object.assign(Object.assign({},U),fe)},Qn=x?[]:ay(r,i,this.ast.animation,h,m,K,Ie,nn,A,M);let Ar=0;if(Qn.forEach(Zs=>{Ar=Math.max(Zs.duration+Zs.delay,Ar)}),M.length)return dy(i,this._triggerName,o,c,ze,K,Ie,[],[],Ye,qe,Ar,M);Qn.forEach(Zs=>{const Ac=Zs.element,oP=Lr(Ye,Ac,{});Zs.preStyleProps.forEach(Xg=>oP[Xg]=!0);const K0=Lr(qe,Ac,{});Zs.postStyleProps.forEach(Xg=>K0[Xg]=!0),Ac!==i&&He.add(Ac)});const Gi=ty(He.values());return dy(i,this._triggerName,o,c,ze,K,Ie,Qn,Gi,Ye,qe,Ar)}}class ha{constructor(r,i,o){this.styles=r,this.defaultParams=i,this.normalizer=o}buildStyles(r,i){const o={},c=Md(this.defaultParams);return Object.keys(r).forEach(h=>{const m=r[h];null!=m&&(c[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(b=>{let T=m[b];T.length>1&&(T=mp(T,c,i));const A=this.normalizer.normalizePropertyName(b,i);T=this.normalizer.normalizeStyleValue(b,A,T,i),o[A]=T})}}),o}}class fy{constructor(r,i,o){this.name=r,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(c=>{this.states[c.name]=new ha(c.style,c.options&&c.options.params||{},o)}),cA(this.states,"true","1"),cA(this.states,"false","0"),i.transitions.forEach(c=>{this.transitionFactories.push(new mE(r,c,this.states))}),this.fallbackTransition=function(s,r,i){return new mE(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,b)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,o,c){return this.transitionFactories.find(m=>m.match(r,i,o,c))||null}matchStyles(r,i,o){return this.fallbackTransition.buildStyles(r,i,o)}}function cA(s,r,i){s.hasOwnProperty(r)?s.hasOwnProperty(i)||(s[i]=s[r]):s.hasOwnProperty(i)&&(s[r]=s[i])}const dA=new oy;class MC{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,i){const o=[],c=lE(this._driver,i,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[r]=c}_buildPlayer(r,i,o){const c=r.element,h=vo(0,this._normalizer,0,r.keyframes,i,o);return this._driver.animate(c,h,r.duration,r.delay,r.easing,[],!0)}create(r,i,o={}){const c=[],h=this._animations[r];let m;const b=new Map;if(h?(m=ay(this._driver,i,h,Ym,Xv,{},{},o,dA,c),m.forEach(x=>{const M=Lr(b,x.element,{});x.postStyleProps.forEach(U=>M[U]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),m=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);b.forEach((x,M)=>{Object.keys(x).forEach(U=>{x[U]=this._driver.computeStyle(M,U,ki)})});const A=Gn(m.map(x=>{const M=b.get(x.element);return this._buildPlayer(x,{},M)}));return this._playersById[r]=A,A.onDestroy(()=>this.destroy(r)),this.players.push(A),A}destroy(r){const i=this._getPlayer(r);i.destroy(),delete this._playersById[r];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(r){const i=this._playersById[r];if(!i)throw new Error(`Unable to find the timeline player referenced by ${r}`);return i}listen(r,i,o,c){const h=Rd(i,"","","");return vr(this._getPlayer(r),o,h,c),()=>{}}command(r,i,o,c){if("register"==o)return void this.register(r,c[0]);if("create"==o)return void this.create(r,i,c[0]||{});const h=this._getPlayer(r);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(r)}}}const hA="ng-animate-queued",pA="ng-animate-disabled",_E=".ng-animate-disabled",vE=[],mA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ps="__ng_removed";class PC{constructor(r,i=""){this.namespaceId=i;const o=r&&r.hasOwnProperty("value");if(this.value=null!=(s=o?r.value:r)?s:null,o){const h=Md(r);delete h.value,this.options=h}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const i=r.params;if(i){const o=this.options.params;Object.keys(i).forEach(c=>{null==o[c]&&(o[c]=i[c])})}}}const py="void",kC=new PC(py);class T1{constructor(r,i,o){this.id=r,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Yi(i,this._hostClassName)}listen(r,i,o,c){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${i}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(s=o)&&"done"!=s)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${i}" is not supported!`);var s;const h=Lr(this._elementListeners,r,[]),m={name:i,phase:o,callback:c};h.push(m);const b=Lr(this._engine.statesByElement,r,{});return b.hasOwnProperty(i)||(Yi(r,gp),Yi(r,gp+"-"+i),b[i]=kC),()=>{this._engine.afterFlush(()=>{const T=h.indexOf(m);T>=0&&h.splice(T,1),this._triggers[i]||delete b[i]})}}register(r,i){return!this._triggers[r]&&(this._triggers[r]=i,!0)}_getTrigger(r){const i=this._triggers[r];if(!i)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return i}trigger(r,i,o,c=!0){const h=this._getTrigger(i),m=new FC(this.id,i,r);let b=this._engine.statesByElement.get(r);b||(Yi(r,gp),Yi(r,gp+"-"+i),this._engine.statesByElement.set(r,b={}));let T=b[i];const A=new PC(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&T&&A.absorbOptions(T.options),b[i]=A,T||(T=kC),A.value!==py&&T.value===A.value){if(!function(s,r){const i=Object.keys(s),o=Object.keys(r);if(i.length!=o.length)return!1;for(let c=0;c<i.length;c++){const h=i[c];if(!r.hasOwnProperty(h)||s[h]!==r[h])return!1}return!0}(T.params,A.params)){const fe=[],Ie=h.matchStyles(T.value,T.params,fe),He=h.matchStyles(A.value,A.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{Pl(r,Ie),wo(r,He)})}return}const U=Lr(this._engine.playersByElement,r,[]);U.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==i&&fe.queued&&fe.destroy()});let $=h.matchTransition(T.value,A.value,r,A.params),K=!1;if(!$){if(!c)return;$=h.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:$,fromState:T,toState:A,player:m,isFallbackTransition:K}),K||(Yi(r,hA),m.onStart(()=>{Vi(r,hA)})),m.onDone(()=>{let fe=this.players.indexOf(m);fe>=0&&this.players.splice(fe,1);const Ie=this._engine.playersByElement.get(r);if(Ie){let He=Ie.indexOf(m);He>=0&&Ie.splice(He,1)}}),this.players.push(m),U.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((i,o)=>{delete i[r]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(c=>c.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const o=this._engine.driver.query(r,Qm,!0);o.forEach(c=>{if(c[Ps])return;const h=this._engine.fetchNamespacesByElement(c);h.size?h.forEach(m=>m.triggerLeaveAnimation(c,i,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(r,i,o,c){const h=this._engine.statesByElement.get(r);if(h){const m=[];if(Object.keys(h).forEach(b=>{if(this._triggers[b]){const T=this.trigger(r,b,py,c);T&&m.push(T)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,i),o&&Gn(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(i&&o){const c=new Set;i.forEach(h=>{const m=h.name;if(c.has(m))return;c.add(m);const T=this._triggers[m].fallbackTransition,A=o[m]||kC,x=new PC(py),M=new FC(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:T,fromState:A,toState:x,player:M,isFallbackTransition:!0})})}}removeNode(r,i){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let c=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(r):[];if(h&&h.length)c=!0;else{let m=r;for(;m=m.parentNode;)if(o.statesByElement.get(m)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(r),c)o.markElementAsRemoved(this.id,r,!1,i);else{const h=r[Ps];(!h||h===mA)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,i))}}insertNode(r,i){Yi(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const h=o.element,m=this._elementListeners.get(h);m&&m.forEach(b=>{if(b.name==o.triggerName){const T=Rd(h,o.triggerName,o.fromState.value,o.toState.value);T._data=r,vr(o.player,b.phase,T,b.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):i.push(o)}),this._queue=[],i.sort((o,c)=>{const h=o.transition.ast.depCount,m=c.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(o=>o.element===r)||i,i}}class I1{constructor(r,i,o){this.bodyNode=r,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,i){const o=new T1(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,i){const o=this._namespaceList.length-1;if(o>=0){let c=!1;for(let h=o;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,i)){this._namespaceList.splice(h+1,0,r),c=!0;break}c||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(i,r),r}register(r,i){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,i)),o}registerTrigger(r,i,o){let c=this._namespaceLookup[r];c&&c.register(i,o)&&this.totalAnimations++}destroy(r,i){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,o=this.statesByElement.get(r);if(o){const c=Object.keys(o);for(let h=0;h<c.length;h++){const m=o[c[h]].namespaceId;if(m){const b=this._fetchNamespace(m);b&&i.add(b)}}}return i}trigger(r,i,o,c){if(ks(i)){const h=this._fetchNamespace(r);if(h)return h.trigger(i,o,c),!0}return!1}insertNode(r,i,o,c){if(!ks(i))return;const h=i[Ps];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(i);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(i,o)}c&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Yi(r,pA)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Vi(r,pA))}removeNode(r,i,o,c){if(ks(i)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(i,c):this.markElementAsRemoved(r,i,!1,c),o){const m=this.namespacesByHostElement.get(i);m&&m.id!==r&&m.removeNode(i,c)}}else this._onRemovalComplete(i,c)}markElementAsRemoved(r,i,o,c){this.collectedLeaveElements.push(i),i[Ps]={namespaceId:r,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1}}listen(r,i,o,c,h){return ks(i)?this._fetchNamespace(r).listen(i,o,c,h):()=>{}}_buildInstruction(r,i,o,c,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,c,r.fromState.options,r.toState.options,i,h)}destroyInnerAnimations(r){let i=this.driver.query(r,Qm,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,eE,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Gn(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[Ps];if(i&&i.setForRemoval){if(r[Ps]=mA,i.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}this.driver.matchesElement(r,_E)&&this.markElementAsDisabled(r,!1),this.driver.query(r,_E,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Yi(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,r)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?Gn(i).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,i){const o=new oy,c=[],h=new Map,m=[],b=new Map,T=new Map,A=new Map,x=new Set;this.disabledNodes.forEach(Je=>{x.add(Je);const ut=this.driver.query(Je,".ng-animate-queued",!0);for(let wt=0;wt<ut.length;wt++)x.add(ut[wt])});const M=this.bodyNode,U=Array.from(this.statesByElement.keys()),$=gy(U,this.collectedEnterElements),K=new Map;let fe=0;$.forEach((Je,ut)=>{const wt=Ym+fe++;K.set(ut,wt),Je.forEach(Wt=>Yi(Wt,wt))});const Ie=[],He=new Set,Ye=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const ut=this.collectedLeaveElements[Je],wt=ut[Ps];wt&&wt.setForRemoval&&(Ie.push(ut),He.add(ut),wt.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(Wt=>He.add(Wt)):Ye.add(ut))}const qe=new Map,ze=gy(U,Array.from(He));ze.forEach((Je,ut)=>{const wt=Xv+fe++;qe.set(ut,wt),Je.forEach(Wt=>Yi(Wt,wt))}),r.push(()=>{$.forEach((Je,ut)=>{const wt=K.get(ut);Je.forEach(Wt=>Vi(Wt,wt))}),ze.forEach((Je,ut)=>{const wt=qe.get(ut);Je.forEach(Wt=>Vi(Wt,wt))}),Ie.forEach(Je=>{this.processLeaveNode(Je)})});const nn=[],Qn=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(i).forEach(wt=>{const Wt=wt.player,Hr=wt.element;if(nn.push(Wt),this.collectedEnterElements.length){const Xu=Hr[Ps];if(Xu&&Xu.setForMove)return void Wt.destroy()}const Ju=!M||!this.driver.containsElement(M,Hr),zs=qe.get(Hr),lf=K.get(Hr),Jn=this._buildInstruction(wt,o,lf,zs,Ju);if(Jn.errors&&Jn.errors.length)Qn.push(Jn);else{if(Ju)return Wt.onStart(()=>Pl(Hr,Jn.fromStyles)),Wt.onDestroy(()=>wo(Hr,Jn.toStyles)),void c.push(Wt);if(wt.isFallbackTransition)return Wt.onStart(()=>Pl(Hr,Jn.fromStyles)),Wt.onDestroy(()=>wo(Hr,Jn.toStyles)),void c.push(Wt);Jn.timelines.forEach(Xu=>Xu.stretchStartingKeyframe=!0),o.append(Hr,Jn.timelines),m.push({instruction:Jn,player:Wt,element:Hr}),Jn.queriedElements.forEach(Xu=>Lr(b,Xu,[]).push(Wt)),Jn.preStyleProps.forEach((Xu,Y0)=>{const QS=Object.keys(Xu);if(QS.length){let em=T.get(Y0);em||T.set(Y0,em=new Set),QS.forEach(_1=>em.add(_1))}}),Jn.postStyleProps.forEach((Xu,Y0)=>{const QS=Object.keys(Xu);let em=A.get(Y0);em||A.set(Y0,em=new Set),QS.forEach(_1=>em.add(_1))})}});if(Qn.length){const Je=[];Qn.forEach(ut=>{Je.push(`@${ut.triggerName} has failed due to:\n`),ut.errors.forEach(wt=>Je.push(`- ${wt}\n`))}),nn.forEach(ut=>ut.destroy()),this.reportError(Je)}const Ar=new Map,Gi=new Map;m.forEach(Je=>{const ut=Je.element;o.has(ut)&&(Gi.set(ut,ut),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,Ar))}),c.forEach(Je=>{const ut=Je.element;this._getPreviousPlayers(ut,!1,Je.namespaceId,Je.triggerName,null).forEach(Wt=>{Lr(Ar,ut,[]).push(Wt),Wt.destroy()})});const Zs=Ie.filter(Je=>BC(Je,T,A)),Ac=new Map;bE(Ac,this.driver,Ye,A,ki).forEach(Je=>{BC(Je,T,A)&&Zs.push(Je)});const K0=new Map;$.forEach((Je,ut)=>{bE(K0,this.driver,new Set(Je),T,"!")}),Zs.forEach(Je=>{const ut=Ac.get(Je),wt=K0.get(Je);Ac.set(Je,Object.assign(Object.assign({},ut),wt))});const Xg=[],aP=[],uP={};m.forEach(Je=>{const{element:ut,player:wt,instruction:Wt}=Je;if(o.has(ut)){if(x.has(ut))return wt.onDestroy(()=>wo(ut,Wt.toStyles)),wt.disabled=!0,wt.overrideTotalTime(Wt.totalTime),void c.push(wt);let Hr=uP;if(Gi.size>1){let zs=ut;const lf=[];for(;zs=zs.parentNode;){const Jn=Gi.get(zs);if(Jn){Hr=Jn;break}lf.push(zs)}lf.forEach(Jn=>Gi.set(Jn,Hr))}const Ju=this._buildAnimation(wt.namespaceId,Wt,Ar,h,K0,Ac);if(wt.setRealPlayer(Ju),Hr===uP)Xg.push(wt);else{const zs=this.playersByElement.get(Hr);zs&&zs.length&&(wt.parentPlayer=Gn(zs)),c.push(wt)}}else Pl(ut,Wt.fromStyles),wt.onDestroy(()=>wo(ut,Wt.toStyles)),aP.push(wt),x.has(ut)&&c.push(wt)}),aP.forEach(Je=>{const ut=h.get(Je.element);if(ut&&ut.length){const wt=Gn(ut);Je.setRealPlayer(wt)}}),c.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Ie.length;Je++){const ut=Ie[Je],wt=ut[Ps];if(Vi(ut,Xv),wt&&wt.hasAnimation)continue;let Wt=[];if(b.size){let Ju=b.get(ut);Ju&&Ju.length&&Wt.push(...Ju);let zs=this.driver.query(ut,eE,!0);for(let lf=0;lf<zs.length;lf++){let Jn=b.get(zs[lf]);Jn&&Jn.length&&Wt.push(...Jn)}}const Hr=Wt.filter(Ju=>!Ju.destroyed);Hr.length?UC(this,ut,Hr):this.processLeaveNode(ut)}return Ie.length=0,Xg.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const ut=this.players.indexOf(Je);this.players.splice(ut,1)}),Je.play()}),Xg}elementContainsData(r,i){let o=!1;const c=i[Ps];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(r).elementContainsData(i)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,o,c,h){let m=[];if(i){const b=this.playersByQueriedElement.get(r);b&&(m=b)}else{const b=this.playersByElement.get(r);if(b){const T=!h||h==py;b.forEach(A=>{A.queued||!T&&A.triggerName!=c||m.push(A)})}}return(o||c)&&(m=m.filter(b=>!(o&&o!=b.namespaceId||c&&c!=b.triggerName))),m}_beforeAnimationBuild(r,i,o){const h=i.element,m=i.isRemovalTransition?void 0:r,b=i.isRemovalTransition?void 0:i.triggerName;for(const T of i.timelines){const A=T.element,x=A!==h,M=Lr(o,A,[]);this._getPreviousPlayers(A,x,m,b,i.toState).forEach($=>{const K=$.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),$.destroy(),M.push($)})}Pl(h,i.fromStyles)}_buildAnimation(r,i,o,c,h,m){const b=i.triggerName,T=i.element,A=[],x=new Set,M=new Set,U=i.timelines.map(K=>{const fe=K.element;x.add(fe);const Ie=fe[Ps];if(Ie&&Ie.removedBeforeQueried)return new yo(K.duration,K.delay);const He=fe!==T,Ye=function(s){const r=[];return _A(s,r),r}((o.get(fe)||vE).map(Ar=>Ar.getRealPlayer())).filter(Ar=>!!Ar.element&&Ar.element===fe),qe=h.get(fe),ze=m.get(fe),nn=vo(0,this._normalizer,0,K.keyframes,qe,ze),Qn=this._buildPlayer(K,nn,Ye);if(K.subTimeline&&c&&M.add(fe),He){const Ar=new FC(r,b,fe);Ar.setRealPlayer(Qn),A.push(Ar)}return Qn});A.forEach(K=>{Lr(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function(s,r,i){let o;if(s instanceof Map){if(o=s.get(r),o){if(o.length){const c=o.indexOf(i);o.splice(c,1)}0==o.length&&s.delete(r)}}else if(o=s[r],o){if(o.length){const c=o.indexOf(i);o.splice(c,1)}0==o.length&&delete s[r]}return o}(this.playersByQueriedElement,K.element,K))}),x.forEach(K=>Yi(K,Jm));const $=Gn(U);return $.onDestroy(()=>{x.forEach(K=>Vi(K,Jm)),wo(T,i.toStyles)}),M.forEach(K=>{Lr(c,K,[]).push($)}),$}_buildPlayer(r,i,o){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,o):new yo(r.duration,r.delay)}}class FC{constructor(r,i,o){this.namespaceId=r,this.triggerName=i,this.element=o,this._player=new yo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>vr(r,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){Lr(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function ks(s){return s&&1===s.nodeType}function LC(s,r){const i=s.style.display;return s.style.display=null!=r?r:"none",i}function bE(s,r,i,o,c){const h=[];i.forEach(T=>h.push(LC(T)));const m=[];o.forEach((T,A)=>{const x={};T.forEach(M=>{const U=x[M]=r.computeStyle(A,M,c);(!U||0==U.length)&&(A[Ps]=C1,m.push(A))}),s.set(A,x)});let b=0;return i.forEach(T=>LC(T,h[b++])),m}function gy(s,r){const i=new Map;if(s.forEach(b=>i.set(b,[])),0==r.length)return i;const c=new Set(r),h=new Map;function m(b){if(!b)return 1;let T=h.get(b);if(T)return T;const A=b.parentNode;return T=i.has(A)?A:c.has(A)?1:m(A),h.set(b,T),T}return r.forEach(b=>{const T=m(b);1!==T&&i.get(T).push(b)}),i}const _p="$$classes";function Yi(s,r){if(s.classList)s.classList.add(r);else{let i=s[_p];i||(i=s[_p]={}),i[r]=!0}}function Vi(s,r){if(s.classList)s.classList.remove(r);else{let i=s[_p];i&&delete i[r]}}function UC(s,r,i){Gn(i).onDone(()=>s.processLeaveNode(r))}function _A(s,r){for(let i=0;i<s.length;i++){const o=s[i];o instanceof jm?_A(o.players,r):r.push(o)}}function BC(s,r,i){const o=i.get(s);if(!o)return!1;let c=r.get(s);return c?o.forEach(h=>c.add(h)):r.set(s,o),i.delete(s),!0}class vp{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new I1(r,i,o),this._timelineEngine=new MC(r,i,o),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(r,i,o,c,h){const m=r+"-"+c;let b=this._triggerCache[m];if(!b){const T=[],A=lE(this._driver,h,T);if(T.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${T.join("\n - ")}`);b=function(s,r,i){return new fy(s,r,i)}(c,A,this._normalizer),this._triggerCache[m]=b}this._transitionEngine.registerTrigger(i,c,b)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,o,c){this._transitionEngine.insertNode(r,i,o,c)}onRemove(r,i,o,c){this._transitionEngine.removeNode(r,i,c||!1,o)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,o,c){if("@"==o.charAt(0)){const[h,m]=Nl(o);this._timelineEngine.command(h,i,m,c)}else this._transitionEngine.trigger(r,i,o,c)}listen(r,i,o,c,h){if("@"==o.charAt(0)){const[m,b]=Nl(o);return this._timelineEngine.listen(m,i,b,h)}return this._transitionEngine.listen(r,i,o,c,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function jC(s,r){let i=null,o=null;return Array.isArray(r)&&r.length?(i=Ll(r[0]),r.length>1&&(o=Ll(r[r.length-1]))):r&&(i=Ll(r)),i||o?new Fd(s,i,o):null}class Fd{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let c=Fd.initialStylesByElement.get(r);c||Fd.initialStylesByElement.set(r,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wo(this._element,this._initialStyles),this._endStyles&&(wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Fd.initialStylesByElement.delete(this._element),this._startStyles&&(Pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pl(this._element,this._endStyles),this._endStyles=null),wo(this._element,this._initialStyles),this._state=3)}}function Ll(s){let r=null;const i=Object.keys(s);for(let o=0;o<i.length;o++){const c=i[o];Ld(c)&&(r=r||{},r[c]=s[c])}return r}function Ld(s){return"display"===s||"position"===s}Fd.initialStylesByElement=new WeakMap;const Vl="animation",Vd="animationend";class vA{constructor(r,i,o,c,h,m,b){this._element=r,this._name=i,this._duration=o,this._delay=c,this._easing=h,this._fillMode=m,this._onDoneFn=b,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=T=>this._handleCallback(T)}apply(){(function(s,r){const i=vy(s,"").trim();let o=0;i.length&&(function(s,r){let i=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&i++;return i}(i)+1,r=`${i}, ${r}`),_y(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ep(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){TE(this._element,this._name,"paused")}resume(){TE(this._element,this._name,"running")}setPosition(r){const i=my(this._element,this._name);this._position=r*this._duration,_y(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(r){const i=r._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ep(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const o=vy(s,"").split(","),c=yy(o,r);c>=0&&(o.splice(c,1),_y(s,"",o.join(",")))}(this._element,this._name))}}function TE(s,r,i){_y(s,"PlayState",i,my(s,r))}function my(s,r){const i=vy(s,"");return i.indexOf(",")>0?yy(i.split(","),r):yy([i],r)}function yy(s,r){for(let i=0;i<s.length;i++)if(s[i].indexOf(r)>=0)return i;return-1}function Ep(s,r,i){i?s.removeEventListener(Vd,r):s.addEventListener(Vd,r)}function _y(s,r,i,o){const c=Vl+r;if(null!=o){const h=s.style[c];if(h.length){const m=h.split(",");m[o]=i,i=m.join(",")}}s.style[c]=i}function vy(s,r){return s.style[Vl+r]||""}class GC{constructor(r,i,o,c,h,m,b,T){this.element=r,this.keyframes=i,this.animationName=o,this._duration=c,this._delay=h,this._finalStyles=b,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=c+h,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new vA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(r[o]=i?this._finalStyles[o]:ry(this.element,o))})}this.currentSnapshot=r}}class ZC extends yo{constructor(r,i){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=Qv(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const i=this._startingStyles[r];i?this.element.style.setProperty(r,i):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class bi{constructor(){this._count=0}validateStyleProperty(r){return gC(r)}matchesElement(r,i){return dp(r,i)}containsElement(r,i){return hp(r,i)}query(r,i,o){return Yv(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}buildKeyframeElement(r,i,o){o=o.map(b=>Qv(b));let c=`@keyframes ${i} {\n`,h="";o.forEach(b=>{h=" ";const T=parseFloat(b.offset);c+=`${h}${100*T}% {\n`,h+=" ",Object.keys(b).forEach(A=>{const x=b[A];switch(A){case"offset":return;case"easing":return void(x&&(c+=`${h}animation-timing-function: ${x};\n`));default:return void(c+=`${h}${A}: ${x};\n`)}}),c+=`${h}}\n`}),c+="}\n";const m=document.createElement("style");return m.textContent=c,m}animate(r,i,o,c,h,m=[],b){const T=m.filter(Ie=>Ie instanceof GC),A={};oE(o,c)&&T.forEach(Ie=>{let He=Ie.currentSnapshot;Object.keys(He).forEach(Ye=>A[Ye]=He[Ye])});const x=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(c=>{"offset"==c||"easing"==c||(r[c]=o[c])})}),r}(i=aE(r,i,A));if(0==o)return new ZC(r,x);const M="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(r,M,i);(function(s){var r;const i=null===(r=s.getRootNode)||void 0===r?void 0:r.call(s);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(r).appendChild(U);const K=jC(r,i),fe=new GC(r,i,M,o,c,h,x,K);return fe.onDestroy(()=>{var s;(s=U).parentNode.removeChild(s)}),fe}}class IA{constructor(r,i,o,c){this.element=r,this.keyframes=i,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,i,o){return r.animate(i,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(r[i]=this._finished?this._finalKeyframe[i]:ry(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class DA{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(SE().toString()),this._cssKeyframesDriver=new bi}validateStyleProperty(r){return gC(r)}matchesElement(r,i){return dp(r,i)}containsElement(r,i){return hp(r,i)}query(r,i,o){return Yv(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,i,o,c,h,m=[],b){if(!b&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,i,o,c,h,m);const x={duration:o,delay:c,fill:0==c?"both":"forwards"};h&&(x.easing=h);const M={},U=m.filter(K=>K instanceof IA);oE(o,c)&&U.forEach(K=>{let fe=K.currentSnapshot;Object.keys(fe).forEach(Ie=>M[Ie]=fe[Ie])});const $=jC(r,i=aE(r,i=i.map(K=>bo(K,!1)),M));return new IA(r,i,x,$)}}function SE(){return st()&&Element.prototype.animate||{}}let SA=(()=>{class s extends Td{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(i)?Bm(i):i;return AE(this._renderer,null,o,"register",[c]),new AA(o,this._renderer)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.FYo),g.LFG(we))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class AA extends class{}{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new RA(this._id,r,i||{},this._renderer)}}class RA{constructor(r,i,o,c){this.id=r,this.element=i,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return AE(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,i;return null!==(i=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==i?i:0}}function AE(s,r,i,o,c){return s.setProperty(r,`@@${i}:${o}`,c)}const RE="@.disabled";let xA=(()=>{class s{constructor(i,o,c){this.delegate=i,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,m)=>{m&&m.parentNode(h)&&m.removeChild(h.parentNode,h)}}createRenderer(i,o){const h=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let x=this._rendererCache.get(h);return x||(x=new WC("",h,this.engine),this._rendererCache.set(h,x)),x}const m=o.id,b=o.id+"-"+this._currentId;this._currentId++,this.engine.register(b,i);const T=x=>{Array.isArray(x)?x.forEach(T):this.engine.registerTrigger(m,b,i,x.name,x)};return o.data.animation.forEach(T),new KC(this,b,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,c){i>=0&&i<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,b]=h;m(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.FYo),g.LFG(vp),g.LFG(g.R0b))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class WC{constructor(r,i,o){this.namespaceId=r,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>i.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,o,c=!0){this.delegate.insertBefore(r,i,o),this.engine.onInsert(this.namespaceId,i,r,c)}removeChild(r,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,o,c){this.delegate.setAttribute(r,i,o,c)}removeAttribute(r,i,o){this.delegate.removeAttribute(r,i,o)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,o,c){this.delegate.setStyle(r,i,o,c)}removeStyle(r,i,o){this.delegate.removeStyle(r,i,o)}setProperty(r,i,o){"@"==i.charAt(0)&&i==RE?this.disableAnimations(r,!!o):this.delegate.setProperty(r,i,o)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,o){return this.delegate.listen(r,i,o)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class KC extends WC{constructor(r,i,o,c){super(i,o,c),this.factory=r,this.namespaceId=i}setProperty(r,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==RE?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,i.substr(1),o):this.delegate.setProperty(r,i,o)}listen(r,i,o){if("@"==i.charAt(0)){const c=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let h=i.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(h)),this.engine.listen(this.namespaceId,c,h,m,b=>{this.factory.scheduleListenerCallback(b._data||-1,o,b)})}return this.delegate.listen(r,i,o)}}let To=(()=>{class s extends vp{constructor(i,o,c){super(i.body,o,c)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(we),g.LFG(fp),g.LFG(cy))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const PA=new g.OlP("AnimationModuleType"),NE=[{provide:Td,useClass:SA},{provide:cy,useFactory:function(){return new pE}},{provide:vp,useClass:To},{provide:g.FYo,useFactory:function(s,r,i){return new xA(s,r,i)},deps:[Ko,vp,g.R0b]}],QC=[{provide:fp,useFactory:function(){return"function"==typeof SE()?new DA:new bi}},{provide:PA,useValue:"BrowserAnimations"},...NE],JC=[{provide:fp,useClass:Nd},{provide:PA,useValue:"NoopAnimations"},...NE];let kA=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?JC:QC}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:QC,imports:[Ki]}),s})();const eT_firebaseConfig={apiKey:"AIzaSyDHNUKq57w9CLhCZc9141tbTetDW0UdUug",authDomain:"clinica-a97bf.firebaseapp.com",projectId:"clinica-a97bf",storageBucket:"clinica-a97bf.appspot.com",messagingSenderId:"480020795672",appId:"1:480020795672:web:65b68cdeab49d81413ce6d"};var Qi=F(8939),ot=F(5917),ME=F(6682),Bd=F(309),au=F(5345);function Zn(s,r){return"function"==typeof r?i=>i.pipe(Zn((o,c)=>(0,Jt.D)(s(o,c)).pipe((0,ht.U)((h,m)=>r(o,h,c,m))))):i=>i.lift(new tT(s))}class tT{constructor(r){this.project=r}call(r,i){return i.subscribe(new FA(r,this.project))}}class FA extends au.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new au.IY(this),c=this.destination;c.add(o),this.innerSubscription=(0,au.ft)(r,o),this.innerSubscription!==o&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}var LA=F(7771),by=F(5319),VA=F(7971),UA=F(8858);class nT extends tr.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new rT(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,h=o.length;let m;if(this.closed)throw new VA.N;if(this.isStopped||this.hasError?m=by.w.EMPTY:(this.observers.push(r),m=new UA.W(this,r)),c&&r.add(r=new Bd.ht(r,c)),i)for(let b=0;b<h&&!r.closed;b++)r.next(o[b]);else for(let b=0;b<h&&!r.closed;b++)r.next(o[b].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||LA.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,c=this._events,h=c.length;let m=0;for(;m<h&&!(r-c[m].time<o);)m++;return h>i&&(m=Math.max(m,h-i)),m>0&&c.splice(0,m),c}}class rT{constructor(r,i){this.time=r,this.value=i}}function OE(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let c,m,h=0,b=!1,T=!1;return function(x){let M;h++,!c||b?(b=!1,c=new nT(s,r,o),M=c.subscribe(this),m=x.subscribe({next(U){c.next(U)},error(U){b=!0,c.error(U)},complete(){T=!0,m=void 0,c.complete()}}),T&&(m=void 0)):M=c.subscribe(this),this.add(()=>{h--,M.unsubscribe(),M=void 0,m&&!T&&i&&0===h&&(m.unsubscribe(),m=void 0,c=void 0)})}}(o))}const Ji=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var ei=F(7393);function fa(s,r){return function(o){return o.lift(new jA(s,r))}}class jA{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new x1(r,this.predicate,this.thisArg))}}class x1 extends ei.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}const PE=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var Xi=F(9193);function Ul(s){return r=>0===s?(0,Xi.c)():r.lift(new $A(s))}class $A{constructor(r){if(this.total=r,this.total<0)throw new PE}call(r,i){return i.subscribe(new kE(r,this.total))}}class kE extends ei.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}function FE(s=null){return r=>r.lift(new HA(s))}class HA{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new sT(r,this.defaultValue))}}class sT extends ei.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function oT(s=GA){return r=>r.lift(new LE(s))}class LE{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new qA(r,this.errorFactory))}}class qA extends ei.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function GA(){return new Ji}var VE=F(4487);function es(s,r){const i=arguments.length>=2;return o=>o.pipe(s?fa((c,h)=>s(c,h,o)):VE.y,Ul(1),i?FE(r):oT(()=>new Ji))}function UE(s,r){return r?Zn(()=>s,r):Zn(()=>s)}var BE=F(3101),Sn=F(9126),Bl=F(7841);const aT=new g.OlP("angularfire2.auth.use-emulator"),uT=new g.OlP("angularfire2.auth.settings"),lT=new g.OlP("angularfire2.auth.tenant-id"),zA=new g.OlP("angularfire2.auth.langugage-code"),cT=new g.OlP("angularfire2.auth.use-device-language"),jE=new g.OlP("angularfire.auth.persistence"),Yt=(s,r,i,o,c,h,m,b)=>(0,Sn.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const T=r.runOutsideAngular(()=>s.auth());if(i&&T.useEmulator(...i),o&&(T.tenantId=o),T.languageCode=c,h&&T.useDeviceLanguage(),m)for(const[A,x]of Object.entries(m))T.settings[A]=x;return b&&T.setPersistence(b),T},[i,o,c,h,m,b]);let jd=(()=>{class s{constructor(i,o,c,h,m,b,T,A,x,M,U){const $=new tr.xQ,K=(0,ot.of)(void 0).pipe((0,Bd.QV)(m.outsideAngular),Zn(()=>h.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9083)))),(0,ht.U)(()=>(0,Qi.on)(i,h,o)),(0,ht.U)(fe=>Yt(fe,h,b,A,x,M,T,U)),OE({bufferSize:1,refCount:!1}));if(Pc(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{K.pipe(es()).subscribe();const Ie=K.pipe(Zn(qe=>qe.getRedirectResult().then(ze=>ze,()=>null)),Sn.iC,OE({bufferSize:1,refCount:!1})),He=K.pipe(Zn(qe=>new Pr.y(ze=>({unsubscribe:h.runOutsideAngular(()=>qe.onAuthStateChanged(nn=>ze.next(nn),nn=>ze.error(nn),()=>ze.complete()))})))),Ye=K.pipe(Zn(qe=>new Pr.y(ze=>({unsubscribe:h.runOutsideAngular(()=>qe.onIdTokenChanged(nn=>ze.next(nn),nn=>ze.error(nn),()=>ze.complete()))}))));this.authState=Ie.pipe(UE(He),(0,BE.R)(m.outsideAngular),(0,Bd.QV)(m.insideAngular)),this.user=Ie.pipe(UE(Ye),(0,BE.R)(m.outsideAngular),(0,Bd.QV)(m.insideAngular)),this.idToken=this.user.pipe(Zn(qe=>qe?(0,Jt.D)(qe.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe(Zn(qe=>qe?(0,Jt.D)(qe.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,ME.T)(Ie,$,this.authState.pipe(fa(qe=>!qe))).pipe((0,ht.U)(qe=>(null==qe?void 0:qe.user)?qe:null),(0,BE.R)(m.outsideAngular),(0,Bd.QV)(m.insideAngular))}return(0,Qi.pX)(this,K,h,{spy:{apply:(fe,Ie,He)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&He.then(Ye=>$.next(Ye))}}})}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Qi.Dh),g.LFG(Qi.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sn.HU),g.LFG(aT,8),g.LFG(uT,8),g.LFG(lT,8),g.LFG(zA,8),g.LFG(cT,8),g.LFG(jE,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),N1=(()=>{class s{constructor(){Bl.Z.registerVersion("angularfire",Sn.q4.full,"auth-compat")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[jd]}),s})();var Io=F(3637),$d=F(3282);function dT(...s){return(0,$d.J)(1)((0,ot.of)(...s))}var hT=F(4869);function wy(...s){const r=s[s.length-1];return(0,hT.K)(r)?(s.pop(),i=>dT(s,i,r)):i=>dT(s,i)}function Cy(){return s=>s.lift(new fT)}class fT{call(r,i){return i.subscribe(new pT(r))}}class pT extends ei.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}function Hd(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new WA(s,r,i))}}class WA{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new KA(r,this.accumulator,this.seed,this.hasSeed))}}class KA extends ei.L{constructor(r,i,o,c){super(r),this.accumulator=i,this._seed=o,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(c){this.destination.error(c)}this.seed=o,this.destination.next(o)}}class HE{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new gT(r,this.compare,this.keySelector))}}class gT extends ei.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:c}=this;i=c?c(r):r}catch(c){return this.destination.error(c)}let o=!1;if(this.hasKey)try{const{compare:c}=this;o=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}F(9083);var qE=F(4486),_e=F(8239),qd=F(5452),Ty=F(6034),jl=F(300),St=F(4685),Iy=function(s,r){return(Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])})(s,r)};function GE(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ze,QA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mT=mT||{},bt=QA||self;function Gd(){}function ZE(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function Zd(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var _T="closure_uid_"+(1e9*Math.random()>>>0),Fs=0;function O1(s,r,i){return s.call.apply(s.bind,arguments)}function P1(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),s.apply(r,c)}}return function(){return s.apply(r,arguments)}}function Vr(s,r,i){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O1:P1).apply(null,arguments)}function Cp(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function ar(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,c,h){for(var m=Array(arguments.length-2),b=2;b<arguments.length;b++)m[b-2]=arguments[b];return r.prototype[c].apply(o,m)}}function pa(){this.s=this.s,this.o=this.o}var k1={};pa.prototype.s=!1,pa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,_T)&&s[_T]||(s[_T]=++Fs)}(this);delete k1[s]}},pa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zE=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},Dy=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,c="string"==typeof s?s.split(""):s,h=0;h<o;h++)h in c&&r.call(i,c[h],h,s)};function Sy(s){return Array.prototype.concat.apply([],arguments)}function WE(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function Ay(s){return/^[\s\xa0]*$/.test(s)}var ni,vT=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function ti(s,r){return-1!=s.indexOf(r)}function KE(s,r){return s<r?-1:s>r?1:0}e:{var Tp=bt.navigator;if(Tp){var $l=Tp.userAgent;if($l){ni=$l;break e}}ni=""}function Ry(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function ts(s){var r={};for(var i in s)r[i]=s[i];return r}var zd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ET(s,r){for(var i,o,c=1;c<arguments.length;c++){for(i in o=arguments[c])s[i]=o[i];for(var h=0;h<zd.length;h++)i=zd[h],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function YE(s){return YE[" "](s),s}YE[" "]=Gd;var ma,s,Do=ti(ni,"Opera"),So=ti(ni,"Trident")||ti(ni,"MSIE"),Er=ti(ni,"Edge"),ga=Er||So,Ip=ti(ni,"Gecko")&&!(ti(ni.toLowerCase(),"webkit")&&!ti(ni,"Edge"))&&!(ti(ni,"Trident")||ti(ni,"MSIE"))&&!ti(ni,"Edge"),ns=ti(ni.toLowerCase(),"webkit")&&!ti(ni,"Edge");function xy(){var s=bt.document;return s?s.documentMode:void 0}e:{var uu="",lu=(s=ni,Ip?/rv:([^\);]+)(\)|;)/.exec(s):Er?/Edge\/([\d\.]+)/.exec(s):So?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):ns?/WebKit\/(\S+)/.exec(s):Do?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(lu&&(uu=lu?lu[1]:""),So){var cu=xy();if(null!=cu&&cu>parseFloat(uu)){ma=String(cu);break e}}ma=uu}var Wd={};function Kd(){return r=Wd,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=vT(String(ma)).split("."),i=vT("9").split("."),o=Math.max(r.length,i.length),c=0;0==s&&c<o;c++){var h=r[c]||"",m=i[c]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=KE(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||KE(0==h[2].length,0==m[2].length)||KE(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s}();var r}var Yd=bt.document&&So&&(xy()||parseInt(ma,10))||void 0,bT=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{bt.addEventListener("test",Gd,r),bt.removeEventListener("test",Gd,r)}catch(i){}return s}();function br(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function Qd(s,r){if(br.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(Ip){e:{try{YE(r.nodeName);var c=!0;break e}catch(h){}c=!1}c||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:wT[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Qd.Z.h.call(this)}}br.prototype.h=function(){this.defaultPrevented=!0},ar(Qd,br);var wT={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Jd="closure_listenable_"+(1e6*Math.random()|0),CT=0;function TT(s,r,i,o,c){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=c,this.key=++CT,this.ca=this.fa=!1}function Dp(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Sp(s){this.src=s,this.g={},this.h=0}function JE(s,r){var i=r.type;if(i in s.g){var h,o=s.g[i],c=zE(o,r);(h=0<=c)&&Array.prototype.splice.call(o,c,1),h&&(Dp(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Ny(s,r,i,o){for(var c=0;c<s.length;++c){var h=s[c];if(!h.ca&&h.listener==r&&h.capture==!!i&&h.ia==o)return c}return-1}Sp.prototype.add=function(s,r,i,o,c){var h=s.toString();(s=this.g[h])||(s=this.g[h]=[],this.h++);var m=Ny(s,r,o,c);return-1<m?(r=s[m],i||(r.fa=!1)):((r=new TT(r,this.src,h,!!o,c)).fa=i,s.push(r)),r};var XE="closure_lm_"+(1e6*Math.random()|0),eb={};function tb(s,r,i,o,c){if(o&&o.once)return DT(s,r,i,o,c);if(Array.isArray(r)){for(var h=0;h<r.length;h++)tb(s,r[h],i,o,c);return null}return i=ob(i),s&&s[Jd]?s.N(r,i,Zd(o)?!!o.capture:!!o,c):IT(s,r,i,!1,o,c)}function IT(s,r,i,o,c,h){if(!r)throw Error("Invalid event type");var m=Zd(c)?!!c.capture:!!c,b=sb(s);if(b||(s[XE]=b=new Sp(s)),(i=b.add(r,i,o,m,h)).proxy)return i;if(o=function(){var r=eR;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)bT||(c=m),void 0===c&&(c=!1),s.addEventListener(r.toString(),o,c);else if(s.attachEvent)s.attachEvent(ib(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function DT(s,r,i,o,c){if(Array.isArray(r)){for(var h=0;h<r.length;h++)DT(s,r[h],i,o,c);return null}return i=ob(i),s&&s[Jd]?s.O(r,i,Zd(o)?!!o.capture:!!o,c):IT(s,r,i,!0,o,c)}function nb(s,r,i,o,c){if(Array.isArray(r))for(var h=0;h<r.length;h++)nb(s,r[h],i,o,c);else o=Zd(o)?!!o.capture:!!o,i=ob(i),s&&s[Jd]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=Ny(h=s.g[r],i,o,c))&&(Dp(h[i]),Array.prototype.splice.call(h,i,1),0==h.length&&(delete s.g[r],s.h--))):s&&(s=sb(s))&&(r=s.g[r.toString()],s=-1,r&&(s=Ny(r,i,o,c)),(i=-1<s?r[s]:null)&&rb(i))}function rb(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[Jd])JE(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(ib(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=sb(r))?(JE(i,s),0==i.h&&(i.src=null,r[XE]=null)):Dp(s)}}}function ib(s){return s in eb?eb[s]:eb[s]="on"+s}function eR(s,r){if(s.ca)s=!0;else{r=new Qd(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&rb(s),s=i.call(o,r)}return s}function sb(s){return(s=s[XE])instanceof Sp?s:null}var ST="__closure_events_fn_"+(1e9*Math.random()>>>0);function ob(s){return"function"==typeof s?s:(s[ST]||(s[ST]=function(r){return s.handleEvent(r)}),s[ST])}function nr(){pa.call(this),this.i=new Sp(this),this.P=this,this.I=null}function Ur(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new br(r,s);else if(r instanceof br)r.target=r.target||s;else{var c=r;ET(r=new br(o,s),c)}if(c=!0,i)for(var h=i.length-1;0<=h;h--){var m=r.g=i[h];c=ab(m,o,!0,r)&&c}if(c=ab(m=r.g=s,o,!0,r)&&c,c=ab(m,o,!1,r)&&c,i)for(h=0;h<i.length;h++)c=ab(m=r.g=i[h],o,!1,r)&&c}function ab(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var c=!0,h=0;h<r.length;++h){var m=r[h];if(m&&!m.ca&&m.capture==i){var b=m.listener,T=m.ia||m.src;m.fa&&JE(s.i,m),c=!1!==b.call(T,o)&&c}}return c&&!o.defaultPrevented}ar(nr,pa),nr.prototype[Jd]=!0,nr.prototype.removeEventListener=function(s,r,i,o){nb(this,s,r,i,o)},nr.prototype.M=function(){if(nr.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)Dp(i[o]);delete s.g[r],s.h--}}this.I=null},nr.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},nr.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var AT=bt.JSON.stringify;function tR(){var s=rR,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var lb,L1=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=RT.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),RT=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new nR},function(s){return s.reset()}),nR=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function ub(s){bt.setTimeout(function(){throw s},0)}function Ap(s,r){lb||function(){var s=bt.Promise.resolve(void 0);lb=function(){s.then(iR)}}(),xT||(lb(),xT=!0),rR.add(s,r)}var xT=!1,rR=new L1;function iR(){for(var s;s=tR();){try{s.h.call(s.g)}catch(i){ub(i)}var r=RT;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}xT=!1}function Rp(s,r){nr.call(this),this.h=s||1,this.g=r||bt,this.j=Vr(this.kb,this),this.l=Date.now()}function NT(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function cb(s,r,i){if("function"==typeof s)i&&(s=Vr(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Vr(s.handleEvent,s)}return 2147483647<Number(r)?-1:bt.setTimeout(s,r||0)}function ql(s){s.g=cb(function(){s.g=null,s.i&&(s.i=!1,ql(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}ar(Rp,nr),(Ze=Rp.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ur(this,"tick"),this.da&&(NT(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){Rp.Z.M.call(this),NT(this),delete this.g};var sR=function(s){function r(i,o){var c=s.call(this)||this;return c.m=i,c.j=o,c.h=null,c.i=!1,c.g=null,c}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}Iy(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:ql(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(pa);function Xd(s){pa.call(this),this.h=s,this.g={}}ar(Xd,pa);var MT=[];function db(s,r,i,o){Array.isArray(i)||(i&&(MT[0]=i.toString()),i=MT);for(var c=0;c<i.length;c++){var h=tb(r,i[c],o||s.handleEvent,!1,s.h||s);if(!h)break;s.g[h.key]=h}}function xp(s){Ry(s.g,function(r,i){this.g.hasOwnProperty(i)&&rb(r)},s),s.g={}}function My(){this.g=!0}function eh(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var h=c[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<c.length;m++)c[m]=""}}}return AT(i)}catch(b){return r}}(s,i)+(o?" "+o:"")})}Xd.prototype.M=function(){Xd.Z.M.call(this),xp(this)},Xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},My.prototype.Aa=function(){this.g=!1},My.prototype.info=function(){};var Gl={},hb=null;function Oy(){return hb=hb||new nr}function fb(s){br.call(this,Gl.Ma,s)}function th(s){var r=Oy();Ur(r,new fb(r,s))}function Py(s,r){br.call(this,Gl.STAT_EVENT,s),this.stat=r}function wi(s){var r=Oy();Ur(r,new Py(r,s))}function ky(s,r){br.call(this,Gl.Na,s),this.size=r}function Np(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){s()},r)}Gl.Ma="serverreachability",ar(fb,br),Gl.STAT_EVENT="statevent",ar(Py,br),Gl.Na="timingevent",ar(ky,br);var pb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gb(){}function Ly(){}gb.prototype.h=null;var Vy,Mp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Op(){br.call(this,"d")}function Pp(){br.call(this,"c")}function mb(){}function kp(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new Xd(this),this.P=yb,this.W=new Rp(s=ga?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Uy}function Uy(){this.i=null,this.g="",this.h=!1}ar(Op,br),ar(Pp,br),ar(mb,gb),mb.prototype.g=function(){return new XMLHttpRequest},mb.prototype.i=function(){return{}},Vy=new mb;var yb=45e3,_b={},Fp={};function Lp(s,r,i){s.K=1,s.v=$y(Ao(r)),s.s=i,s.U=!0,vb(s,null)}function vb(s,r){s.F=Date.now(),Vp(s),s.A=Ao(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),$T(i.h,"t",o),s.C=0,i=s.l.H,s.h=new Uy,s.g=qb(s.l,i?r:null,!s.s),0<s.O&&(s.L=new sR(Vr(s.Ia,s,s.g),s.O)),db(s.V,s.g,"readystatechange",s.gb),r=s.H?ts(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),th(1),function(s,r,i,o,c,h){s.info(function(){if(s.g)if(h)for(var m="",b=h.split("&"),T=0;T<b.length;T++){var A=b[T].split("=");if(1<A.length){var x=A[0];A=A[1];var M=x.split("_");m=2<=M.length&&"type"==M[1]?m+(x+"=")+A+"&":m+(x+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+r+"\n"+i+"\n"+m})}(s.j,s.u,s.A,s.m,s.X,s.s)}function By(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function jy(s,r,i){for(var c,o=!0;!s.I&&s.C<i.length;){if((c=PT(s,i))==Fp){4==r&&(s.o=4,wi(14),o=!1),eh(s.j,s.m,null,"[Incomplete Response]");break}if(c==_b){s.o=4,wi(15),eh(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}eh(s.j,s.m,c,null),bb(s,c)}By(s)&&c!=Fp&&c!=_b&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,wi(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Bb(r),r.L=!0,wi(11))):(eh(s.j,s.m,i,"[Invalid Chunked Response]"),hu(s),Zl(s))}function PT(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?Fp:(i=Number(r.substring(i,o)),isNaN(i)?_b:(o+=1)+i>r.length?Fp:(r=r.substr(o,i),s.C=o+i,r))}function Vp(s){s.Y=Date.now()+s.P,Eb(s,s.P)}function Eb(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Np(Vr(s.eb,s),r)}function Up(s){s.B&&(bt.clearTimeout(s.B),s.B=null)}function Zl(s){0==s.l.G||s.I||tI(s.l,s)}function hu(s){Up(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,NT(s.W),xp(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function bb(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||rs(i.i,s)))if(i.I=s.N,!s.J&&rs(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(Ie){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Np(Vr(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Ky(i),zy(i)}Ub(i),wi(18)}if(1>=Db(i.i)&&i.ka){try{i.ka()}catch(Ie){}i.ka=void 0}}else _u(i,11)}else if((s.J||i.g==s)&&Ky(i),!Ay(r))for(c=i.Ca.g.parse(r),r=0;r<c.length;r++){var h=c[r];if(i.U=h[0],h=h[1],2==i.G)if("c"==h[0]){i.J=h[1],i.la=h[2];var m=h[3];null!=m&&(i.ma=m,i.h.info("VER="+i.ma));var b=h[4];null!=b&&(i.za=b,i.h.info("SVER="+i.za));var T=h[5];null!=T&&"number"==typeof T&&0<T&&(i.K=o=1.5*T,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var A=s.g;if(A){var x=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var M=o.i;!M.g&&(ti(x,"spdy")||ti(x,"quic")||ti(x,"h2"))&&(M.j=M.l,M.g=new Set,M.h&&(Ui(M,M.h),M.h=null))}if(o.D){var U=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(o.sa=U,En(o.F,o.D,U))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var $=s;if((o=i).oa=Hb(o,o.H?o.la:null,o.W),$.J){is(o.i,$);var K=$,fe=o.K;fe&&K.setTimeout(fe),K.B&&(Up(K),Vp(K)),o.g=$}else XT(o);0<i.l.length&&Wy(i)}else"stop"!=h[0]&&"close"!=h[0]||_u(i,7);else 3==i.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?_u(i,7):Lb(i):"noop"!=h[0]&&i.j&&i.j.wa(h),i.A=0)}th(4)}catch(Ie){}}function wb(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(ZE(s)||"string"==typeof s)Dy(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(ZE(s)||"string"==typeof s){i=[];for(var o=s.length,c=0;c<o;c++)i.push(c)}else for(c in i=[],o=0,s)i[o++]=c;c=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(ZE(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var h=0;h<c;h++)r.call(void 0,o[h],i&&i[h],s)}}function fu(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof fu)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function Bp(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];pu(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=r=0;r<s.g.length;)pu(c,o=s.g[r])||(s.g[i++]=o,c[o]=1),r++;s.g.length=i}}function pu(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(Ze=kp.prototype).setTimeout=function(s){this.P=s},Ze.gb=function(s){s=s.target;var r=this.L;r&&3==No(s)?r.l():this.Ia(s)},Ze.Ia=function(s){try{if(s==this.g)e:{var r=No(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||ga||this.g&&(this.h.h||this.g.ga()||kb(this.g)))){this.I||4!=r||7==i||th(8==i||0>=o?3:2),Up(this);var c=this.g.ba();this.N=c;t:if(By(this)){var h=kb(this.g);s="";var m=h.length,b=4==No(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hu(this),Zl(this);var T="";break t}this.h.i=new bt.TextDecoder}for(i=0;i<m;i++)this.h.h=!0,s+=this.h.i.decode(h[i],{stream:b&&i==m-1});h.splice(0,m),this.h.g+=s,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==c,function(s,r,i,o,c,h,m){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+r+"\n"+i+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,r,c),this.i){if(this.$&&!this.J){t:{if(this.g){var A,x=this.g;if((A=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ay(A)){var M=A;break t}}M=null}if(!(c=M)){this.i=!1,this.o=3,wi(12),hu(this),Zl(this);break e}eh(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bb(this,c)}this.U?(jy(this,r,T),ga&&this.i&&3==r&&(db(this.V,this.W,"tick",this.fb),this.W.start())):(eh(this.j,this.m,T,null),bb(this,T)),4==r&&hu(this),this.i&&!this.I&&(4==r?tI(this.l,this):(this.i=!1,Vp(this)))}else 400==c&&0<T.indexOf("Unknown SID")?(this.o=3,wi(12)):(this.o=0,wi(13)),hu(this),Zl(this)}}}catch(U){}},Ze.fb=function(){if(this.g){var s=No(this.g),r=this.g.ga();this.C<r.length&&(Up(this),jy(this,s,r),this.i&&4!=s&&Vp(this))}},Ze.cancel=function(){this.I=!0,hu(this)},Ze.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(th(3),wi(17)),hu(this),this.o=2,Zl(this)):Eb(this,this.Y-s)},(Ze=fu.prototype).R=function(){Bp(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},Ze.T=function(){return Bp(this),this.g.concat()},Ze.get=function(s,r){return pu(this.h,s)?this.h[s]:r},Ze.set=function(s,r){pu(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},Ze.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var c=i[o],h=this.get(c);s.call(r,h,c,this)}};var Cb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gu(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof gu){this.g=void 0!==r?r:s.g,jp(this,s.j),this.s=s.s,$p(this,s.i),Hp(this,s.m),this.l=s.l,r=s.h;var i=new Ro;i.i=r.i,r.g&&(i.g=new fu(r.g),i.h=r.h),cR(this,i),this.o=s.o}else s&&(i=String(s).match(Cb))?(this.g=!!r,jp(this,i[1]||"",!0),this.s=An(i[2]||""),$p(this,i[3]||"",!0),Hp(this,i[4]),this.l=An(i[5]||"",!0),cR(this,i[6]||"",!0),this.o=An(i[7]||"")):(this.g=!!r,this.h=new Ro(null,this.g))}function Ao(s){return new gu(s)}function jp(s,r,i){s.j=i?An(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function $p(s,r,i){s.i=i?An(r,!0):r}function Hp(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function cR(s,r,i){r instanceof Ro?(s.h=r,function(s,r){r&&!s.j&&(mu(s),s.i=null,s.g.forEach(function(i,o){var c=o.toLowerCase();o!=c&&(jT(this,o),$T(this,c,i))},s)),s.j=r}(s.h,s.g)):(i||(r=rh(r,UT)),s.h=new Ro(r,s.g))}function En(s,r,i){s.h.set(r,i)}function $y(s){return En(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function An(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function rh(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,hR),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function hR(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}gu.prototype.toString=function(){var s=[],r=this.j;r&&s.push(rh(r,LT,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(rh(r,LT,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(rh(i,"/"==i.charAt(0)?fR:VT,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",rh(i,BT)),s.join("")};var LT=/[#\/\?@]/g,VT=/[#\?:]/g,fR=/[#\?]/g,UT=/[#\?@]/g,BT=/#/g;function Ro(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function mu(s){s.g||(s.g=new fu,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),c=null;if(0<=o){var h=s[i].substring(0,o);c=s[i].substring(o+1)}else h=s[i];r(h,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function jT(s,r){mu(s),r=zl(s,r),pu(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,pu((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&Bp(s)))}function Tb(s,r){return mu(s),r=zl(s,r),pu(s.g.h,r)}function $T(s,r,i){jT(s,r),0<i.length&&(s.i=null,s.g.set(zl(s,r),WE(i)),s.h+=i.length)}function zl(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(Ze=Ro.prototype).add=function(s,r){mu(this),this.i=null,s=zl(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},Ze.forEach=function(s,r){mu(this),this.g.forEach(function(i,o){Dy(i,function(c){s.call(r,c,o,this)},this)},this)},Ze.T=function(){mu(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var c=s[o],h=0;h<c.length;h++)i.push(r[o]);return i},Ze.R=function(s){mu(this);var r=[];if("string"==typeof s)Tb(this,s)&&(r=Sy(r,this.g.get(zl(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=Sy(r,s[i])}return r},Ze.set=function(s,r){return mu(this),this.i=null,Tb(this,s=zl(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},Ze.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],c=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var m=c;""!==o[h]&&(m+="="+encodeURIComponent(String(o[h]))),s.push(m)}}return this.i=s.join("&")};var Ib=function(r,i){this.h=r,this.g=i};function Hy(s){this.l=s||xo,s=bt.PerformanceNavigationTiming?0<(s=bt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xo=10;function HT(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Db(s){return s.h?1:s.g?s.g.size:0}function rs(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function Ui(s,r){s.g?s.g.add(r):s.h=r}function is(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function Sb(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var c=GE(s.g.values()),h=c.next();!h.done;h=c.next())o=o.concat(h.value.D)}catch(b){r={error:b}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o}return WE(s.i)}function qy(){}function pR(){this.g=new qy}function gR(s,r,i){var o=i||"";try{wb(s,function(c,h){var m=c;Zd(c)&&(m=AT(c)),r.push(o+h+"="+encodeURIComponent(m))})}catch(c){throw r.push(o+"type="+encodeURIComponent("_badmap")),c}}function Gy(s,r,i,o,c){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,c(o)}catch(h){}}function Wl(s){this.l=s.$b||null,this.j=s.ib||!1}function yu(s,r){nr.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=Ab,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hy.prototype.cancel=function(){var s,r;if(this.i=Sb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=GE(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(h){s={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},qy.prototype.stringify=function(s){return bt.JSON.stringify(s,void 0)},qy.prototype.parse=function(s){return bt.JSON.parse(s,void 0)},ar(Wl,gb),Wl.prototype.g=function(){return new yu(this.l,this.j)},Wl.prototype.i=function(s){return function(){return s}}({}),ar(yu,nr);var Ab=0;function Rb(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function qp(s){s.readyState=4,s.l=null,s.j=null,s.A=null,ih(s)}function ih(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ze=yu.prototype).open=function(s,r){if(this.readyState!=Ab)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,ih(this)},Ze.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||bt).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qp(this)),this.readyState=Ab},Ze.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,ih(this)),this.g&&(this.readyState=3,ih(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rb(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?qp(this):ih(this),3==this.readyState&&Rb(this)}},Ze.Ua=function(s){this.g&&(this.response=this.responseText=s,qp(this))},Ze.Ta=function(s){this.g&&(this.response=s,qp(this))},Ze.ha=function(){this.g&&qp(this)},Ze.setRequestHeader=function(s,r){this.v.append(s,r)},Ze.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var qT=bt.JSON.parse;function Rn(s){nr.call(this),this.headers=new fu,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=GT,this.K=this.L=!1}ar(Rn,nr);var GT="",ZT=/^https?$/i,zT=["POST","PUT"];function Zy(s){return"content-type"==s.toLowerCase()}function Nb(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,Mb(s),Gp(s)}function Mb(s){s.D||(s.D=!0,Ur(s,"complete"),Ur(s,"error"))}function Ob(s){if(s.h&&void 0!==mT&&(!s.C[1]||4!=No(s)||2!=s.ba()))if(s.v&&4==No(s))cb(s.Fa,0,s);else if(Ur(s,"readystatechange"),4==No(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var c;if(c=0===r){var h=String(s.H).match(Cb)[1]||null;if(!h&&bt.self&&bt.self.location){var m=bt.self.location.protocol;h=m.substr(0,m.length-1)}c=!ZT.test(h?h.toLowerCase():"")}o=c}if(o)Ur(s,"complete"),Ur(s,"success");else{s.m=6;try{var b=2<No(s)?s.g.statusText:""}catch(T){b=""}s.j=b+" ["+s.ba()+"]",Mb(s)}}finally{Gp(s)}}}function Gp(s,r){if(s.g){Pb(s);var i=s.g,o=s.C[0]?Gd:null;s.g=null,s.C=null,r||Ur(s,"ready");try{i.onreadystatechange=o}catch(c){}}}function Pb(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(bt.clearTimeout(s.A),s.A=null)}function No(s){return s.g?s.g.readyState:0}function kb(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case GT:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Fb(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return Ry(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):En(s,r,i))}function Zp(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function KT(s){this.za=0,this.l=[],this.h=new My,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zp("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zp("baseRetryDelayMs",5e3,s),this.$a=Zp("retryDelaySeedMs",1e4,s),this.Ya=Zp("forwardChannelMaxRetries",2,s),this.ra=Zp("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Hy(s&&s.concurrentRequestLimit),this.Ca=new pR,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Lb(s){if(YT(s),3==s.G){var r=s.V++,i=Ao(s.F);En(i,"SID",s.J),En(i,"RID",r),En(i,"TYPE","terminate"),zp(s,i),(r=new kp(s,s.h,r,void 0)).K=2,r.v=$y(Ao(i)),i=!1,bt.navigator&&bt.navigator.sendBeacon&&(i=bt.navigator.sendBeacon(r.v.toString(),"")),!i&&bt.Image&&((new Image).src=r.v,i=!0),i||(r.g=qb(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Vp(r)}$b(s)}function zy(s){s.g&&(Bb(s),s.g.cancel(),s.g=null)}function YT(s){zy(s),s.u&&(bt.clearTimeout(s.u),s.u=null),Ky(s),s.i.cancel(),s.m&&("number"==typeof s.m&&bt.clearTimeout(s.m),s.m=null)}function Vb(s,r){s.l.push(new Ib(s.Za++,r)),3==s.G&&Wy(s)}function Wy(s){HT(s.i)||s.m||(s.m=!0,Ap(s.Ha,s),s.C=0)}function QT(s,r){var i;i=r?r.m:s.V++;var o=Ao(s.F);En(o,"SID",s.J),En(o,"RID",i),En(o,"AID",s.U),zp(s,o),s.o&&s.s&&Fb(o,s.o,s.s),i=new kp(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=JT(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Ui(s.i,i),Lp(i,o,r)}function zp(s,r){s.j&&wb({},function(i,o){En(r,o,i)})}function JT(s,r,i){i=Math.min(s.l.length,i);var o=s.j?Vr(s.j.Oa,s.j,s):null;e:for(var c=s.l,h=-1;;){var m=["count="+i];-1==h?0<i?m.push("ofs="+(h=c[0].h)):h=0:m.push("ofs="+h);for(var b=!0,T=0;T<i;T++){var A=c[T].h,x=c[T].g;if(0>(A-=h))h=Math.max(0,c[T].h-100),b=!1;else try{gR(x,m,"req"+A+"_")}catch(M){o&&o(x)}}if(b){o=m.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function XT(s){s.g||s.u||(s.Y=1,Ap(s.Ga,s),s.A=0)}function Ub(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Np(Vr(s.Ga,s),jb(s,s.A)),s.A++,0))}function Bb(s){null!=s.B&&(bt.clearTimeout(s.B),s.B=null)}function eI(s){s.g=new kp(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=Ao(s.oa);En(r,"RID","rpc"),En(r,"SID",s.J),En(r,"CI",s.N?"0":"1"),En(r,"AID",s.U),zp(s,r),En(r,"TYPE","xmlhttp"),s.o&&s.s&&Fb(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=$y(Ao(r)),i.s=null,i.U=!0,vb(i,s)}function Ky(s){null!=s.v&&(bt.clearTimeout(s.v),s.v=null)}function tI(s,r){var i=null;if(s.g==r){Ky(s),Bb(s),s.g=null;var o=2}else{if(!rs(s.i,r))return;i=r.D,is(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var c=s.C;Ur(o=Oy(),new ky(o,i,r,c)),Wy(s)}else XT(s);else if(3==(c=r.o)||0==c&&0<s.I||!(1==o&&function(s,r){return!(Db(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Np(Vr(s.Ha,s,r),jb(s,s.C)),s.C++,0)))}(s,r)||2==o&&Ub(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),c){case 1:_u(s,5);break;case 4:_u(s,10);break;case 3:_u(s,6);break;default:_u(s,2)}}function jb(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function _u(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=Vr(s.jb,s);i||(i=new gu("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||jp(i,"https"),$y(i)),function(s,r){var i=new My;if(bt.Image){var o=new Image;o.onload=Cp(Gy,i,o,"TestLoadImage: loaded",!0,r),o.onerror=Cp(Gy,i,o,"TestLoadImage: error",!1,r),o.onabort=Cp(Gy,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=Cp(Gy,i,o,"TestLoadImage: timeout",!1,r),bt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else wi(2);s.G=0,s.j&&s.j.va(r),$b(s),YT(s)}function $b(s){s.G=0,s.I=-1,s.j&&((0!=Sb(s.i).length||0!=s.l.length)&&(s.i.i.length=0,WE(s.l),s.l.length=0),s.j.ua())}function Hb(s,r,i){var o=function(s){return s instanceof gu?Ao(s):new gu(s,void 0)}(i);if(""!=o.i)r&&$p(o,r+"."+o.i),Hp(o,o.m);else{var c=bt.location;o=function(s,r,i,o){var c=new gu(null,void 0);return s&&jp(c,s),r&&$p(c,r),i&&Hp(c,i),o&&(c.l=o),c}(c.protocol,r?r+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Ry(s.aa,function(h,m){En(o,m,h)}),i=s.sa,(r=s.D)&&i&&En(o,r,i),En(o,"VER",s.ma),zp(s,o),o}function qb(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Rn(i&&s.Ba&&!s.qa?new Wl({ib:!0}):s.qa)).L=s.H,r}function Gb(){}function Wp(){if(So&&!(10<=Number(Yd)))throw Error("Environmental error: no available transport.")}function Ci(s,r){nr.call(this),this.g=new KT(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!Ay(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Ay(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new vu(this)}function Zb(s){Op.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function Yy(){Pp.call(this),this.status=1}function vu(s){this.g=s}(Ze=Rn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Vy),this.g.onreadystatechange=Vr(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(h){return void Nb(this,h)}s=i||"";var c=new fu(this.headers);o&&wb(o,function(h,m){c.set(m,h)}),o=function(s){e:{for(var r=Zy,i=s.length,o="string"==typeof s?s.split(""):s,c=0;c<i;c++)if(c in o&&r.call(void 0,o[c],c,s)){r=c;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(c.T()),i=bt.FormData&&s instanceof bt.FormData,!(0<=zE(zT,r))||o||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pb(this),0<this.B&&((this.K=function(s){return So&&Kd()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.pa,this)):this.A=cb(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(h){Nb(this,h)}},Ze.pa=function(){void 0!==mT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},Ze.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Ur(this,"complete"),Ur(this,"abort"),Gp(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gp(this,!0)),Rn.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?Ob(this):this.cb())},Ze.cb=function(){Ob(this)},Ze.ba=function(){try{return 2<No(this)?this.g.status:-1}catch(s){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ze.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),qT(r)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=KT.prototype).ma=8,Ze.G=1,Ze.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},Ze.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new kp(this,this.h,s,void 0),i=this.s;if(this.P&&(i?ET(i=ts(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(o+=h)){o=c;break e}if(4096===o||c===this.l.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=JT(this,r,o),En(c=Ao(this.F),"RID",s),En(c,"CVER",22),this.D&&En(c,"X-HTTP-Session-Id",this.D),zp(this,c),this.o&&i&&Fb(c,this.o,i),Ui(this.i,r),this.Ra&&En(c,"TYPE","init"),this.ja?(En(c,"$req",o),En(c,"SID","null"),r.$=!0,Lp(r,c,null)):Lp(r,c,o),this.G=2}}else 3==this.G&&(s?QT(this,s):0==this.l.length||HT(this.i)||QT(this))},Ze.Ga=function(){if(this.u=null,eI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Np(Vr(this.bb,this),s)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wi(10),zy(this),eI(this))},Ze.ab=function(){null!=this.v&&(this.v=null,zy(this),Ub(this),wi(19))},Ze.jb=function(s){s?(this.h.info("Successfully pinged google.com"),wi(2)):(this.h.info("Failed to ping google.com"),wi(1))},(Ze=Gb.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},Wp.prototype.g=function(s,r){return new Ci(s,r)},ar(Ci,nr),Ci.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Ap(Vr(s.hb,s,r))),wi(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=Hb(s,null,s.W),Wy(s)},Ci.prototype.close=function(){Lb(this.g)},Ci.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Vb(this.g,r)}else this.v?((r={}).__data__=AT(s),Vb(this.g,r)):Vb(this.g,s)},Ci.prototype.M=function(){this.g.j=null,delete this.j,Lb(this.g),delete this.g,Ci.Z.M.call(this)},ar(Zb,Op),ar(Yy,Pp),ar(vu,Gb),vu.prototype.xa=function(){Ur(this.g,"a")},vu.prototype.wa=function(s){Ur(this.g,new Zb(s))},vu.prototype.va=function(s){Ur(this.g,new Yy(s))},vu.prototype.ua=function(){Ur(this.g,"b")},Wp.prototype.createWebChannel=Wp.prototype.g,Ci.prototype.send=Ci.prototype.u,Ci.prototype.open=Ci.prototype.m,Ci.prototype.close=Ci.prototype.close,pb.NO_ERROR=0,pb.TIMEOUT=8,pb.HTTP_ERROR=6,nh.COMPLETE="complete",Ly.EventType=Mp,Mp.OPEN="a",Mp.CLOSE="b",Mp.ERROR="c",Mp.MESSAGE="d",nr.prototype.listen=nr.prototype.N,Rn.prototype.listenOnce=Rn.prototype.O,Rn.prototype.getLastError=Rn.prototype.La,Rn.prototype.getLastErrorCode=Rn.prototype.Da,Rn.prototype.getStatus=Rn.prototype.ba,Rn.prototype.getResponseJson=Rn.prototype.Qa,Rn.prototype.getResponseText=Rn.prototype.ga,Rn.prototype.send=Rn.prototype.ea;var Qy=pb,Kl=nh,_R=Gl,Kp_PROXY=10,Kp_NOPROXY=11,vR=Wl,sh=Ly,zb=Rn;class wr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let oh="9.0.1";const bu=new jl.Yd("@firebase/firestore");function ah(){return bu.logLevel}function Fe(s,...r){if(bu.logLevel<=jl.in.DEBUG){const i=r.map(rI);bu.debug(`Firestore (${oh}): ${s}`,...i)}}function xn(s,...r){if(bu.logLevel<=jl.in.ERROR){const i=r.map(rI);bu.error(`Firestore (${oh}): ${s}`,...i)}}function fn(s,...r){if(bu.logLevel<=jl.in.WARN){const i=r.map(rI);bu.warn(`Firestore (${oh}): ${s}`,...i)}}function rI(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Xe(s="Unexpected state"){const r=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: `+s;throw xn(r),new Error(r)}function lt(s,r){s||Xe()}function je(s,r){return s}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class iI{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(wr.UNAUTHENTICATED))}shutdown(){}}class CR{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Yp{constructor(r){this.t=r,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let c=this.i;const h=T=>this.i!==c?(c=this.i,i(T)):Promise.resolve();let m=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new rr,r.enqueueRetryable(()=>h(this.currentUser))};const b=T=>{r.enqueueRetryable((0,_e.Z)(function*(){Fe("FirebaseCredentialsProvider","Auth detected"),o.auth=T,o.auth.addAuthTokenListener(o.o),yield m.promise,yield h(o.currentUser)}))};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(Fe("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new rr)}},0),r.enqueueRetryable((0,_e.Z)(function*(){0===o.i&&(yield m.promise,yield h(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(lt("string"==typeof o.accessToken),new iI(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return lt(null===r||"string"==typeof r),new wr(r)}}class TR{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=wr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class IR{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new TR(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bi{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Jy(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}Bi.T=-1;class Wb{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const c=Jy(40);for(let h=0;h<c.length;++h)o.length<20&&c[h]<i&&(o+=r.charAt(c[h]%r.length))}return o}}function kt(s,r){return s<r?-1:s>r?1:0}function Yl(s,r,i){return s.length===r.length&&s.every((o,c)=>i(o,r[c]))}function sI(s){return s+"\0"}class Vn{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Vn.fromMillis(Date.now())}static fromDate(r){return Vn.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new Vn(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?kt(this.nanoseconds,r.nanoseconds):kt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new mt(r)}static min(){return new mt(new Vn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function oI(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function Ql(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function aI(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class uh{constructor(r,i,o){void 0===i?i=0:i>r.length&&Xe(),void 0===o?o=r.length-i:o>r.length-i&&Xe(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===uh.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof uh?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let c=0;c<o;c++){const h=r.get(c),m=i.get(c);if(h<m)return-1;if(h>m)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class $t extends uh{construct(r,i,o){return new $t(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const uI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends uh{construct(r,i,o){return new Cr(r,i,o)}static isValidIdentifier(r){return uI.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(r){const i=[];let o="",c=0;const h=()=>{if(0===o.length)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;c<r.length;){const b=r[c];if("\\"===b){if(c+1===r.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const T=r[c+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=T,c+=2}else"`"===b?(m=!m,c++):"."!==b||m?(o+=b,c++):(h(),c++)}if(h(),m)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Cr(i)}static emptyPath(){return new Cr([])}}class Jl{constructor(r){this.fields=r,r.sort(Cr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return Yl(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class ur{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new ur(i)}static fromUint8Array(r){const i=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(r);return new ur(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return kt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const B1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(s){if(lt(!!s),"string"==typeof s){let r=0;const i=B1.exec(s);if(lt(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),r=Number(c)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:ir(s.seconds),nanos:ir(s.nanos)}}function ir(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Qp(s){return"string"==typeof s?ur.fromBase64String(s):ur.fromUint8Array(s)}function Xy(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Jp(s){const r=s.mapValue.fields.__previous_value__;return Xy(r)?Jp(r):r}function Xp(s){const r=Xl(s.mapValue.fields.__local_write_time__.timestampValue);return new Vn(r.seconds,r.nanos)}function ec(s){return null==s}function eg(s){return 0===s&&1/s==-1/0}function lh(s){return"number"==typeof s&&Number.isInteger(s)&&!eg(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class et{constructor(r){this.path=r}static fromPath(r){return new et($t.fromString(r))}static fromName(r){return new et($t.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===$t.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return $t.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new et(new $t(r.slice()))}}function tc(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xy(s)?4:10:Xe()}function Mo(s,r){const i=tc(s);if(i!==tc(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return Xp(s).isEqual(Xp(r));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Xl(o.timestampValue),m=Xl(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return c=r,Qp(s.bytesValue).isEqual(Qp(c.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,c){return ir(o.geoPointValue.latitude)===ir(c.geoPointValue.latitude)&&ir(o.geoPointValue.longitude)===ir(c.geoPointValue.longitude)}(s,r);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ir(o.integerValue)===ir(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=ir(o.doubleValue),m=ir(c.doubleValue);return h===m?eg(h)===eg(m):isNaN(h)&&isNaN(m)}return!1}(s,r);case 9:return Yl(s.arrayValue.values||[],r.arrayValue.values||[],Mo);case 10:return function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(oI(h)!==oI(m))return!1;for(const b in h)if(h.hasOwnProperty(b)&&(void 0===m[b]||!Mo(h[b],m[b])))return!1;return!0}(s,r);default:return Xe()}var c}function tg(s,r){return void 0!==(s.values||[]).find(i=>Mo(i,r))}function ch(s,r){const i=tc(s),o=tc(r);if(i!==o)return kt(i,o);switch(i){case 0:return 0;case 1:return kt(s.booleanValue,r.booleanValue);case 2:return function(c,h){const m=ir(c.integerValue||c.doubleValue),b=ir(h.integerValue||h.doubleValue);return m<b?-1:m>b?1:m===b?0:isNaN(m)?isNaN(b)?0:-1:1}(s,r);case 3:return Kb(s.timestampValue,r.timestampValue);case 4:return Kb(Xp(s),Xp(r));case 5:return kt(s.stringValue,r.stringValue);case 6:return function(c,h){const m=Qp(c),b=Qp(h);return m.compareTo(b)}(s.bytesValue,r.bytesValue);case 7:return function(c,h){const m=c.split("/"),b=h.split("/");for(let T=0;T<m.length&&T<b.length;T++){const A=kt(m[T],b[T]);if(0!==A)return A}return kt(m.length,b.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,h){const m=kt(ir(c.latitude),ir(h.latitude));return 0!==m?m:kt(ir(c.longitude),ir(h.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(c,h){const m=c.values||[],b=h.values||[];for(let T=0;T<m.length&&T<b.length;++T){const A=ch(m[T],b[T]);if(A)return A}return kt(m.length,b.length)}(s.arrayValue,r.arrayValue);case 10:return function(c,h){const m=c.fields||{},b=Object.keys(m),T=h.fields||{},A=Object.keys(T);b.sort(),A.sort();for(let x=0;x<b.length&&x<A.length;++x){const M=kt(b[x],A[x]);if(0!==M)return M;const U=ch(m[b[x]],T[A[x]]);if(0!==U)return U}return kt(b.length,A.length)}(s.mapValue,r.mapValue);default:throw Xe()}}function Kb(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return kt(s,r);const i=Xl(s),o=Xl(r),c=kt(i.seconds,o.seconds);return 0!==c?c:kt(i.nanos,o.nanos)}function Yb(s){return Qb(s)}function Qb(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const c=Xl(o);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Qp(s.bytesValue).toBase64():"referenceValue"in s?et.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let c="[",h=!0;for(const m of o.values||[])h?h=!1:c+=",",c+=Qb(m);return c+"]"}(s.arrayValue):"mapValue"in s?function(o){const c=Object.keys(o.fields||{}).sort();let h="{",m=!0;for(const b of c)m?m=!1:h+=",",h+=`${b}:${Qb(o.fields[b])}`;return h+"}"}(s.mapValue):Xe();var r}function ya(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function Jb(s){return!!s&&"integerValue"in s}function e_(s){return!!s&&"arrayValue"in s}function lI(s){return!!s&&"nullValue"in s}function Xb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function t_(s){return!!s&&"mapValue"in s}function dh(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return Ql(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=dh(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=dh(s.arrayValue.values[i]);return r}return Object.assign({},s)}class Br{constructor(r){this.value=r}static empty(){return new Br({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!t_(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=dh(i)}setAll(r){let i=Cr.emptyPath(),o={},c=[];r.forEach((m,b)=>{if(!i.isImmediateParentOf(b)){const T=this.getFieldsMap(i);this.applyChanges(T,o,c),o={},c=[],i=b.popLast()}m?o[b.lastSegment()]=dh(m):c.push(b.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,c)}delete(r){const i=this.field(r.popLast());t_(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Mo(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let c=i.mapValue.fields[r.get(o)];t_(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(r,i,o){Ql(i,(c,h)=>r[c]=h);for(const c of o)delete r[c]}clone(){return new Br(dh(this.value))}}function n_(s){const r=[];return Ql(s.fields,(i,o)=>{const c=new Cr([i]);if(t_(o)){const h=n_(o.mapValue).fields;if(0===h.length)r.push(c);else for(const m of h)r.push(c.child(m))}else r.push(c)}),new Jl(r)}class bn{constructor(r,i,o,c,h){this.key=r,this.documentType=i,this.version=o,this.data=c,this.documentState=h}static newInvalidDocument(r){return new bn(r,0,mt.min(),Br.empty(),0)}static newFoundDocument(r,i,o){return new bn(r,1,i,o,0)}static newNoDocument(r,i){return new bn(r,2,i,Br.empty(),0)}static newUnknownDocument(r,i){return new bn(r,3,i,Br.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof bn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new bn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cI{constructor(r,i=null,o=[],c=[],h=null,m=null,b=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=h,this.startAt=m,this.endAt=b,this.A=null}}function ew(s,r=null,i=[],o=[],c=null,h=null,m=null){return new cI(s,r,i,o,c,h,m)}function ng(s){const r=je(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+Yb(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),ec(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=rg(r.startAt)),r.endAt&&(i+="|ub:",i+=rg(r.endAt)),r.A=i}return r.A}function r_(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!kR(s.orderBy[c],r.orderBy[c]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(o=r.filters[c]).op||!i.field.isEqual(o.field)||!Mo(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!fI(s.startAt,r.startAt)&&fI(s.endAt,r.endAt)}function hh(s){return et.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ri extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new AR(r,i,o):"array-contains"===i?new NR(r,o):"in"===i?new MR(r,o):"not-in"===i?new OR(r,o):"array-contains-any"===i?new PR(r,o):new ri(r,i,o)}static R(r,i,o){return"in"===i?new RR(r,o):new xR(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(ch(i,this.value)):null!==i&&tc(this.value)===tc(i)&&this.P(ch(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Xe()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class AR extends ri{constructor(r,i,o){super(r,i,o),this.key=et.fromName(o.referenceValue)}matches(r){const i=et.comparator(r.key,this.key);return this.P(i)}}class RR extends ri{constructor(r,i){super(r,"in",i),this.keys=hI(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class xR extends ri{constructor(r,i){super(r,"not-in",i),this.keys=hI(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function hI(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>et.fromName(o.referenceValue))}class NR extends ri{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return e_(i)&&tg(i.arrayValue,this.value)}}class MR extends ri{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&tg(this.value.arrayValue,i)}}class OR extends ri{constructor(r,i){super(r,"not-in",i)}matches(r){if(tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!tg(this.value.arrayValue,i)}}class PR extends ri{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!e_(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>tg(this.value.arrayValue,o))}}class fh{constructor(r,i){this.position=r,this.before=i}}function rg(s){return`${s.before?"b":"a"}:${s.position.map(r=>Yb(r)).join(",")}`}class ph{constructor(r,i="asc"){this.field=r,this.dir=i}}function kR(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function tw(s,r,i){let o=0;for(let c=0;c<s.position.length;c++){const h=r[c],m=s.position[c];if(o=h.field.isKeyField()?et.comparator(et.fromName(m.referenceValue),i.key):ch(m,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function fI(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mo(s.position[i],r.position[i]))return!1;return!0}class _a{constructor(r,i=null,o=[],c=[],h=null,m="F",b=null,T=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=h,this.limitType=m,this.startAt=b,this.endAt=T,this.V=null,this.S=null}}function pI(s,r,i,o,c,h,m,b){return new _a(s,r,i,o,c,h,m,b)}function wu(s){return new _a(s)}function gh(s){return!ec(s.limit)&&"F"===s.limitType}function ig(s){return!ec(s.limit)&&"L"===s.limitType}function sg(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function nw(s){for(const r of s.filters)if(r.v())return r.field;return null}function rw(s){return null!==s.collectionGroup}function Cu(s){const r=je(s);if(null===r.V){r.V=[];const i=nw(r),o=sg(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new ph(i)),r.V.push(new ph(Cr.keyField(),"asc"));else{let c=!1;for(const h of r.explicitOrderBy)r.V.push(h),h.field.isKeyField()&&(c=!0);if(!c){const h=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new ph(Cr.keyField(),h))}}}return r.V}function ss(s){const r=je(s);if(!r.S)if("F"===r.limitType)r.S=ew(r.path,r.collectionGroup,Cu(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const h of Cu(r))i.push(new ph(h.field,"desc"===h.dir?"asc":"desc"));const o=r.endAt?new fh(r.endAt.position,!r.endAt.before):null,c=r.startAt?new fh(r.startAt.position,!r.startAt.before):null;r.S=ew(r.path,r.collectionGroup,i,r.filters,r.limit,o,c)}return r.S}function iw(s,r,i){return new _a(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function og(s,r){return r_(ss(s),ss(r))&&s.limitType===r.limitType}function sw(s){return`${ng(ss(s))}|lt:${s.limitType}`}function i_(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${Yb(o.value)}`;var o}).join(", ")}]`),ec(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+rg(s.startAt)),s.endAt&&(r+=", endAt: "+rg(s.endAt)),`Target(${r})`}(ss(s))}; limitType=${s.limitType})`}function mh(s,r){return r.isFoundDocument()&&function(i,o){const c=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):et.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,r)&&function(i,o){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(s,r)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!tw(i.startAt,Cu(i),o)||i.endAt&&tw(i.endAt,Cu(i),o)));var i,o}function FR(s){return(r,i)=>{let o=!1;for(const c of Cu(s)){const h=LR(c,r,i);if(0!==h)return h;o=o||c.field.isKeyField()}return 0}}function LR(s,r,i){const o=s.field.isKeyField()?et.comparator(r.key,i.key):function(c,h,m){const b=h.data.field(c),T=m.data.field(c);return null!==b&&null!==T?ch(b,T):Xe()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Xe()}}function Tu(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(r)?"-0":r}}function VR(s){return{integerValue:""+s}}function s_(s,r){return lh(r)?VR(r):Tu(s,r)}class nc{constructor(){this._=void 0}}function UR(s,r,i){return s instanceof ag?function(o,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(h.fields.__previous_value__=c),{mapValue:h}}(i,r):s instanceof rc?Ls(s,r):s instanceof Iu?BR(s,r):function(o,c){const h=gI(o,c),m=mI(h)+mI(o.C);return Jb(h)&&Jb(o.C)?VR(m):Tu(o.N,m)}(s,r)}function yh(s,r,i){return s instanceof rc?Ls(s,r):s instanceof Iu?BR(s,r):i}function gI(s,r){return s instanceof va?Jb(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class ag extends nc{}class rc extends nc{constructor(r){super(),this.elements=r}}function Ls(s,r){const i=yI(r);for(const o of s.elements)i.some(c=>Mo(c,o))||i.push(o);return{arrayValue:{values:i}}}class Iu extends nc{constructor(r){super(),this.elements=r}}function BR(s,r){let i=yI(r);for(const o of s.elements)i=i.filter(c=>!Mo(c,o));return{arrayValue:{values:i}}}class va extends nc{constructor(r,i){super(),this.N=r,this.C=i}}function mI(s){return ir(s.integerValue||s.doubleValue)}function yI(s){return e_(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class o_{constructor(r,i){this.field=r,this.transform=i}}class $R{constructor(r,i){this.version=r,this.transformResults=i}}class zn{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new zn}static exists(r){return new zn(void 0,r)}static updateTime(r){return new zn(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function _h(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class ug{}function ow(s,r,i){s instanceof lg?function(o,c,h){const m=o.value.clone(),b=uw(o.fieldTransforms,c,h.transformResults);m.setAll(b),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,r,i):s instanceof Du?function(o,c,h){if(!_h(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=uw(o.fieldTransforms,c,h.transformResults),b=c.data;b.setAll(aw(o)),b.setAll(m),c.convertToFoundDocument(h.version,b).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function a_(s,r,i){var c;s instanceof lg?function(o,c,h){if(!_h(o.precondition,c))return;const m=o.value.clone(),b=lw(o.fieldTransforms,h,c);m.setAll(b),c.convertToFoundDocument(_I(c),m).setHasLocalMutations()}(s,r,i):s instanceof Du?function(o,c,h){if(!_h(o.precondition,c))return;const m=lw(o.fieldTransforms,h,c),b=c.data;b.setAll(aw(o)),b.setAll(m),c.convertToFoundDocument(_I(c),b).setHasLocalMutations()}(s,r,i):_h(s.precondition,c=r)&&c.convertToNoDocument(mt.min())}function HR(s,r){let i=null;for(const o of s.fieldTransforms){const c=r.data.field(o.field),h=gI(o.transform,c||null);null!=h&&(null==i&&(i=Br.empty()),i.set(o.field,h))}return i||null}function qR(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&Yl(i,o,(c,h)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof rc&&o instanceof rc||i instanceof Iu&&o instanceof Iu?Yl(i.elements,o.elements,Mo):i instanceof va&&o instanceof va?Mo(i.C,o.C):i instanceof ag&&o instanceof ag);var i,o}(c,h))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function _I(s){return s.isFoundDocument()?s.version:mt.min()}class lg extends ug{constructor(r,i,o,c=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}}class Du extends ug{constructor(r,i,o,c,h=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=h,this.type=1}}function aw(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function uw(s,r,i){const o=new Map;lt(s.length===i.length);for(let c=0;c<i.length;c++){const h=s[c],m=h.transform,b=r.data.field(h.field);o.set(h.field,yh(m,b,i[c]))}return o}function lw(s,r,i){const o=new Map;for(const c of s){const h=c.transform,m=i.data.field(c.field);o.set(c.field,UR(h,m,r))}return o}class cg extends ug{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class cw extends ug{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class vI{constructor(r){this.count=r}}var Nn,Ut;function dw(s){switch(s){case me.OK:return Xe();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Xe()}}function dg(s){if(void 0===s)return xn("GRPC error has no .code"),me.UNKNOWN;switch(s){case Nn.OK:return me.OK;case Nn.CANCELLED:return me.CANCELLED;case Nn.UNKNOWN:return me.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return me.INTERNAL;case Nn.UNAVAILABLE:return me.UNAVAILABLE;case Nn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Nn.NOT_FOUND:return me.NOT_FOUND;case Nn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Nn.ABORTED:return me.ABORTED;case Nn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Nn.DATA_LOSS:return me.DATA_LOSS;default:return Xe()}}(Ut=Nn||(Nn={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class Un{constructor(r,i){this.comparator=r,this.root=i||Tr.EMPTY}insert(r,i){return new Un(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(r){return new Un(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(r,o.key);if(0===c)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Su(this.root,r,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Su(this.root,r,this.comparator,!0)}}class Su{constructor(r,i,o,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!r.isEmpty();)if(h=i?o(r.key,i):1,c&&(h*=-1),h<0)r=this.isReverse?r.left:r.right;else{if(0===h){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Tr{constructor(r,i,o,c,h){this.key=r,this.value=i,this.color=null!=o?o:Tr.RED,this.left=null!=c?c:Tr.EMPTY,this.right=null!=h?h:Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,c,h){return new Tr(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let c=this;const h=o(r,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(r,i,o),null):0===h?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(r,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,c=this;if(i(r,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(r,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(r,c.key)){if(c.right.isEmpty())return Tr.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(r,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const r=this.left.check();if(r!==this.right.check())throw Xe();return r+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1,Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(s,r,i,o,c){return this}insert(s,r,i){return new Tr(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(r){this.comparator=r,this.data=new Un(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,r[1])>=0)return;i(c.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new GR(this.data.getIterator())}getIteratorFrom(r){return new GR(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof Bn)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new Bn(this.comparator);return i.data=r,i}}class GR{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ZR=new Un(et.comparator);function os(){return ZR}const zR=new Un(et.comparator);function hw(){return zR}const WR=new Un(et.comparator);function EI(){return WR}const KR=new Bn(et.comparator);function Xt(...s){let r=KR;for(const i of s)r=r.add(i);return r}const YR=new Bn(kt);function fw(){return YR}class hg{constructor(r,i,o,c,h){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,Ea.createSynthesizedTargetChangeForCurrentChange(r,i)),new hg(mt.min(),o,fw(),os(),Xt())}}class Ea{constructor(r,i,o,c,h){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(r,i){return new Ea(ur.EMPTY_BYTE_STRING,i,Xt(),Xt(),Xt())}}class u_{constructor(r,i,o,c){this.k=r,this.removedTargetIds=i,this.key=o,this.$=c}}class bI{constructor(r,i){this.targetId=r,this.O=i}}class wI{constructor(r,i,o=ur.EMPTY_BYTE_STRING,c=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=c}}class fg{constructor(){this.F=0,this.M=CI(),this.L=ur.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Xt(),i=Xt(),o=Xt();return this.M.forEach((c,h)=>{switch(h){case 0:r=r.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:Xe()}}),new Ea(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=CI()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ic{constructor(r){this.tt=r,this.et=new Map,this.nt=os(),this.st=pw(),this.it=new Bn(kt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:Xe()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,c)=>{this.ht(c)&&i(c)})}ft(r){const i=r.targetId,o=r.O.count,c=this.dt(i);if(c){const h=c.target;if(hh(h))if(0===o){const m=new et(h.path);this.at(i,m,bn.newNoDocument(m,mt.min()))}else lt(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((h,m)=>{const b=this.dt(m);if(b){if(h.current&&hh(b.target)){const T=new et(b.target.path);null!==this.nt.get(T)||this.gt(m,T)||this.at(m,T,bn.newNoDocument(T,r))}h.K&&(i.set(m,h.W()),h.G())}});let o=Xt();this.st.forEach((h,m)=>{let b=!0;m.forEachWhile(T=>{const A=this.dt(T);return!A||2===A.purpose||(b=!1,!1)}),b&&(o=o.add(h))});const c=new hg(r,i,this.it,this.nt,o);return this.nt=os(),this.st=pw(),this.it=new Bn(kt),c}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const c=this.ut(r);this.gt(r,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new fg,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new Bn(kt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||Fe("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new fg),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function pw(){return new Un(et.comparator)}function CI(){return new Un(et.comparator)}const j1={asc:"ASCENDING",desc:"DESCENDING"},QR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class l_{constructor(r,i){this.databaseId=r,this.D=i}}function pg(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function TI(s,r){return s.D?r.toBase64():r.toUint8Array()}function II(s,r){return pg(s,r.toTimestamp())}function sr(s){return lt(!!s),mt.fromTimestamp(function(r){const i=Xl(r);return new Vn(i.seconds,i.nanos)}(s))}function gg(s,r){return(i=s,new $t(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function gw(s){const r=$t.fromString(s);return lt(ls(r)),r}function vh(s,r){return gg(s.databaseId,r.path)}function Oo(s,r){const i=gw(r);if(i.get(1)!==s.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new et(_w(i))}function mw(s,r){return gg(s.databaseId,r)}function yw(s){const r=gw(s);return 4===r.length?$t.emptyPath():_w(r)}function mg(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _w(s){return lt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function yg(s,r,i){return{name:vh(s,r),fields:i.value.mapValue.fields}}function _g(s,r,i){const o=Oo(s,r.name),c=sr(r.updateTime),h=new Br({mapValue:{fields:r.fields}}),m=bn.newFoundDocument(o,c,h);return i&&m.setHasCommittedMutations(),i?m.setHasCommittedMutations():m}function Ht(s,r){let i;if(r instanceof lg)i={update:yg(s,r.key,r.value)};else if(r instanceof cg)i={delete:vh(s,r.key)};else if(r instanceof Du)i={update:yg(s,r.key,r.data),updateMask:Mn(r.fieldMask)};else{if(!(r instanceof cw))return Xe();i={verify:vh(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(c,h){const m=h.transform;if(m instanceof ag)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof rc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Iu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof va)return{fieldPath:h.field.canonicalString(),increment:m.C};throw Xe()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(c=r.precondition).updateTime?{updateTime:II(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Xe()),i;var c}function ba(s,r){const i=r.currentDocument?void 0!==(c=r.currentDocument).updateTime?zn.updateTime(sr(c.updateTime)):void 0!==c.exists?zn.exists(c.exists):zn.none():zn.none(),o=r.updateTransforms?r.updateTransforms.map(c=>function(h,m){let b=null;"setToServerValue"in m?(lt("REQUEST_TIME"===m.setToServerValue),b=new ag):"appendMissingElements"in m?b=new rc(m.appendMissingElements.values||[]):"removeAllFromArray"in m?b=new Iu(m.removeAllFromArray.values||[]):"increment"in m?b=new va(h,m.increment):Xe();const T=Cr.fromServerFormat(m.fieldPath);return new o_(T,b)}(s,c)):[];var c;if(r.update){const c=Oo(s,r.update.name),h=new Br({mapValue:{fields:r.update.fields}});if(r.updateMask){const m=new Jl((r.updateMask.fieldPaths||[]).map(A=>Cr.fromServerFormat(A)));return new Du(c,h,m,i,o)}return new lg(c,h,i,o)}if(r.delete){const c=Oo(s,r.delete);return new cg(c,i)}if(r.verify){const c=Oo(s,r.verify);return new cw(c,i)}return Xe()}function bh(s,r){return{documents:[mw(s,r.path)]}}function JR(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=mw(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=mw(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(b){if(0===b.length)return;const T=b.map(A=>function(x){if("=="===x.op){if(Xb(x.value))return{unaryFilter:{field:Eg(x.field),op:"IS_NAN"}};if(lI(x.value))return{unaryFilter:{field:Eg(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Xb(x.value))return{unaryFilter:{field:Eg(x.field),op:"IS_NOT_NAN"}};if(lI(x.value))return{unaryFilter:{field:Eg(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eg(x.field),op:SI(x.op),value:x.value}}}(A));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(r.filters);c&&(i.structuredQuery.where=c);const h=function(b){if(0!==b.length)return b.map(T=>{return{field:Eg((A=T).field),direction:DI(A.dir)};var A})}(r.orderBy);h&&(i.structuredQuery.orderBy=h);const m=(T=r.limit,s.D||ec(T)?T:{value:T});var T;return null!==m&&(i.structuredQuery.limit=m),r.startAt&&(i.structuredQuery.startAt=Au(r.startAt)),r.endAt&&(i.structuredQuery.endAt=Au(r.endAt)),i}function yt(s){let r=yw(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){lt(1===o);const x=i.from[0];x.allDescendants?c=x.collectionId:r=r.child(x.collectionId)}let h=[];i.where&&(h=c_(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(x=>{return new ph(wh((M=x).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let b=null;i.limit&&(b=function(x){let M;return M="object"==typeof x?x.value:x,ec(M)?null:M}(i.limit));let T=null;i.startAt&&(T=XR(i.startAt));let A=null;return i.endAt&&(A=XR(i.endAt)),pI(r,c,m,h,b,"F",T,A)}function c_(s){return s?void 0!==s.unaryFilter?[us(s)]:void 0!==s.fieldFilter?[ex(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>c_(r)).reduce((r,i)=>r.concat(i)):Xe():[]}function Au(s){return{before:s.before,values:s.position}}function XR(s){return new fh(s.values||[],!!s.before)}function DI(s){return j1[s]}function SI(s){return QR[s]}function Eg(s){return{fieldPath:s.canonicalString()}}function wh(s){return Cr.fromServerFormat(s.fieldPath)}function ex(s){return ri.create(wh(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xe()}}(s.fieldFilter.op),s.fieldFilter.value)}function us(s){switch(s.unaryFilter.op){case"IS_NAN":const r=wh(s.unaryFilter.field);return ri.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wh(s.unaryFilter.field);return ri.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wh(s.unaryFilter.field);return ri.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wh(s.unaryFilter.field);return ri.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xe()}}function Mn(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function ls(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function cs(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=vw(r)),r=tx(s.get(i),r);return vw(r)}function tx(s,r){let i=r;const o=s.length;for(let c=0;c<o;c++){const h=s.charAt(c);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function vw(s){return s+"\x01\x01"}function Vs(s){const r=s.length;if(lt(r>=2),2===r)return lt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),$t.emptyPath();const i=r-2,o=[];let c="";for(let h=0;h<r;){const m=s.indexOf("\x01",h);switch((m<0||m>i)&&Xe(),s.charAt(m+1)){case"\x01":const b=s.substring(h,m);let T;0===c.length?T=b:(c+=b,T=c,c=""),o.push(T);break;case"\x10":c+=s.substring(h,m),c+="\0";break;case"\x11":c+=s.substring(h,m+1);break;default:Xe()}h=m+2}return new $t(o)}class Ch{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class Ir{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}Ir.store="owner",Ir.key="owner";class Ru{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}Ru.store="mutationQueues",Ru.keyPath="userId";class zt{constructor(r,i,o,c,h){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=h}}zt.store="mutations",zt.keyPath="batchId",zt.userMutationsIndex="userMutationsIndex",zt.userMutationsKeyPath=["userId","batchId"];class jr{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,cs(i)]}static key(r,i,o){return[r,cs(i),o]}}jr.store="documentMutations",jr.PLACEHOLDER=new jr;class AI{constructor(r,i){this.path=r,this.readTime=i}}class Ew{constructor(r,i){this.path=r,this.version=i}}class pn{constructor(r,i,o,c,h,m){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=c,this.readTime=h,this.parentPath=m}}pn.store="remoteDocuments",pn.readTimeIndex="readTimeIndex",pn.readTimeIndexPath="readTime",pn.collectionReadTimeIndex="collectionReadTimeIndex",pn.collectionReadTimeIndexPath=["parentPath","readTime"];class ds{constructor(r){this.byteSize=r}}ds.store="remoteDocumentGlobal",ds.key="remoteDocumentGlobalKey";class ii{constructor(r,i,o,c,h,m,b){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=b}}ii.store="targets",ii.keyPath="targetId",ii.queryTargetsIndexName="queryTargetsIndex",ii.queryTargetsKeyPath=["canonicalId","targetId"];class jn{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}jn.store="targetDocuments",jn.keyPath=["targetId","path"],jn.documentTargetsIndex="documentTargetsIndex",jn.documentTargetsKeyPath=["path","targetId"];class ji{constructor(r,i,o,c){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=c}}ji.key="targetGlobalKey",ji.store="targetGlobal";class Po{constructor(r,i){this.collectionId=r,this.parent=i}}Po.store="collectionParents",Po.keyPath=["collectionId","parent"];class ko{constructor(r,i,o,c){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=c}}ko.store="clientMetadata",ko.keyPath="clientId";class sc{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}sc.store="bundles",sc.keyPath="bundleId";class oc{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}oc.store="namedQueries",oc.keyPath="name";const d_=[Ru.store,zt.store,jr.store,pn.store,ii.store,Ir.store,ji.store,jn.store,ko.store,ds.store,Po.store,sc.store,oc.store],RI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Ae{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Ae((o,c)=>{this.nextCallback=h=>{this.wrapSuccess(r,h).next(o,c)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,c)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Ae?i:Ae.resolve(i)}catch(i){return Ae.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.reject(i)}static resolve(r){return new Ae((i,o)=>{i(r)})}static reject(r){return new Ae((i,o)=>{o(r)})}static waitFor(r){return new Ae((i,o)=>{let c=0,h=0,m=!1;r.forEach(b=>{++c,b.next(()=>{++h,m&&h===c&&i()},T=>o(T))}),m=!0,h===c&&i()})}static or(r){let i=Ae.resolve(!1);for(const o of r)i=i.next(c=>c?Ae.resolve(c):o());return i}static forEach(r,i){const o=[];return r.forEach((c,h)=>{o.push(i.call(this,c,h))}),this.waitFor(o)}}class bw{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new rr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new f_(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const c=NI(o.target.error);this.Tt.reject(new f_(r,c))}}static open(r,i,o,c){try{return new bw(i,r.transaction(c,o))}catch(h){throw new f_(i,h)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Fe("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new nx(i)}}class Fo{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===Fo.Rt((0,St.z$)())&&xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Fe("SimpleDb","Removing database:",r),ac(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Fo.bt())return!0;const r=(0,St.z$)(),i=Fo.Rt(r),o=0<i&&i<10,c=Fo.vt(r),h=0<c&&c<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||h)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,_e.Z)(function*(){return i.db||(Fe("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,c)=>{const h=indexedDB.open(i.name,i.version);h.onsuccess=m=>{o(m.target.result)},h.onblocked=()=>{c(new f_(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const b=m.target.error;c("VersionError"===b.name?new Ne(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new f_(r,b))},h.onupgradeneeded=m=>{Fe("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',m.oldVersion),i.At.Ct(m.target.result,h.transaction,m.oldVersion,i.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,c){var h=this;return(0,_e.Z)(function*(){const m="readonly"===i;let b=0;for(;;){++b;try{h.db=yield h.Dt(r);const T=bw.open(h.db,r,m?"readonly":"readwrite",o),A=c(T).catch(x=>(T.abort(x),Ae.reject(x))).toPromise();return A.catch(()=>{}),yield T.It,A}catch(T){const A="FirebaseError"!==T.name&&b<3;if(Fe("SimpleDb","Transaction failed with error:",T.message,"Retrying:",A),h.close(),!A)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _t{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return ac(this.kt.delete())}}class f_ extends Ne{constructor(r,i){super(me.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Us(s){return"IndexedDbTransactionError"===s.name}class nx{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(Fe("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),ac(o)}add(r){return Fe("SimpleDb","ADD",this.store.name,r,r),ac(this.store.add(r))}get(r){return ac(this.store.get(r)).next(i=>(void 0===i&&(i=null),Fe("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return Fe("SimpleDb","DELETE",this.store.name,r),ac(this.store.delete(r))}count(){return Fe("SimpleDb","COUNT",this.store.name),ac(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),c=[];return this.Bt(o,(h,m)=>{c.push(m)}).next(()=>c)}Ut(r,i){Fe("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const c=this.cursor(o);return this.Bt(c,(h,m,b)=>b.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const c=this.cursor(o);return this.Bt(c,i)}jt(r){const i=this.cursor({});return new Ae((o,c)=>{i.onerror=h=>{const m=NI(h.target.error);c(m)},i.onsuccess=h=>{const m=h.target.result;m?r(m.primaryKey,m.value).next(b=>{b?m.continue():o()}):o()}})}Bt(r,i){const o=[];return new Ae((c,h)=>{r.onerror=m=>{h(m.target.error)},r.onsuccess=m=>{const b=m.target.result;if(!b)return void c();const T=new _t(b),A=i(b.primaryKey,b.value,T);if(A instanceof Ae){const x=A.catch(M=>(T.done(),Ae.reject(M)));o.push(x)}T.isDone?c():null===T.Ft?b.continue():b.continue(T.Ft)}}).next(()=>Ae.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function ac(s){return new Ae((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const c=NI(o.target.error);i(c)}})}let xI=!1;function NI(s){const r=Fo.Rt((0,St.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xI||(xI=!0,setTimeout(()=>{throw o},0)),o}}return s}class rx extends h_{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function Ti(s,r){const i=je(s);return Fo.St(i.Qt,r)}class lr{constructor(r,i,o,c){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(r.key)&&ow(h,r,o[c])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&a_(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&a_(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),c=o;this.applyToLocalView(c),o.isValidDocument()||c.convertToNoDocument(mt.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),Xt())}isEqual(r){return this.batchId===r.batchId&&Yl(this.mutations,r.mutations,(i,o)=>qR(i,o))&&Yl(this.baseMutations,r.baseMutations,(i,o)=>qR(i,o))}}class ww{constructor(r,i,o,c){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(r,i,o){lt(r.mutations.length===o.length);let c=EI();const h=r.mutations;for(let m=0;m<h.length;m++)c=c.insert(h[m].key,o[m].version);return new ww(r,i,o,c)}}class xu{constructor(r,i,o,c,h=mt.min(),m=mt.min(),b=ur.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=b}withSequenceNumber(r){return new xu(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class p_{constructor(r){this.Wt=r}}function Cw(s,r){if(r.document)return _g(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=et.fromSegments(r.noDocument.path),o=Ih(r.noDocument.readTime),c=bn.newNoDocument(i,o);return r.hasCommittedMutations?c.setHasCommittedMutations():c}if(r.unknownDocument){const i=et.fromSegments(r.unknownDocument.path),o=Ih(r.unknownDocument.version);return bn.newUnknownDocument(i,o)}return Xe()}function MI(s,r,i){const o=Tw(i),c=r.key.path.popLast().toArray();if(r.isFoundDocument()){const h={name:vh(b=s.Wt,(T=r).key),fields:T.data.value.mapValue.fields,updateTime:pg(b,T.version.toTimestamp())};return new pn(null,null,h,r.hasCommittedMutations,o,c)}var b,T;if(r.isNoDocument()){const h=r.key.path.toArray(),m=Th(r.version),b=r.hasCommittedMutations;return new pn(null,new AI(h,m),null,b,o,c)}if(r.isUnknownDocument()){const h=r.key.path.toArray(),m=Th(r.version);return new pn(new Ew(h,m),null,null,!0,o,c)}return Xe()}function Tw(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function OI(s){const r=new Vn(s[0],s[1]);return mt.fromTimestamp(r)}function Th(s){const r=s.toTimestamp();return new Ch(r.seconds,r.nanoseconds)}function Ih(s){const r=new Vn(s.seconds,s.nanoseconds);return mt.fromTimestamp(r)}function Nu(s,r){const i=(r.baseMutations||[]).map(h=>ba(s.Wt,h));for(let h=0;h<r.mutations.length-1;++h){const m=r.mutations[h];h+1<r.mutations.length&&void 0!==r.mutations[h+1].transform&&(m.updateTransforms=r.mutations[h+1].transform.fieldTransforms,r.mutations.splice(h+1,1),++h)}const o=r.mutations.map(h=>ba(s.Wt,h)),c=Vn.fromMillis(r.localWriteTimeMs);return new lr(r.batchId,c,i,o)}function bg(s){const r=Ih(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Ih(s.lastLimboFreeSnapshotVersion):mt.min();let o;var c;return void 0!==s.query.documents?(lt(1===(c=s.query).documents.length),o=ss(wu(yw(c.documents[0])))):o=ss(yt(s.query)),new xu(o,s.targetId,0,s.lastListenSequenceNumber,r,i,ur.fromBase64String(s.resumeToken))}function PI(s,r){const i=Th(r.snapshotVersion),o=Th(r.lastLimboFreeSnapshotVersion);let c;c=hh(r.target)?bh(s.Wt,r.target):JR(s.Wt,r.target);const h=r.resumeToken.toBase64();return new ii(r.targetId,ng(r.target),i,h,r.sequenceNumber,o,c)}function g_(s){const r=yt({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?iw(r,r.limit,"L"):r}class Iw{getBundleMetadata(r,i){return kI(r).get(i).next(o=>{if(o)return{id:(c=o).bundleId,createTime:Ih(c.createTime),version:c.version};var c})}saveBundleMetadata(r,i){return kI(r).put({bundleId:(o=i).id,createTime:Th(sr(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return ix(r).get(i).next(o=>{if(o)return{name:(c=o).name,query:g_(c.bundledQuery),readTime:Ih(c.readTime)};var c})}saveNamedQuery(r,i){return ix(r).put({name:(o=i).name,readTime:Th(sr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function kI(s){return Ti(s,sc.store)}function ix(s){return Ti(s,oc.store)}class sx{constructor(){this.Gt=new Dw}addToCollectionParentIndex(r,i){return this.Gt.add(i),Ae.resolve()}getCollectionParents(r,i){return Ae.resolve(this.Gt.getEntries(i))}}class Dw{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i]||new Bn($t.comparator),h=!c.has(o);return this.index[i]=c.add(o),h}has(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(r){return(this.index[r]||new Bn($t.comparator)).toArray()}}class ox{constructor(){this.zt=new Dw}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),c=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const h={collectionId:o,parent:cs(c)};return FI(r).put(h)}return Ae.resolve()}getCollectionParents(r,i){const o=[],c=IDBKeyRange.bound([i,""],[sI(i),""],!1,!0);return FI(r).Lt(c).next(h=>{for(const m of h){if(m.collectionId!==i)break;o.push(Vs(m.parent))}return o})}}function FI(s){return Ti(s,Po.store)}const LI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ii{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new Ii(r,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dh(s,r,i){const o=s.store(zt.store),c=s.store(jr.store),h=[],m=IDBKeyRange.only(i.batchId);let b=0;const T=o.Kt({range:m},(x,M,U)=>(b++,U.delete()));h.push(T.next(()=>{lt(1===b)}));const A=[];for(const x of i.mutations){const M=jr.key(r,x.key.path,i.batchId);h.push(c.delete(M)),A.push(x.key)}return Ae.waitFor(h).next(()=>A)}function m_(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Xe();r=s.noDocument}return JSON.stringify(r).length}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class Sw{constructor(r,i,o,c){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=c,this.Jt={}}static Yt(r,i,o,c){lt(""!==r.uid);const h=r.isAuthenticated()?r.uid:"";return new Sw(h,i,o,c)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hs(r).Kt({index:zt.userMutationsIndex,range:o},(c,h,m)=>{i=!1,m.done()}).next(()=>i)}addMutationBatch(r,i,o,c){const h=wg(r),m=hs(r);return m.add({}).next(b=>{lt("number"==typeof b);const T=new lr(b,i,o,c),A=function(U,$,K){const fe=K.baseMutations.map(He=>Ht(U.Wt,He)),Ie=K.mutations.map(He=>Ht(U.Wt,He));return new zt($,K.batchId,K.localWriteTime.toMillis(),fe,Ie)}(this.N,this.userId,T),x=[];let M=new Bn((U,$)=>kt(U.canonicalString(),$.canonicalString()));for(const U of c){const $=jr.key(this.userId,U.key.path,b);M=M.add(U.key.path.popLast()),x.push(m.put(A)),x.push(h.put($,jr.PLACEHOLDER))}return M.forEach(U=>{x.push(this.Ht.addToCollectionParentIndex(r,U))}),r.addOnCommittedListener(()=>{this.Jt[b]=T.keys()}),Ae.waitFor(x).next(()=>T)})}lookupMutationBatch(r,i){return hs(r).get(i).next(o=>o?(lt(o.userId===this.userId),Nu(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Ae.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const c=o.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,c=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return hs(r).Kt({index:zt.userMutationsIndex,range:c},(m,b,T)=>{b.userId===this.userId&&(lt(b.batchId>=o),h=Nu(this.N,b)),T.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return hs(r).Kt({index:zt.userMutationsIndex,range:i,reverse:!0},(c,h,m)=>{o=h.batchId,m.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hs(r).Lt(zt.userMutationsIndex,i).next(o=>o.map(c=>Nu(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=jr.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(o),h=[];return wg(r).Kt({range:c},(m,b,T)=>{const[A,x,M]=m,U=Vs(x);if(A===this.userId&&i.path.isEqual(U))return hs(r).get(M).next($=>{if(!$)throw Xe();lt($.userId===this.userId),h.push(Nu(this.N,$))});T.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new Bn(kt);const c=[];return i.forEach(h=>{const m=jr.prefixForPath(this.userId,h.path),b=IDBKeyRange.lowerBound(m),T=wg(r).Kt({range:b},(A,x,M)=>{const[U,$,K]=A,fe=Vs($);U===this.userId&&h.path.isEqual(fe)?o=o.add(K):M.done()});c.push(T)}),Ae.waitFor(c).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1,h=jr.prefixForPath(this.userId,o),m=IDBKeyRange.lowerBound(h);let b=new Bn(kt);return wg(r).Kt({range:m},(T,A,x)=>{const[M,U,$]=T,K=Vs(U);M===this.userId&&o.isPrefixOf(K)?K.length===c&&(b=b.add($)):x.done()}).next(()=>this.Zt(r,b))}Zt(r,i){const o=[],c=[];return i.forEach(h=>{c.push(hs(r).get(h).next(m=>{if(null===m)throw Xe();lt(m.userId===this.userId),o.push(Nu(this.N,m))}))}),Ae.waitFor(c).next(()=>o)}removeMutationBatch(r,i){return Dh(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Ae.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(r,c))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Ae.resolve();const o=IDBKeyRange.lowerBound(jr.prefixForUser(this.userId)),c=[];return wg(r).Kt({range:o},(h,m,b)=>{if(h[0]===this.userId){const T=Vs(h[1]);c.push(T)}else b.done()}).next(()=>{lt(0===c.length)})})}containsKey(r,i){return Aw(r,this.userId,i)}ee(r){return Rw(r).get(this.userId).next(i=>i||new Ru(this.userId,-1,""))}}function Aw(s,r,i){const o=jr.prefixForPath(r,i.path),c=o[1],h=IDBKeyRange.lowerBound(o);let m=!1;return wg(s).Kt({range:h,qt:!0},(b,T,A)=>{const[x,M,U]=b;x===r&&M===c&&(m=!0),A.done()}).next(()=>m)}function hs(s){return Ti(s,zt.store)}function wg(s){return Ti(s,jr.store)}function Rw(s){return Ti(s,Ru.store)}class uc{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new uc(0)}static ie(){return new uc(-1)}}class ax{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new uc(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>mt.fromTimestamp(new Vn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(c=>(c.highestListenSequenceNumber=i,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(r,c)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Sh(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(lt(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let c=0;const h=[];return Sh(r).Kt((m,b)=>{const T=bg(b);T.sequenceNumber<=i&&null===o.get(T.targetId)&&(c++,h.push(this.removeTargetData(r,T)))}).next(()=>Ae.waitFor(h)).next(()=>c)}forEachTarget(r,i){return Sh(r).Kt((o,c)=>{const h=bg(c);i(h)})}re(r){return VI(r).get(ji.key).next(i=>(lt(null!==i),i))}oe(r,i){return VI(r).put(ji.key,i)}ae(r,i){return Sh(r).put(PI(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=ng(i),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Sh(r).Kt({range:c,index:ii.queryTargetsIndexName},(m,b,T)=>{const A=bg(b);r_(i,A.target)&&(h=A,T.done())}).next(()=>h)}addMatchingKeys(r,i,o){const c=[],h=Mu(r);return i.forEach(m=>{const b=cs(m.path);c.push(h.put(new jn(o,b))),c.push(this.referenceDelegate.addReference(r,o,m))}),Ae.waitFor(c)}removeMatchingKeys(r,i,o){const c=Mu(r);return Ae.forEach(i,h=>{const m=cs(h.path);return Ae.waitFor([c.delete([o,m]),this.referenceDelegate.removeReference(r,o,h)])})}removeMatchingKeysForTargetId(r,i){const o=Mu(r),c=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),c=Mu(r);let h=Xt();return c.Kt({range:o,qt:!0},(m,b,T)=>{const A=Vs(m[1]),x=new et(A);h=h.add(x)}).next(()=>h)}containsKey(r,i){const o=cs(i.path),c=IDBKeyRange.bound([o],[sI(o)],!1,!0);let h=0;return Mu(r).Kt({index:jn.documentTargetsIndex,qt:!0,range:c},([m,b],T,A)=>{0!==m&&(h++,A.done())}).next(()=>h>0)}Et(r,i){return Sh(r).get(i).next(o=>o?bg(o):null)}}function Sh(s){return Ti(s,ii.store)}function VI(s){return Ti(s,ji.store)}function Mu(s){return Ti(s,jn.store)}function Ou(s){return xw.apply(this,arguments)}function xw(){return(xw=(0,_e.Z)(function*(s){if(s.code!==me.FAILED_PRECONDITION||s.message!==RI)throw s;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function UI([s,r],[i,o]){const c=kt(s,i);return 0===c?kt(r,o):c}class H1{constructor(r){this.ue=r,this.buffer=new Bn(UI),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();UI(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class q1{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,_e.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(c){Us(c)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Ou(c)}yield i._e(r)}))}}class G1{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Ae.resolve(Bi.T);const o=new H1(i);return this.me.forEachTarget(r,c=>o.fe(c.sequenceNumber)).next(()=>this.me.ye(r,c=>o.fe(c))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(LI)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LI):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,c,h,m,b,T,A;const x=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),c=this.params.maximumSequenceNumbersToCollect):c=M,m=Date.now(),this.nthSequenceNumber(r,c))).next(M=>(o=M,b=Date.now(),this.removeTargets(r,o,i))).next(M=>(h=M,T=Date.now(),this.removeOrphanedDocuments(r,o))).next(M=>(A=Date.now(),ah()<=jl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-x}ms\n\tDetermined least recently used ${c} in `+(b-m)+`ms\n\tRemoved ${h} targets in `+(T-b)+`ms\n\tRemoved ${M} documents in `+(A-T)+`ms\nTotal Duration: ${A-x}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:M})))}}class Nw{constructor(r,i){this.db=r,this.garbageCollector=new G1(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(c=>o+c))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,c)=>i(c))}addReference(r,i,o){return y_(r,o)}removeReference(r,i,o){return y_(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return y_(r,i)}Ie(r,i){return function(o,c){let h=!1;return Rw(o).jt(m=>Aw(o,m,c).next(b=>(b&&(h=!0),Ae.resolve(!b)))).next(()=>h)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let h=0;return this.Te(r,(m,b)=>{if(b<=i){const T=this.Ie(r,m).next(A=>{if(!A)return h++,o.getEntry(r,m).next(()=>(o.removeEntry(m),Mu(r).delete([0,cs(m.path)])))});c.push(T)}}).next(()=>Ae.waitFor(c)).next(()=>o.apply(r)).next(()=>h)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return y_(r,i)}Te(r,i){const o=Mu(r);let c,h=Bi.T;return o.Kt({index:jn.documentTargetsIndex},([m,b],{path:T,sequenceNumber:A})=>{0===m?(h!==Bi.T&&i(new et(Vs(c)),h),h=A,c=T):h=Bi.T}).next(()=>{h!==Bi.T&&i(new et(Vs(c)),h)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function y_(s,r){return Mu(s).put((o=s.currentSequenceNumber,new jn(0,cs(r.path),o)));var o}class Ah{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[c,h]of o)if(this.equalsFn(c,r))return h}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),c=this.inner[o];if(void 0!==c){for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return void(c[h]=[r,i]);c.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],r))return 1===o.length?delete this.inner[i]:o.splice(c,1),!0;return!1}forEach(r){Ql(this.inner,(i,o)=>{for(const[c,h]of o)r(c,h)})}isEmpty(){return aI(this.inner)}}class BI{constructor(){this.changes=new Ah(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:mt.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:bn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Ae.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class ux{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return wa(r).put(Rh(i),o)}removeEntry(r,i){const o=wa(r),c=Rh(i);return o.delete(c)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return wa(r).get(Rh(i)).next(o=>this.Re(i,o))}Pe(r,i){return wa(r).get(Rh(i)).next(o=>({document:this.Re(i,o),size:m_(o)}))}getEntries(r,i){let o=os();return this.be(r,i,(c,h)=>{const m=this.Re(c,h);o=o.insert(c,m)}).next(()=>o)}ve(r,i){let o=os(),c=new Un(et.comparator);return this.be(r,i,(h,m)=>{const b=this.Re(h,m);o=o.insert(h,b),c=c.insert(h,m_(m))}).next(()=>({documents:o,Ve:c}))}be(r,i,o){if(i.isEmpty())return Ae.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),h=i.getIterator();let m=h.getNext();return wa(r).Kt({range:c},(b,T,A)=>{const x=et.fromSegments(b);for(;m&&et.comparator(m,x)<0;)o(m,null),m=h.getNext();m&&m.isEqual(x)&&(o(m,T),m=h.hasNext()?h.getNext():null),m?A.Mt(m.path.toArray()):A.done()}).next(()=>{for(;m;)o(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(r,i,o){let c=os();const h=i.path.length+1,m={};if(o.isEqual(mt.min())){const b=i.path.toArray();m.range=IDBKeyRange.lowerBound(b)}else{const b=i.path.toArray(),T=Tw(o);m.range=IDBKeyRange.lowerBound([b,T],!0),m.index=pn.collectionReadTimeIndex}return wa(r).Kt(m,(b,T,A)=>{if(b.length!==h)return;const x=Cw(this.N,T);i.path.isPrefixOf(x.key.path)?mh(i,x)&&(c=c.insert(x.key,x)):A.done()}).next(()=>c)}newChangeBuffer(r){return new lx(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return jI(r).get(ds.key).next(i=>(lt(!!i),i))}Ae(r,i){return jI(r).put(ds.key,i)}Re(r,i){if(i){const o=Cw(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(mt.min()))return o}return bn.newInvalidDocument(r)}}class lx extends BI{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new Ah(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(r){const i=[];let o=0,c=new Bn((h,m)=>kt(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const b=this.De.get(h);if(m.document.isValidDocument()){const T=MI(this.Se.N,m.document,this.getReadTime(h));c=c.add(h.path.popLast()),o+=m_(T)-b,i.push(this.Se.addEntry(r,h,T))}else if(o-=b,this.trackRemovals){const T=MI(this.Se.N,bn.newNoDocument(h,mt.min()),this.getReadTime(h));i.push(this.Se.addEntry(r,h,T))}else i.push(this.Se.removeEntry(r,h))}),c.forEach(h=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,h))}),i.push(this.Se.updateMetadata(r,o)),Ae.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:c})=>(c.forEach((h,m)=>{this.De.set(h,m)}),o))}}function jI(s){return Ti(s,ds.store)}function wa(s){return Ti(s,pn.store)}function Rh(s){return s.path.toArray()}class cx{constructor(r){this.N=r}Ct(r,i,o,c){lt(o<c&&o>=0&&c<=11);const h=new bw("createOrUpgrade",i);var b;o<1&&c>=1&&(r.createObjectStore(Ir.store),(b=r).createObjectStore(Ru.store,{keyPath:Ru.keyPath}),b.createObjectStore(zt.store,{keyPath:zt.keyPath,autoIncrement:!0}).createIndex(zt.userMutationsIndex,zt.userMutationsKeyPath,{unique:!0}),b.createObjectStore(jr.store),lc(r),function(b){b.createObjectStore(pn.store)}(r));let m=Ae.resolve();return o<3&&c>=3&&(0!==o&&(function(b){b.deleteObjectStore(jn.store),b.deleteObjectStore(ii.store),b.deleteObjectStore(ji.store)}(r),lc(r)),m=m.next(()=>function(b){const T=b.store(ji.store),A=new ji(0,0,mt.min().toTimestamp(),0);return T.put(ji.key,A)}(h))),o<4&&c>=4&&(0!==o&&(m=m.next(()=>function(b,T){return T.store(zt.store).Lt().next(A=>{b.deleteObjectStore(zt.store),b.createObjectStore(zt.store,{keyPath:zt.keyPath,autoIncrement:!0}).createIndex(zt.userMutationsIndex,zt.userMutationsKeyPath,{unique:!0});const x=T.store(zt.store),M=A.map(U=>x.put(U));return Ae.waitFor(M)})}(r,h))),m=m.next(()=>{!function(b){b.createObjectStore(ko.store,{keyPath:ko.keyPath})}(r)})),o<5&&c>=5&&(m=m.next(()=>this.Ce(h))),o<6&&c>=6&&(m=m.next(()=>(function(b){b.createObjectStore(ds.store)}(r),this.Ne(h)))),o<7&&c>=7&&(m=m.next(()=>this.xe(h))),o<8&&c>=8&&(m=m.next(()=>this.ke(r,h))),o<9&&c>=9&&(m=m.next(()=>{(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(r),function(b){const T=b.objectStore(pn.store);T.createIndex(pn.readTimeIndex,pn.readTimeIndexPath,{unique:!1}),T.createIndex(pn.collectionReadTimeIndex,pn.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&c>=10&&(m=m.next(()=>this.$e(h))),o<11&&c>=11&&(m=m.next(()=>{(function(b){b.createObjectStore(sc.store,{keyPath:sc.keyPath})})(r),function(b){b.createObjectStore(oc.store,{keyPath:oc.keyPath})}(r)})),m}Ne(r){let i=0;return r.store(pn.store).Kt((o,c)=>{i+=m_(c)}).next(()=>{const o=new ds(i);return r.store(ds.store).put(ds.key,o)})}Ce(r){const i=r.store(Ru.store),o=r.store(zt.store);return i.Lt().next(c=>Ae.forEach(c,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.Lt(zt.userMutationsIndex,m).next(b=>Ae.forEach(b,T=>{lt(T.userId===h.userId);const A=Nu(this.N,T);return Dh(r,h.userId,A).next(()=>{})}))}))}xe(r){const i=r.store(jn.store),o=r.store(pn.store);return r.store(ji.store).get(ji.key).next(c=>{const h=[];return o.Kt((m,b)=>{const T=new $t(m),A=[0,cs(T)];h.push(i.get(A).next(x=>x?Ae.resolve():i.put(new jn(0,cs(T),c.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(h))})}ke(r,i){r.createObjectStore(Po.store,{keyPath:Po.keyPath});const o=i.store(Po.store),c=new Dw,h=m=>{if(c.add(m)){const b=m.lastSegment(),T=m.popLast();return o.put({collectionId:b,parent:cs(T)})}};return i.store(pn.store).Kt({qt:!0},(m,b)=>{const T=new $t(m);return h(T.popLast())}).next(()=>i.store(jr.store).Kt({qt:!0},([m,b,T],A)=>{const x=Vs(b);return h(x.popLast())}))}$e(r){const i=r.store(ii.store);return i.Kt((o,c)=>{const h=bg(c),m=PI(this.N,h);return i.put(m)})}}function lc(s){s.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.documentTargetsIndex,jn.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(ii.store,{keyPath:ii.keyPath}).createIndex(ii.queryTargetsIndexName,ii.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(ji.store)}const cr="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class __{constructor(r,i,o,c,h,m,b,T,A,x){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=h,this.window=m,this.document=b,this.Fe=A,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=M=>Promise.resolve(),!__.Pt())throw new Ne(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nw(this,c),this.We=i+"main",this.N=new p_(T),this.Ge=new Fo(this.We,11,new cx(this.N)),this.ze=new ax(this.referenceDelegate,this.N),this.Ht=new ox,this.He=new ux(this.N,this.Ht),this.Je=new Iw,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(me.FAILED_PRECONDITION,cr);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Bi(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,_e.Z)(function*(c){if(i.started)return r(c)});return function(c){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,_e.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,_e.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>xh(r).put(new ko(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(Us(r))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return si(r).get(Ir.key).next(i=>Ae.resolve(this.cn(i)))}un(r){return xh(r).delete(this.clientId)}hn(){var r=this;return(0,_e.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Ti(o,ko.store);return c.Lt().next(h=>{const m=r.fn(h,18e5),b=h.filter(T=>-1===m.indexOf(T));return Ae.forEach(b,T=>c.delete(T.clientId)).next(()=>b)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Ae.resolve(!0):si(r).get(Ir.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Ne(me.FAILED_PRECONDITION,cr);return!1}}return!(!this.networkEnabled||!this.inForeground)||xh(r).Lt().next(o=>void 0===this.fn(o,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,b=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&b)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Fe("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,_e.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[Ir.store,ko.store],i=>{const o=new rx(i,Bi.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>xh(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return Sw.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let h;return Fe("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",d_,m=>(h=new rx(m,this.Le?this.Le.next():Bi.T),"readwrite-primary"===i?this.sn(h).next(b=>!!b||this.rn(h)).next(b=>{if(!b)throw xn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(me.FAILED_PRECONDITION,RI);return o(h)}).next(b=>this.an(h).next(()=>b)):this.En(h).next(()=>o(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(r){return si(r).get(Ir.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ne(me.FAILED_PRECONDITION,cr)})}an(r){const i=new Ir(this.clientId,this.allowTabSynchronization,Date.now());return si(r).put(Ir.key,i)}static Pt(){return Fo.Pt()}on(r){const i=si(r);return i.get(Ir.key).next(o=>this.cn(o)?(Fe("IndexedDbPersistence","Releasing primary lease."),i.delete(Ir.key)):Ae.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(xn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,St.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return Fe("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return xn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){xn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function si(s){return Ti(s,Ir.store)}function xh(s){return Ti(s,ko.store)}function Mw(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class $I{constructor(r,i){this.progress=r,this.Tn=i}}class Ow{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(c=>{for(const h of o)h.applyToLocalView(c);return c})}Pn(r,i){r.forEach((o,c)=>{for(const h of i)h.applyToLocalView(c)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return et.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(r,i.path):rw(i)?this.Sn(r,i,o):this.Dn(r,i,o);var c}Vn(r,i){return this.An(r,new et(i)).next(o=>{let c=hw();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}Sn(r,i,o){const c=i.collectionGroup;let h=hw();return this.Ht.getCollectionParents(r,c).next(m=>Ae.forEach(m,b=>{const T=(A=i,x=b.child(c),new _a(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,x;return this.Dn(r,T,o).next(A=>{A.forEach((x,M)=>{h=h.insert(x,M)})})}).next(()=>h))}Dn(r,i,o){let c,h;return this.He.getDocumentsMatchingQuery(r,i,o).next(m=>(c=m,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(m=>(h=m,this.Cn(r,h,c).next(b=>{c=b;for(const T of h)for(const A of T.mutations){const x=A.key;let M=c.get(x);null==M&&(M=bn.newInvalidDocument(x),c=c.insert(x,M)),a_(A,M,T.localWriteTime),M.isFoundDocument()||(c=c.remove(x))}}))).next(()=>(c.forEach((m,b)=>{mh(i,b)||(c=c.remove(m))}),c))}Cn(r,i,o){let c=Xt();for(const m of i)for(const b of m.mutations)b instanceof Du&&null===o.get(b.key)&&(c=c.add(b.key));let h=o;return this.He.getEntries(r,c).next(m=>(m.forEach((b,T)=>{T.isFoundDocument()&&(h=h.insert(b,T))}),h))}}class v_{constructor(r,i,o,c){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=c}static kn(r,i){let o=Xt(),c=Xt();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new v_(r,i.fromCache,o,c)}}class HI{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,c){return 0===(h=i).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(mt.min())?this.Fn(r,i):this.On.bn(r,c).next(h=>{const m=this.Mn(i,h);return(gh(i)||ig(i))&&this.Ln(i.limitType,m,c,o)?this.Fn(r,i):(ah()<=jl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),i_(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(b=>(m.forEach(T=>{b=b.insert(T.key,T)}),b)))});var h}Mn(r,i){let o=new Bn(FR(r));return i.forEach((c,h)=>{mh(r,h)&&(o=o.add(h))}),o}Ln(r,i,o,c){if(o.size!==i.size)return!0;const h="F"===r?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Fn(r,i){return ah()<=jl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",i_(i)),this.On.getDocumentsMatchingQuery(r,i,mt.min())}}class dx{constructor(r,i,o,c){this.persistence=r,this.Bn=i,this.N=c,this.Un=new Un(kt),this.qn=new Ah(h=>ng(h),r_),this.Kn=mt.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new Ow(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function qI(s,r,i,o){return new dx(s,r,i,o)}function Pw(s,r){return kw.apply(this,arguments)}function kw(){return(kw=(0,_e.Z)(function*(s,r){const i=je(s);let o=i.In,c=i.Qn;const h=yield i.persistence.runTransaction("Handle user change","readonly",m=>{let b;return i.In.getAllMutationBatches(m).next(T=>(b=T,o=i.persistence.getMutationQueue(r),c=new Ow(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(m))).next(T=>{const A=[],x=[];let M=Xt();for(const U of b){A.push(U.batchId);for(const $ of U.mutations)M=M.add($.key)}for(const U of T){x.push(U.batchId);for(const $ of U.mutations)M=M.add($.key)}return c.bn(m,M).next(U=>({Wn:U,removedBatchIds:A,addedBatchIds:x}))})});return i.In=o,i.Qn=c,i.Bn.$n(i.Qn),h})).apply(this,arguments)}function Z1(s,r){const i=je(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=r.batch.keys(),h=i.jn.newChangeBuffer({trackRemovals:!0});return function(m,b,T,A){const x=T.batch,M=x.keys();let U=Ae.resolve();return M.forEach($=>{U=U.next(()=>A.getEntry(b,$)).next(K=>{const fe=T.docVersions.get($);lt(null!==fe),K.version.compareTo(fe)<0&&(x.applyToRemoteDocument(K,T),K.isValidDocument()&&A.addEntry(K,T.commitVersion))})}),U.next(()=>m.In.removeMutationBatch(b,x))}(i,o,r,h).next(()=>h.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,c))})}function GI(s){const r=je(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function hx(s,r){const i=je(s),o=r.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const b=[];r.targetChanges.forEach((A,x)=>{const M=c.get(x);if(!M)return;b.push(i.ze.removeMatchingKeys(h,A.removedDocuments,x).next(()=>i.ze.addMatchingKeys(h,A.addedDocuments,x)));const U=A.resumeToken;if(U.approximateByteSize()>0){const $=M.withResumeToken(U,o).withSequenceNumber(h.currentSequenceNumber);c=c.insert(x,$),K=M,Ie=A,lt((fe=$).resumeToken.approximateByteSize()>0),(0===K.resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&b.push(i.ze.updateTargetData(h,$))}var K,fe,Ie});let T=os();if(r.documentUpdates.forEach((A,x)=>{r.resolvedLimboDocuments.has(A)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),b.push(cc(h,m,r.documentUpdates,o,void 0).next(A=>{T=A})),!o.isEqual(mt.min())){const A=i.ze.getLastRemoteSnapshotVersion(h).next(x=>i.ze.setTargetsMetadata(h,h.currentSequenceNumber,o));b.push(A)}return Ae.waitFor(b).next(()=>m.apply(h)).next(()=>i.Qn.vn(h,T)).next(()=>T)}).then(h=>(i.Un=c,h))}function cc(s,r,i,o,c){let h=Xt();return i.forEach(m=>h=h.add(m)),r.getEntries(s,h).next(m=>{let b=os();return i.forEach((T,A)=>{const x=m.get(T),M=(null==c?void 0:c.get(T))||o;A.isNoDocument()&&A.version.isEqual(mt.min())?(r.removeEntry(T,M),b=b.insert(T,A)):!x.isValidDocument()||A.version.compareTo(x.version)>0||0===A.version.compareTo(x.version)&&x.hasPendingWrites?(r.addEntry(A,M),b=b.insert(T,A)):Fe("LocalStore","Ignoring outdated watch update for ",T,". Current version:",x.version," Watch version:",A.version)}),b})}function z1(s,r){const i=je(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function dc(s,r){const i=je(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.ze.getTargetData(o,r).next(h=>h?(c=h,Ae.resolve(c)):i.ze.allocateTargetId(o).next(m=>(c=new xu(r,m,0,o.currentSequenceNumber),i.ze.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.Un.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function Nh(s,r,i){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,_e.Z)(function*(s,r,i){const o=je(s),c=o.Un.get(r),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,m=>o.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!Us(m))throw m;Fe("LocalStore",`Failed to update sequence numbers for target ${r}: ${m}`)}o.Un=o.Un.remove(r),o.qn.delete(c.target)})).apply(this,arguments)}function Cg(s,r,i){const o=je(s);let c=mt.min(),h=Xt();return o.persistence.runTransaction("Execute query","readonly",m=>function(b,T,A){const x=je(b),M=x.qn.get(A);return void 0!==M?Ae.resolve(x.Un.get(M)):x.ze.getTargetData(T,A)}(o,m,ss(r)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(m,b.targetId).next(T=>{h=T})}).next(()=>o.Bn.getDocumentsMatchingQuery(m,r,i?c:mt.min(),i?h:Xt())).next(b=>({documents:b,Gn:h})))}function zI(s,r){const i=je(s),o=je(i.ze),c=i.Un.get(r);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,r).next(m=>m?m.target:null))}function E_(s){const r=je(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,c,h){const m=je(o);let b=os(),T=Tw(h);const A=wa(c),x=IDBKeyRange.lowerBound(T,!0);return A.Kt({index:pn.readTimeIndex,range:x},(M,U)=>{const $=Cw(m.N,U);b=b.insert($.key,$),T=U.readTime}).next(()=>({Tn:b,readTime:OI(T)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function Fw(){return(Fw=(0,_e.Z)(function*(s){const r=je(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const c=wa(o);let h=mt.min();return c.Kt({index:pn.readTimeIndex,reverse:!0},(m,b,T)=>{b.readTime&&(h=OI(b.readTime)),T.done()}).next(()=>h)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function Lw(){return(Lw=(0,_e.Z)(function*(s,r,i,o){const c=je(s);let h=Xt(),m=os(),b=EI();for(const x of i){const M=r.zn(x.metadata.name);x.document&&(h=h.add(M)),m=m.insert(M,r.Hn(x)),b=b.insert(M,r.Jn(x.metadata.readTime))}const T=c.jn.newChangeBuffer({trackRemovals:!0}),A=yield dc(c,(x=o,ss(wu($t.fromString(`__bundle__/docs/${x}`)))));var x;return c.persistence.runTransaction("Apply bundle documents","readwrite",x=>cc(x,T,m,mt.min(),b).next(M=>(T.apply(x),M)).next(M=>c.ze.removeMatchingKeysForTargetId(x,A.targetId).next(()=>c.ze.addMatchingKeys(x,h,A.targetId)).next(()=>c.Qn.vn(x,M)).next(()=>M)))})).apply(this,arguments)}function px(s,r){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,_e.Z)(function*(s,r,i=Xt()){const o=yield dc(s,ss(g_(r.bundledQuery))),c=je(s);return c.persistence.runTransaction("Save named query","readwrite",h=>{const m=sr(r.readTime);if(o.snapshotVersion.compareTo(m)>=0)return c.Je.saveNamedQuery(h,r);const b=o.withResumeToken(ur.EMPTY_BYTE_STRING,m);return c.Un=c.Un.insert(b.targetId,b),c.ze.updateTargetData(h,b).next(()=>c.ze.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>c.ze.addMatchingKeys(h,i,o.targetId)).next(()=>c.Je.saveNamedQuery(h,r))})})).apply(this,arguments)}class gx{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Ae.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:sr(o.createTime)}),Ae.resolve()}getNamedQuery(r,i){return Ae.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:g_(o.bundledQuery),readTime:sr(o.readTime)}),Ae.resolve();var o}}class Uw{constructor(){this.Zn=new Bn(dr.ts),this.es=new Bn(dr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new dr(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new dr(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new et(new $t([])),o=new dr(i,r),c=new dr(i,r+1),h=[];return this.es.forEachInRange([o,c],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new et(new $t([])),o=new dr(i,r),c=new dr(i,r+1);let h=Xt();return this.es.forEachInRange([o,c],m=>{h=h.add(m.key)}),h}containsKey(r){const i=new dr(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class dr{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return et.comparator(r.key,i.key)||kt(r.ls,i.ls)}static ns(r,i){return kt(r.ls,i.ls)||et.comparator(r.key,i.key)}}class mx{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new Bn(dr.ts)}checkEmpty(r){return Ae.resolve(0===this.In.length)}addMutationBatch(r,i,o,c){const h=this.fs;this.fs++;const m=new lr(h,i,o,c);this.In.push(m);for(const b of c)this.ds=this.ds.add(new dr(b.key,h)),this.Ht.addToCollectionParentIndex(r,b.key.path.popLast());return Ae.resolve(m)}lookupMutationBatch(r,i){return Ae.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const c=this._s(i+1),h=c<0?0:c;return Ae.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new dr(i,0),c=new dr(i,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([o,c],m=>{const b=this.ws(m.ls);h.push(b)}),Ae.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new Bn(kt);return i.forEach(c=>{const h=new dr(c,0),m=new dr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],b=>{o=o.add(b.ls)})}),Ae.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1;let h=o;et.isDocumentKey(h)||(h=h.child(""));const m=new dr(new et(h),0);let b=new Bn(kt);return this.ds.forEachWhile(T=>{const A=T.key.path;return!!o.isPrefixOf(A)&&(A.length===c&&(b=b.add(T.ls)),!0)},m),Ae.resolve(this.gs(b))}gs(r){const i=[];return r.forEach(o=>{const c=this.ws(o);null!==c&&i.push(c)}),i}removeMutationBatch(r,i){lt(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Ae.forEach(i.mutations,c=>{const h=new dr(c.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(r,c.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new dr(i,0),c=this.ds.firstAfterOrEqual(o);return Ae.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(r){return Ae.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class Tg{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new Un(et.comparator),this.size=0}addEntry(r,i,o){const c=i.key,h=this.docs.get(c),m=h?h.size:0,b=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:b,readTime:o}),this.size+=b-m,this.Ht.addToCollectionParentIndex(r,c.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Ae.resolve(o?o.document.clone():bn.newInvalidDocument(i))}getEntries(r,i){let o=os();return i.forEach(c=>{const h=this.docs.get(c);o=o.insert(c,h?h.document.clone():bn.newInvalidDocument(c))}),Ae.resolve(o)}getDocumentsMatchingQuery(r,i,o){let c=os();const h=new et(i.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:b,value:{document:T,readTime:A}}=m.getNext();if(!i.path.isPrefixOf(b.path))break;A.compareTo(o)<=0||mh(i,T)&&(c=c.insert(T.key,T.clone()))}return Ae.resolve(c)}Es(r,i){return Ae.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new KI(this)}getSize(r){return Ae.resolve(this.size)}}class KI extends BI{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(r,c.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Ae.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class YI{constructor(r){this.persistence=r,this.Ts=new Ah(i=>ng(i),r_),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Is=0,this.As=new Uw,this.targetCount=0,this.Rs=uc.se()}forEachTarget(r,i){return this.Ts.forEach((o,c)=>i(c)),Ae.resolve()}getLastRemoteSnapshotVersion(r){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Ae.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Ae.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new uc(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Ae.resolve()}updateTargetData(r,i){return this.ae(i),Ae.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(r,i,o){let c=0;const h=[];return this.Ts.forEach((m,b)=>{b.sequenceNumber<=i&&null===o.get(b.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(r,b.targetId)),c++)}),Ae.waitFor(h).next(()=>c)}getTargetCount(r){return Ae.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Ae.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Ae.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const c=this.persistence.referenceDelegate,h=[];return c&&i.forEach(m=>{h.push(c.markPotentiallyOrphaned(r,m))}),Ae.waitFor(h)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Ae.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Ae.resolve(o)}containsKey(r,i){return Ae.resolve(this.As.containsKey(i))}}class QI{constructor(r,i){this.Ps={},this.Le=new Bi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new YI(this),this.Ht=new sx,this.He=new Tg(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new p_(i),this.Je=new gx(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new mx(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){Fe("MemoryPersistence","Starting transaction:",r);const c=new JI(this.Le.next());return this.referenceDelegate.vs(),o(c).next(h=>this.referenceDelegate.Vs(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Ss(r,i){return Ae.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class JI extends h_{constructor(r){super(),this.currentSequenceNumber=r}}class b_{constructor(r){this.persistence=r,this.Ds=new Uw,this.Cs=null}static Ns(r){return new b_(r)}get xs(){if(this.Cs)return this.Cs;throw Xe()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Ae.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Ae.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Ae.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(c=>{c.forEach(h=>this.xs.add(h.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,o=>{const c=et.fromPath(o);return this.ks(r,c).next(h=>{h||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function XI(s,r){return`firestore_clients_${s}_${r}`}function eD(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function Bw(s,r){return`firestore_targets_${s}_${r}`}class w_{constructor(r,i,o,c){this.user=r,this.batchId=i,this.state=o,this.error=c}static $s(r,i,o){const c=JSON.parse(o);let h,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(h=new Ne(c.error.code,c.error.message))),m?new w_(r,i,c.state,h):(xn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Ig{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let c,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new Ne(o.error.code,o.error.message))),h?new Ig(r,o.state,c):(xn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class C_{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let c="object"==typeof o&&o.activeTargetIds instanceof Array,h=fw();for(let m=0;c&&m<o.activeTargetIds.length;++m)c=lh(o.activeTargetIds[m]),h=h.add(o.activeTargetIds[m]);return c?new C_(r,h):(xn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class jw{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new jw(i.clientId,i.onlineState):(xn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class hc{constructor(){this.activeTargetIds=fw()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class fc{constructor(r,i,o,c,h){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Un(kt),this.started=!1,this.Ks=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=XI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new hc),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(b){return`firestore_bundle_loaded_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,_e.Z)(function*(){const i=yield r.syncEngine.pn();for(const c of i){if(c===r.Ls)continue;const h=r.getItem(XI(r.persistenceKey,c));if(h){const m=C_.$s(c,h);m&&(r.qs=r.qs.insert(m.clientId,m))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const c=r.Xs(o);c&&r.Zs(c)}for(const c of r.Ks)r.Us(c);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,c)=>{c.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(Bw(this.persistenceKey,r));if(o){const c=Ig.$s(r,o);c&&(i=c.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(Bw(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(c=>{this.ni(c)}),this.currentUser=r,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return Fe("SharedClientState","READ",r,i),i}setItem(r,i){Fe("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){Fe("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(Fe("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_e.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const c=i.ai(o.key);return i.ci(c,null)}{const c=i.ui(o.key,o.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const c=i.hi(o.key,o.newValue);if(c)return i.li(c)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const c=i.fi(o.key,o.newValue);if(c)return i.di(c)}}else if(o.key===i.Hs){if(null!==o.newValue){const c=i.Xs(o.newValue);if(c)return i.Zs(c)}}else if(o.key===i.Qs){const c=function(h){let m=Bi.T;if(null!=h)try{const b=JSON.parse(h);lt("number"==typeof b),m=b}catch(b){xn("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(o.newValue);c!==Bi.T&&i.sequenceNumberHandler(c)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const c=new w_(this.currentUser,r,i,o),h=eD(this.persistenceKey,this.currentUser,r);this.setItem(h,c.Os())}ni(r){const i=eD(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const c=Bw(this.persistenceKey,r),h=new Ig(r,i,o);this.setItem(c,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return C_.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),c=Number(o[1]);return w_.$s(new wr(void 0!==o[2]?o[2]:null),c,i)}fi(r,i){const o=this.zs.exec(r),c=Number(o[1]);return Ig.$s(c,i)}Xs(r){return jw.$s(r)}li(r){var i=this;return(0,_e.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),c=this.ti(this.qs),h=this.ti(o),m=[],b=[];return h.forEach(T=>{c.has(T)||m.push(T)}),c.forEach(T=>{h.has(T)||b.push(T)}),this.syncEngine.gi(m,b).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=fw();return r.forEach((o,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class tD{constructor(){this.yi=new hc,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new hc,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class $w{Ei(r){}shutdown(){}}class Bs{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class T_{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class _x extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,c){const h=this.Bi(r,i);Fe("RestConnection","Sending: ",h,o);const m={};return this.Ui(m,c),this.qi(r,h,m,o).then(b=>(Fe("RestConnection","Received: ",b),b),b=>{throw fn("RestConnection",`${r} failed with error: `,b,"url: ",h,"request:",o),b})}Ki(r,i,o,c){return this.Li(r,i,o,c)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+oh,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${yx[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,c){return new Promise((h,m)=>{const b=new zb;b.listenOnce(Kl.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Qy.NO_ERROR:const A=b.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(A)),h(A);break;case Qy.TIMEOUT:Fe("Connection",'RPC "'+r+'" timed out'),m(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case Qy.HTTP_ERROR:const x=b.getStatus();if(Fe("Connection",'RPC "'+r+'" failed with status:',x,"response text:",b.getResponseText()),x>0){const M=b.getResponseJson().error;if(M&&M.status&&M.message){const U=function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(K)>=0?K:me.UNKNOWN}(M.status);m(new Ne(U,M.message))}else m(new Ne(me.UNKNOWN,"Server responded with status "+b.getStatus()))}else m(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Fe("Connection",'RPC "'+r+'" completed.')}});const T=JSON.stringify(c);b.send(i,"POST",T,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],c=new Wp,h=Oy(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new vR({})),this.Ui(m.initMessageHeaders,i),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Fe("Connection","Creating WebChannel: "+b,m);const T=c.createWebChannel(b,m);let A=!1,x=!1;const M=new T_({vi:$=>{x?Fe("Connection","Not sending because WebChannel is closed:",$):(A||(Fe("Connection","Opening WebChannel transport."),T.open(),A=!0),Fe("Connection","WebChannel sending:",$),T.send($))},Vi:()=>T.close()}),U=($,K,fe)=>{$.listen(K,Ie=>{try{fe(Ie)}catch(He){setTimeout(()=>{throw He},0)}})};return U(T,sh.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),U(T,sh.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),M.$i())}),U(T,sh.EventType.ERROR,$=>{x||(x=!0,fn("Connection","WebChannel transport errored:",$),M.$i(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),U(T,sh.EventType.MESSAGE,$=>{var K;if(!x){const fe=$.data[0];lt(!!fe);const Ie=fe,He=Ie.error||(null===(K=Ie[0])||void 0===K?void 0:K.error);if(He){Fe("Connection","WebChannel received error:",He);const Ye=He.status;let qe=function(nn){const Qn=Nn[nn];if(void 0!==Qn)return dg(Qn)}(Ye),ze=He.message;void 0===qe&&(qe=me.INTERNAL,ze="Unknown error status: "+Ye+" with message "+He.message),x=!0,M.$i(new Ne(qe,ze)),T.close()}else Fe("Connection","WebChannel received:",fe),M.Oi(fe)}}),U(h,_R.STAT_EVENT,$=>{$.stat===Kp_PROXY?Fe("Connection","Detected buffering proxy"):$.stat===Kp_NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ki()},0),M}}function nD(){return"undefined"!=typeof window?window:null}function Hw(){return"undefined"!=typeof document?document:null}function pc(s){return new l_(s,!0)}class Dg{constructor(r,i,o=1e3,c=1.5,h=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=c,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-o);c>0&&Fe("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class qw{constructor(r,i,o,c,h,m){this.Oe=r,this.er=o,this.nr=c,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Dg(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,_e.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,_e.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,_e.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===me.RESOURCE_EXHAUSTED?(xn(i.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===me.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const c=new Ne(me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(c)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,_e.Z)(function*(){r.state=0,r.start()}))}pr(r){return Fe("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gw extends qw{constructor(r,i,o,c,h){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,h),this.N=c}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(T=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:Xe(),c=r.targetChange.targetIds||[],h=function(T,A){return T.D?(lt(void 0===A||"string"==typeof A),ur.fromBase64String(A||"")):(lt(void 0===A||A instanceof Uint8Array),ur.fromUint8Array(A||new Uint8Array))}(s,r.targetChange.resumeToken),m=r.targetChange.cause,b=m&&function(T){const A=void 0===T.code?me.UNKNOWN:dg(T.code);return new Ne(A,T.message||"")}(m);i=new wI(o,c,h,b||null)}else if("documentChange"in r){const o=r.documentChange,c=Oo(s,o.document.name),h=sr(o.document.updateTime),m=new Br({mapValue:{fields:o.document.fields}}),b=bn.newFoundDocument(c,h,m);i=new u_(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in r){const o=r.documentDelete,c=Oo(s,o.document),h=o.readTime?sr(o.readTime):mt.min(),m=bn.newNoDocument(c,h);i=new u_([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in r){const o=r.documentRemove,c=Oo(s,o.document);i=new u_([],o.removedTargetIds||[],c,null)}else{if(!("filter"in r))return Xe();{const o=r.filter,h=new vI(o.count||0);i=new bI(o.targetId,h)}}var T;return i}(this.N,r),o=function(c){if(!("targetChange"in c))return mt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?mt.min():h.readTime?sr(h.readTime):mt.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=mg(this.N),i.addTarget=function(c,h){let m;const b=h.target;return m=hh(b)?{documents:bh(c,b)}:{query:JR(c,b)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=TI(c,h.resumeToken):h.snapshotVersion.compareTo(mt.min())>0&&(m.readTime=pg(c,h.snapshotVersion.toTimestamp())),m}(this.N,r);const o=function(s,r){const i=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=mg(this.N),i.removeTarget=r,this.wr(i)}}class Zw extends qw{constructor(r,i,o,c,h){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,h),this.N=c,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(lt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(lt(void 0!==r),s.map(i=>function(o,c){let h=sr(o.updateTime?o.updateTime:c);return h.isEqual(mt.min())&&(h=sr(c)),new $R(h,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=sr(r.commitTime);return this.listener.vr(o,i)}return lt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=mg(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>Ht(this.N,o))};this.wr(i)}}class vx extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Ne(me.UNKNOWN,c.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Ne(me.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class Ex{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(xn(i),this.$r=!1):Fe("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class bx{constructor(r,i,o,c,h){var m=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(b=>{o.enqueueAndForget((0,_e.Z)(function*(){var T;ku(m)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,_e.Z)(function*(A){const x=je(A);x.Kr.add(4),yield Pu(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield Sg(x)}),function(A){return T.apply(this,arguments)})(m))}))}),this.Wr=new Ex(o,c)}}function Sg(s){return I_.apply(this,arguments)}function I_(){return(I_=(0,_e.Z)(function*(s){if(ku(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function Pu(s){return D_.apply(this,arguments)}function D_(){return(D_=(0,_e.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function S_(s,r){const i=je(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),x_(i)?R_(i):Ph(i).cr()&&A_(i,r))}function Mh(s,r){const i=je(s),o=Ph(i);i.qr.delete(r),o.cr()&&rD(i,r),0===i.qr.size&&(o.cr()?o.lr():ku(i)&&i.Wr.set("Unknown"))}function A_(s,r){s.Gr.Y(r.targetId),Ph(s).Ir(r)}function rD(s,r){s.Gr.Y(r),Ph(s).Ar(r)}function R_(s){s.Gr=new ic({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),Ph(s).start(),s.Wr.Or()}function x_(s){return ku(s)&&!Ph(s).ar()&&s.qr.size>0}function ku(s){return 0===je(s).Kr.size}function zw(s){s.Gr=void 0}function wx(s){return iD.apply(this,arguments)}function iD(){return(iD=(0,_e.Z)(function*(s){s.qr.forEach((r,i)=>{A_(s,r)})})).apply(this,arguments)}function oi(s,r){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,_e.Z)(function*(s,r){zw(s),x_(s)?(s.Wr.Lr(r),R_(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function Cx(s,r,i){return Ww.apply(this,arguments)}function Ww(){return(Ww=(0,_e.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof wI&&2===r.state&&r.cause)try{yield(o=(0,_e.Z)(function*(c,h){const m=h.cause;for(const b of h.targetIds)c.qr.has(b)&&(yield c.remoteSyncer.rejectListen(b,m),c.qr.delete(b),c.Gr.removeTarget(b))}),function(c,h){return o.apply(this,arguments)})(s,r)}catch(o){Fe("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield Kw(s,o)}else if(r instanceof u_?s.Gr.rt(r):r instanceof bI?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(mt.min()))try{const o=yield GI(s.localStore);i.compareTo(o)>=0&&(yield function(c,h){const m=c.Gr._t(h);return m.targetChanges.forEach((b,T)=>{if(b.resumeToken.approximateByteSize()>0){const A=c.qr.get(T);A&&c.qr.set(T,A.withResumeToken(b.resumeToken,h))}}),m.targetMismatches.forEach(b=>{const T=c.qr.get(b);if(!T)return;c.qr.set(b,T.withResumeToken(ur.EMPTY_BYTE_STRING,T.snapshotVersion)),rD(c,b);const A=new xu(T.target,b,1,T.sequenceNumber);A_(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(s,i))}catch(o){Fe("RemoteStore","Failed to raise snapshot:",o),yield Kw(s,o)}var o})).apply(this,arguments)}function Kw(s,r,i){return gc.apply(this,arguments)}function gc(){return(gc=(0,_e.Z)(function*(s,r,i){if(!Us(r))throw r;s.Kr.add(1),yield Pu(s),s.Wr.set("Offline"),i||(i=()=>GI(s.localStore)),s.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield Sg(s)}))})).apply(this,arguments)}function sD(s,r){return r().catch(i=>Kw(s,i,r))}function Lu(s){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,_e.Z)(function*(s){const r=je(s),i=Lo(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;oD(r);)try{const c=yield z1(r.localStore,o);if(null===c){0===r.Ur.length&&i.lr();break}o=c.batchId,Tx(r,c)}catch(c){yield Kw(r,c)}aD(r)&&N_(r)})).apply(this,arguments)}function oD(s){return ku(s)&&s.Ur.length<10}function Tx(s,r){s.Ur.push(r);const i=Lo(s);i.cr()&&i.Pr&&i.br(r.mutations)}function aD(s){return ku(s)&&!Lo(s).ar()&&s.Ur.length>0}function N_(s){Lo(s).start()}function uD(s){return M_.apply(this,arguments)}function M_(){return(M_=(0,_e.Z)(function*(s){Lo(s).Sr()})).apply(this,arguments)}function O_(s){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,_e.Z)(function*(s){const r=Lo(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function W1(s,r,i){return P_.apply(this,arguments)}function P_(){return(P_=(0,_e.Z)(function*(s,r,i){const o=s.Ur.shift(),c=ww.from(o,r,i);yield sD(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Lu(s)})).apply(this,arguments)}function Ix(s,r){return k_.apply(this,arguments)}function k_(){return(k_=(0,_e.Z)(function*(s,r){var i;r&&Lo(s).Pr&&(yield(i=(0,_e.Z)(function*(o,c){if(dw(h=c.code)&&h!==me.ABORTED){const m=o.Ur.shift();Lo(o).hr(),yield sD(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield Lu(o)}var h}),function(o,c){return i.apply(this,arguments)})(s,r)),aD(s)&&N_(s)})).apply(this,arguments)}function Oh(s,r){return F_.apply(this,arguments)}function F_(){return(F_=(0,_e.Z)(function*(s,r){const i=je(s);r?(i.Kr.delete(2),yield Sg(i)):r||(i.Kr.add(2),yield Pu(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function Ph(s){return s.zr||(s.zr=function(r,i,o){const c=je(r);return c.Cr(),new Gw(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:wx.bind(null,s),Ci:oi.bind(null,s),Tr:Cx.bind(null,s)}),s.jr.push(function(){var r=(0,_e.Z)(function*(i){i?(s.zr.hr(),x_(s)?R_(s):s.Wr.set("Unknown")):(yield s.zr.stop(),zw(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function Lo(s){return s.Hr||(s.Hr=function(r,i,o){const c=je(r);return c.Cr(),new Zw(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:uD.bind(null,s),Ci:Ix.bind(null,s),Vr:O_.bind(null,s),vr:W1.bind(null,s)}),s.jr.push(function(){var r=(0,_e.Z)(function*(i){i?(s.Hr.hr(),yield Lu(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Fe("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class Rg{constructor(r,i,o,c,h){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=h,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(r,i,o,c,h){const m=Date.now()+o,b=new Rg(r,i,m,c,h);return b.start(o),b}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kh(s,r){if(xn("AsyncQueue",`${r}: ${s}`),Us(s))return new Ne(me.UNAVAILABLE,`${r}: ${s}`);throw s}class Fh{constructor(r){this.comparator=r?(i,o)=>r(i,o)||et.comparator(i.key,o.key):(i,o)=>et.comparator(i.key,o.key),this.keyedMap=hw(),this.sortedSet=new Un(this.comparator)}static emptySet(r){return new Fh(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof Fh)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,h=o.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new Fh;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class Qw{constructor(){this.Jr=new Un(et.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):Xe():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class mc{constructor(r,i,o,c,h,m,b,T){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=b,this.excludesMetadataChanges=T}static fromInitialDocuments(r,i,o,c){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new mc(r,i,Fh.emptySet(i),h,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&og(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class lD{constructor(){this.Xr=void 0,this.listeners=[]}}class Dx{constructor(){this.queries=new Ah(r=>sw(r),og),this.onlineState="Unknown",this.Zr=new Set}}function L_(s,r){return V_.apply(this,arguments)}function V_(){return(V_=(0,_e.Z)(function*(s,r){const i=je(s),o=r.query;let c=!1,h=i.queries.get(o);if(h||(c=!0,h=new lD),c)try{h.Xr=yield i.onListen(o)}catch(m){const b=kh(m,`Initialization of query '${i_(r.query)}' failed`);return void r.onError(b)}i.queries.set(o,h),h.listeners.push(r),r.eo(i.onlineState),h.Xr&&r.no(h.Xr)&&U_(i)})).apply(this,arguments)}function Jw(s,r){return Xw.apply(this,arguments)}function Xw(){return(Xw=(0,_e.Z)(function*(s,r){const i=je(s),o=r.query;let c=!1;const h=i.queries.get(o);if(h){const m=h.listeners.indexOf(r);m>=0&&(h.listeners.splice(m,1),c=0===h.listeners.length)}if(c)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function cD(s,r){const i=je(s);let o=!1;for(const c of r){const m=i.queries.get(c.query);if(m){for(const b of m.listeners)b.no(c)&&(o=!0);m.Xr=c}}o&&U_(i)}function Sx(s,r,i){const o=je(s),c=o.queries.get(r);if(c)for(const h of c.listeners)h.onError(i);o.queries.delete(r)}function U_(s){s.Zr.forEach(r=>{r.next()})}class B_{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const c of r.docChanges)3!==c.type&&o.push(c);r=new mc(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=mc.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class dD{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class e0{constructor(r){this.N=r}zn(r){return Oo(this.N,r)}Hn(r){return r.metadata.exists?_g(this.N,r.document,!1):bn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return sr(r)}}class Ax{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=hD(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new e0(this.N);for(const c of r)if(c.metadata.queries){const h=o.zn(c.metadata.name);for(const m of c.metadata.queries){const b=(i.get(m)||Xt()).add(h);i.set(m,b)}}return i}complete(){var r=this;return(0,_e.Z)(function*(){const i=yield function(s,r,i,o){return Lw.apply(this,arguments)}(r.localStore,new e0(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const c of r.queries)yield px(r.localStore,c,o.get(c.name));return r.progress.taskState="Success",new $I(Object.assign({},r.progress),i)})()}}function hD(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class fD{constructor(r){this.key=r}}class t0{constructor(r){this.key=r}}class Rx{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=Xt(),this.mutatedKeys=Xt(),this.po=FR(r),this.Eo=new Fh(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new Qw,c=i?i.Eo:this.Eo;let h=i?i.mutatedKeys:this.mutatedKeys,m=c,b=!1;const T=gh(this.query)&&c.size===this.query.limit?c.last():null,A=ig(this.query)&&c.size===this.query.limit?c.first():null;if(r.inorderTraversal((x,M)=>{const U=c.get(x),$=mh(this.query,M)?M:null,K=!!U&&this.mutatedKeys.has(U.key),fe=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Ie=!1;U&&$?U.data.isEqual($.data)?K!==fe&&(o.track({type:3,doc:$}),Ie=!0):this.Ro(U,$)||(o.track({type:2,doc:$}),Ie=!0,(T&&this.po($,T)>0||A&&this.po($,A)<0)&&(b=!0)):!U&&$?(o.track({type:0,doc:$}),Ie=!0):U&&!$&&(o.track({type:1,doc:U}),Ie=!0,(T||A)&&(b=!0)),Ie&&($?(m=m.add($),h=fe?h.add(x):h.delete(x)):(m=m.delete(x),h=h.delete(x)))}),gh(this.query)||ig(this.query))for(;m.size>this.query.limit;){const x=gh(this.query)?m.last():m.first();m=m.delete(x.key),h=h.delete(x.key),o.track({type:1,doc:x})}return{Eo:m,Ao:o,Ln:b,mutatedKeys:h}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const c=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const h=r.Ao.Yr();h.sort((A,x)=>function(M,U){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return $(M)-$(U)}(A.type,x.type)||this.po(A.doc,x.doc)),this.Po(o);const m=i?this.bo():[],b=0===this.yo.size&&this.current?1:0,T=b!==this.mo;return this.mo=b,0!==h.length||T?{snapshot:new mc(this.query,r.Eo,c,h,r.mutatedKeys,0===b,T,!1),vo:m}:{vo:m}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Qw,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Xt(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new t0(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new fD(o))}),i}So(r){this._o=r.Gn,this.yo=Xt();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return mc.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class K1{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class Y1{constructor(r){this.key=r,this.Co=!1}}class Q1{constructor(r,i,o,c,h,m){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Ah(b=>sw(b),og),this.ko=new Map,this.$o=new Set,this.Oo=new Un(et.comparator),this.Fo=new Map,this.Mo=new Uw,this.Lo={},this.Bo=new Map,this.Uo=uc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function J1(s,r){return pD.apply(this,arguments)}function pD(){return(pD=(0,_e.Z)(function*(s,r){const i=Bh(s);let o,c;const h=i.xo.get(r);if(h)o=h.targetId,i.sharedClientState.addLocalQueryTarget(o),c=h.view.Do();else{const m=yield dc(i.localStore,ss(r)),b=i.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,c=yield gD(i,r,o,"current"===b),i.isPrimaryClient&&S_(i.remoteStore,m)}return c})).apply(this,arguments)}function gD(s,r,i,o){return mD.apply(this,arguments)}function mD(){return(mD=(0,_e.Z)(function*(s,r,i,o){s.Ko=(x,M,U)=>{return($=(0,_e.Z)(function*(K,fe,Ie,He){let Ye=fe.view.Io(Ie);Ye.Ln&&(Ye=yield Cg(K.localStore,fe.query,!1).then(({documents:nn})=>fe.view.Io(nn,Ye)));const qe=He&&He.targetChanges.get(fe.targetId),ze=fe.view.applyChanges(Ye,K.isPrimaryClient,qe);return CD(K,fe.targetId,ze.vo),ze.snapshot}),function(K,fe,Ie,He){return $.apply(this,arguments)})(s,x,M,U);var $};const c=yield Cg(s.localStore,r,!0),h=new Rx(r,c.Gn),m=h.Io(c.documents),b=Ea.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),T=h.applyChanges(m,s.isPrimaryClient,b);CD(s,i,T.vo);const A=new K1(r,i,h);return s.xo.set(r,A),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),T.snapshot})).apply(this,arguments)}function X1(s,r){return yD.apply(this,arguments)}function yD(){return(yD=(0,_e.Z)(function*(s,r){const i=je(s),o=i.xo.get(r),c=i.ko.get(o.targetId);if(c.length>1)return i.ko.set(o.targetId,c.filter(h=>!og(h,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Nh(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),Mh(i.remoteStore,o.targetId),Lh(i,o.targetId)}).catch(Ou))):(Lh(i,o.targetId),yield Nh(i.localStore,o.targetId,!0))})).apply(this,arguments)}function _D(){return(_D=(0,_e.Z)(function*(s,r,i){const o=l0(s);try{const c=yield function(h,m){const b=je(h),T=Vn.now(),A=m.reduce((M,U)=>M.add(U.key),Xt());let x;return b.persistence.runTransaction("Locally write mutations","readwrite",M=>b.Qn.bn(M,A).next(U=>{x=U;const $=[];for(const K of m){const fe=HR(K,x.get(K.key));null!=fe&&$.push(new Du(K.key,fe,n_(fe.value.mapValue),zn.exists(!0)))}return b.In.addMutationBatch(M,T,$,m)})).then(M=>(M.applyToLocalDocumentSet(x),{batchId:M.batchId,changes:x}))}(o.localStore,r);o.sharedClientState.addPendingMutation(c.batchId),function(h,m,b){let T=h.Lo[h.currentUser.toKey()];T||(T=new Un(kt)),T=T.insert(m,b),h.Lo[h.currentUser.toKey()]=T}(o,c.batchId,i),yield Ca(o,c.changes),yield Lu(o.remoteStore)}catch(c){const h=kh(c,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function xx(s,r){return vD.apply(this,arguments)}function vD(){return(vD=(0,_e.Z)(function*(s,r){const i=je(s);try{const o=yield hx(i.localStore,r);r.targetChanges.forEach((c,h)=>{const m=i.Fo.get(h);m&&(lt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Co=!0:c.modifiedDocuments.size>0?lt(m.Co):c.removedDocuments.size>0&&(lt(m.Co),m.Co=!1))}),yield Ca(i,o,r)}catch(o){yield Ou(o)}})).apply(this,arguments)}function Nx(s,r,i){const o=je(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const c=[];o.xo.forEach((h,m)=>{const b=m.view.eo(r);b.snapshot&&c.push(b.snapshot)}),function(h,m){const b=je(h);b.onlineState=m;let T=!1;b.queries.forEach((A,x)=>{for(const M of x.listeners)M.eo(m)&&(T=!0)}),T&&U_(b)}(o.eventManager,r),c.length&&o.No.Tr(c),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function tM(s,r,i){return ED.apply(this,arguments)}function ED(){return(ED=(0,_e.Z)(function*(s,r,i){const o=je(s);o.sharedClientState.updateQueryState(r,"rejected",i);const c=o.Fo.get(r),h=c&&c.key;if(h){let m=new Un(et.comparator);m=m.insert(h,bn.newNoDocument(h,mt.min()));const b=Xt().add(h),T=new hg(mt.min(),new Map,new Bn(kt),m,b);yield xx(o,T),o.Oo=o.Oo.remove(h),o.Fo.delete(r),TD(o)}else yield Nh(o.localStore,r,!1).then(()=>Lh(o,r,i)).catch(Ou)})).apply(this,arguments)}function Mx(s,r){return n0.apply(this,arguments)}function n0(){return(n0=(0,_e.Z)(function*(s,r){const i=je(s),o=r.batch.batchId;try{const c=yield Z1(i.localStore,r);s0(i,o,null),r0(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Ca(i,c)}catch(c){yield Ou(c)}})).apply(this,arguments)}function Ox(s,r,i){return bD.apply(this,arguments)}function bD(){return(bD=(0,_e.Z)(function*(s,r,i){const o=je(s);try{const c=yield function(h,m){const b=je(h);return b.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let A;return b.In.lookupMutationBatch(T,m).next(x=>(lt(null!==x),A=x.keys(),b.In.removeMutationBatch(T,x))).next(()=>b.In.performConsistencyCheck(T)).next(()=>b.Qn.bn(T,A))})}(o.localStore,r);s0(o,r,i),r0(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield Ca(o,c)}catch(c){yield Ou(c)}})).apply(this,arguments)}function wD(){return(wD=(0,_e.Z)(function*(s,r){const i=je(s);ku(i.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const m=je(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>m.In.getHighestUnacknowledgedBatchId(b))}(i.localStore);if(-1===o)return void r.resolve();const c=i.Bo.get(o)||[];c.push(r),i.Bo.set(o,c)}catch(o){const c=kh(o,"Initialization of waitForPendingWrites() operation failed");r.reject(c)}})).apply(this,arguments)}function r0(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function s0(s,r,i){const o=je(s);let c=o.Lo[o.currentUser.toKey()];if(c){const h=c.get(r);h&&(i?h.reject(i):h.resolve(),c=c.remove(r)),o.Lo[o.currentUser.toKey()]=c}}function Lh(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||Px(s,o)})}function Px(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(Mh(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),TD(s))}function CD(s,r,i){for(const o of i)o instanceof fD?(s.Mo.addReference(o.key,r),rM(s,o)):o instanceof t0?(Fe("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||Px(s,o.key)):Xe()}function rM(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(Fe("SyncEngine","New document in limbo: "+i),s.$o.add(o),TD(s))}function TD(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new et($t.fromString(r)),o=s.Uo.next();s.Fo.set(o,new Y1(i)),s.Oo=s.Oo.insert(i,o),S_(s.remoteStore,new xu(ss(wu(i.path)),o,2,Bi.T))}}function Ca(s,r,i){return ID.apply(this,arguments)}function ID(){return(ID=(0,_e.Z)(function*(s,r,i){const o=je(s),c=[],h=[],m=[];var b;o.xo.isEmpty()||(o.xo.forEach((b,T)=>{m.push(o.Ko(T,r,i).then(A=>{if(A){o.isPrimaryClient&&o.sharedClientState.updateQueryState(T.targetId,A.fromCache?"not-current":"current"),c.push(A);const x=v_.kn(T.targetId,A);h.push(x)}}))}),yield Promise.all(m),o.No.Tr(c),yield(b=(0,_e.Z)(function*(T,A){const x=je(T);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ae.forEach(A,U=>Ae.forEach(U.Nn,$=>x.persistence.referenceDelegate.addReference(M,U.targetId,$)).next(()=>Ae.forEach(U.xn,$=>x.persistence.referenceDelegate.removeReference(M,U.targetId,$)))))}catch(M){if(!Us(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of A){const U=M.targetId;if(!M.fromCache){const $=x.Un.get(U),fe=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);x.Un=x.Un.insert(U,fe)}}}),function(T,A){return b.apply(this,arguments)})(o.localStore,h))})).apply(this,arguments)}function kx(s,r){return xg.apply(this,arguments)}function xg(){return(xg=(0,_e.Z)(function*(s,r){const i=je(s);if(!i.currentUser.isEqual(r)){Fe("SyncEngine","User change. New user:",r.toKey());const o=yield Pw(i.localStore,r);i.currentUser=r,(c=i).Bo.forEach(m=>{m.forEach(b=>{b.reject(new Ne(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield Ca(i,o.Wn)}var c})).apply(this,arguments)}function Vh(s,r){const i=je(s),o=i.Fo.get(r);if(o&&o.Co)return Xt().add(o.key);{let c=Xt();const h=i.ko.get(r);if(!h)return c;for(const m of h){const b=i.xo.get(m);c=c.unionWith(b.view.To)}return c}}function DD(s,r){return o0.apply(this,arguments)}function o0(){return(o0=(0,_e.Z)(function*(s,r){const i=je(s),o=yield Cg(i.localStore,r.query,!0),c=r.view.So(o);return i.isPrimaryClient&&CD(i,r.targetId,c.vo),c})).apply(this,arguments)}function Fx(s){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,_e.Z)(function*(s){const r=je(s);return E_(r.localStore).then(i=>Ca(r,i))})).apply(this,arguments)}function SD(s,r,i,o){return j_.apply(this,arguments)}function j_(){return(j_=(0,_e.Z)(function*(s,r,i,o){const c=je(s),h=yield function(m,b){const T=je(m),A=je(T.In);return T.persistence.runTransaction("Lookup mutation documents","readonly",x=>A.Xt(x,b).next(M=>M?T.Qn.bn(x,M):Ae.resolve(null)))}(c.localStore,r);var b;null!==h?("pending"===i?yield Lu(c.remoteStore):"acknowledged"===i||"rejected"===i?(s0(c,r,o||null),r0(c,r),b=r,je(je(c.localStore).In).te(b)):Xe(),yield Ca(c,h)):Fe("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function RD(){return(RD=(0,_e.Z)(function*(s,r){const i=je(s);if(Bh(i),l0(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),c=yield a0(i,o.toArray());i.qo=!0,yield Oh(i.remoteStore,!0);for(const h of c)S_(i.remoteStore,h)}else if(!1===r&&!1!==i.qo){const o=[];let c=Promise.resolve();i.ko.forEach((h,m)=>{i.sharedClientState.isLocalQueryTarget(m)?o.push(m):c=c.then(()=>(Lh(i,m),Nh(i.localStore,m,!0))),Mh(i.remoteStore,m)}),yield c,yield a0(i,o),function(h){const m=je(h);m.Fo.forEach((b,T)=>{Mh(m.remoteStore,T)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Un(et.comparator)}(i),i.qo=!1,yield Oh(i.remoteStore,!1)}})).apply(this,arguments)}function a0(s,r,i){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,_e.Z)(function*(s,r,i){const o=je(s),c=[],h=[];for(const m of r){let b;const T=o.ko.get(m);if(T&&0!==T.length){b=yield dc(o.localStore,ss(T[0]));for(const A of T){const x=o.xo.get(A),M=yield DD(o,x);M.snapshot&&h.push(M.snapshot)}}else{const A=yield zI(o.localStore,m);b=yield dc(o.localStore,A),yield gD(o,u0(A),m,!1)}c.push(b)}return o.No.Tr(h),c})).apply(this,arguments)}function u0(s){return pI(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function iM(s){const r=je(s);return je(je(r.localStore).persistence).pn()}function sM(s,r,i,o){return xD.apply(this,arguments)}function xD(){return(xD=(0,_e.Z)(function*(s,r,i,o){const c=je(s);if(c.qo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(r))switch(i){case"current":case"not-current":{const h=yield E_(c.localStore),m=hg.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield Ca(c,h,m);break}case"rejected":yield Nh(c.localStore,r,!0),Lh(c,r,o);break;default:Xe()}})).apply(this,arguments)}function Lx(s,r,i){return ND.apply(this,arguments)}function ND(){return(ND=(0,_e.Z)(function*(s,r,i){const o=Bh(s);if(o.qo){for(const c of r){if(o.ko.has(c)){Fe("SyncEngine","Adding an already active target "+c);continue}const h=yield zI(o.localStore,c),m=yield dc(o.localStore,h);yield gD(o,u0(h),m.targetId,!1),S_(o.remoteStore,m)}for(const c of i)o.ko.has(c)&&(yield Nh(o.localStore,c,!1).then(()=>{Mh(o.remoteStore,c),Lh(o,c)}).catch(Ou))}})).apply(this,arguments)}function Bh(s){const r=je(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vh.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=tM.bind(null,r),r.No.Tr=cD.bind(null,r.eventManager),r.No.jo=Sx.bind(null,r.eventManager),r}function l0(s){const r=je(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=Mx.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Ox.bind(null,r),r}class Vx{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,_e.Z)(function*(){i.N=pc(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return qI(this.persistence,new HI,r.initialUser,this.N)}Go(r){return new QI(b_.Ns,this.N)}Wo(r){return new tD}terminate(){var r=this;return(0,_e.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class $_ extends Vx{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,_e.Z)(function*(){yield i().call(o,r),yield function(s){return Fw.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield l0(o.Jo.syncEngine),yield Lu(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return qI(this.persistence,new HI,r.initialUser,this.N)}zo(r){return new q1(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=Mw(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new __(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,nD(),Hw(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new tD}}class Ux extends $_{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,_e.Z)(function*(){yield i().call(o,r);const c=o.Jo.syncEngine;o.sharedClientState instanceof fc&&(o.sharedClientState.syncEngine={_i:SD.bind(null,c),mi:sM.bind(null,c),gi:Lx.bind(null,c),pn:iM.bind(null,c),wi:Fx.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var h=(0,_e.Z)(function*(m){yield function(s,r){return RD.apply(this,arguments)}(o.Jo.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(r){const i=nD();if(!fc.Pt(i))throw new Ne(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Mw(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new fc(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class MD{initialize(r,i){var o=this;return(0,_e.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Nx(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=kx.bind(null,o.syncEngine),yield Oh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Dx}createDatastore(r){const i=pc(r.databaseInfo.databaseId),o=new _x(r.databaseInfo);return new vx(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,c=r.asyncQueue,h=b=>Nx(this.syncEngine,b,0),m=Bs.Pt()?new Bs:new $w,new bx(i,o,c,h,m);var i,o,c,h,m}createSyncEngine(r,i){return function(o,c,h,m,b,T,A){const x=new Q1(o,c,h,m,b,T);return A&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,_e.Z)(function*(i){const o=je(i);Fe("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield Pu(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function Bx(s,r=10240){let i=0;return{read:()=>(0,_e.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class H_{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class aM{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new rr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,_e.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,_e.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,_e.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),c=Number(o);isNaN(c)&&r.sa(`length string (${o}) is not valid number`);const h=yield r.ia(c);return new dD(JSON.parse(h),i.length+c)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,_e.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,_e.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,_e.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class OD{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,_e.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Ne(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,_e.Z)(function*(h,m){const b=je(h),T=mg(b.N)+"/documents",A={documents:m.map($=>vh(b.N,$))},x=yield b.Ki("BatchGetDocuments",T,A),M=new Map;x.forEach($=>{const K=function(s,r){return"found"in r?function(i,o){lt(!!o.found);const c=Oo(i,o.found.name),h=sr(o.found.updateTime),m=new Br({mapValue:{fields:o.found.fields}});return bn.newFoundDocument(c,h,m)}(s,r):"missing"in r?function(i,o){lt(!!o.missing),lt(!!o.readTime);const c=Oo(i,o.missing),h=sr(o.readTime);return bn.newNoDocument(c,h)}(s,r):Xe()}(b.N,$);M.set(K.key.toString(),K)});const U=[];return m.forEach($=>{const K=M.get($.toString());lt(!!K),U.push(K)}),U}),function(h,m){return c.apply(this,arguments)})(i.datastore,r);var c;return o.forEach(c=>i.recordVersion(c)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new cg(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,_e.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,c)=>{const h=et.fromPath(c);r.mutations.push(new cw(h,r.precondition(h)))}),yield(o=(0,_e.Z)(function*(c,h){const m=je(c),b=mg(m.N)+"/documents",T={writes:h.map(A=>Ht(m.N,A))};yield m.Li("Commit",b,T)}),function(c,h){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw Xe();i=mt.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new Ne(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?zn.updateTime(i):zn.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(mt.min()))throw new Ne(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zn.updateTime(i)}return zn.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class jx{constructor(r,i,o,c){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=c,this.aa=5,this.rr=new Dg(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,_e.Z)(function*(){const i=new OD(r.datastore),o=r.ua(i);o&&o.then(c=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(c)}).catch(h=>{r.ha(h)}))}).catch(c=>{r.ha(c)})}))}ua(r){try{const i=this.updateFunction(r);return!ec(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!dw(i)}return!1}}class uM{constructor(r,i,o){var c=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=wr.UNAUTHENTICATED,this.clientId=Wb.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var h=(0,_e.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield c.credentialListener(m),c.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,_e.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const c=kh(o,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function $x(s,r){return c0.apply(this,arguments)}function c0(){return(c0=(0,_e.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,_e.Z)(function*(h){o.isEqual(h)||(yield Pw(r.localStore,h),o=h)});return function(h){return c.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function jh(s,r){return d0.apply(this,arguments)}function d0(){return(d0=(0,_e.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield h0(s);Fe("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(c=>{return(h=(0,_e.Z)(function*(m,b){const T=je(m);T.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const A=ku(T);T.Kr.add(3),yield Pu(T),A&&T.Wr.set("Unknown"),yield T.remoteSyncer.handleCredentialChange(b),T.Kr.delete(3),yield Sg(T)}),function(m,b){return h.apply(this,arguments)})(r.remoteStore,c);var h}),s.onlineComponents=r})).apply(this,arguments)}function h0(s){return f0.apply(this,arguments)}function f0(){return(f0=(0,_e.Z)(function*(s){return s.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield $x(s,new Vx)),s.offlineComponents})).apply(this,arguments)}function $h(s){return p0.apply(this,arguments)}function p0(){return(p0=(0,_e.Z)(function*(s){return s.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield jh(s,new MD)),s.onlineComponents})).apply(this,arguments)}function Di(s){return h0(s).then(r=>r.persistence)}function g0(s){return h0(s).then(r=>r.localStore)}function q_(s){return $h(s).then(r=>r.remoteStore)}function m0(s){return $h(s).then(r=>r.syncEngine)}function Hh(s){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,_e.Z)(function*(s){const r=yield $h(s),i=r.eventManager;return i.onListen=J1.bind(null,r.syncEngine),i.onUnlisten=X1.bind(null,r.syncEngine),i})).apply(this,arguments)}function y0(s,r,i={}){const o=new rr;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(c,h,m,b,T){const A=new H_({next:M=>{h.enqueueAndForget(()=>Jw(c,x));const U=M.docs.has(m);!U&&M.fromCache?T.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&b&&"server"===b.source?T.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(M)},error:M=>T.reject(M)}),x=new B_(wu(m.path),A,{includeMetadataChanges:!0,uo:!0});return L_(c,x)}(yield Hh(s),s.asyncQueue,r,i,o)})),o.promise}function LD(s,r,i={}){const o=new rr;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(c,h,m,b,T){const A=new H_({next:M=>{h.enqueueAndForget(()=>Jw(c,x)),M.fromCache&&"server"===b.source?T.reject(new Ne(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(M)},error:M=>T.reject(M)}),x=new B_(m,A,{includeMetadataChanges:!0,uo:!0});return L_(c,x)}(yield Hh(s),s.asyncQueue,r,i,o)})),o.promise}class v0{constructor(r,i,o,c,h,m,b,T){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=b,this.useFetchStreams=T}}class qh{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof qh&&r.projectId===this.projectId&&r.database===this.database}}const fs=new Map;function E0(s,r,i){if(!i)throw new Ne(me.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function Gx(s,r,i,o){if(!0===r&&!0===o)throw new Ne(me.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function BD(s){if(!et.isDocumentKey(s))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zx(s){if(et.isDocumentKey(s))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G_(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":Xe()}function qt(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=G_(s);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function jD(s,r){if(r<=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class zx{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Gx("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Og{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,r instanceof qh?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(o.options.projectId)}(r))}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new wR;switch(i.type){case"gapi":const o=i.client;return lt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new IR(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=fs.get(r);i&&(Fe("ComponentProvider","Removing Datastore"),fs.delete(r),i.terminate())}(this),Promise.resolve()}}class yn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new yn(this.firestore,r,this._key)}}class $r{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new $r(this.firestore,r,this._query)}}class js extends $r{constructor(r,i,o){super(r,i,wu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new yn(this.firestore,null,new et(r))}withConverter(r){return new js(this.firestore,r,this._path)}}function HD(s,r,...i){if(s=(0,St.m9)(s),E0("collection","path",r),s instanceof Og){const o=$t.fromString(r,...i);return Zx(o),new js(s,null,o)}{if(!(s instanceof yn||s instanceof js))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=$t.fromString(s.path,...i).child($t.fromString(r));return Zx(o),new js(s.firestore,null,o)}}function Pg(s,r,...i){if(s=(0,St.m9)(s),1===arguments.length&&(r=Wb.I()),E0("doc","path",r),s instanceof Og){const o=$t.fromString(r,...i);return BD(o),new yn(s,null,new et(o))}{if(!(s instanceof yn||s instanceof js))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child($t.fromString(r,...i));return BD(o),new yn(s.firestore,s instanceof js?s.converter:null,new et(o))}}function b0(s,r){return s=(0,St.m9)(s),r=(0,St.m9)(r),(s instanceof yn||s instanceof js)&&(r instanceof yn||r instanceof js)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function qD(s,r){return s=(0,St.m9)(s),r=(0,St.m9)(r),s instanceof $r&&r instanceof $r&&s.firestore===r.firestore&&og(s._query,r._query)&&s.converter===r.converter}class Wx{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Dg(this,"async_queue_retry"),this.Ea=()=>{const i=Hw();i&&Fe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=Hw();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=Hw();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new rr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,_e.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!Us(i))throw i;Fe("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,xn("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const c=Rg.createAndSchedule(this,r,i,o,h=>this.Ra(h));return this._a.push(c),c}Ta(){this.ma&&Xe()}verifyOperationInProgress(){}Pa(){var r=this;return(0,_e.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function Z_(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(s)}class kg{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class On extends Og{constructor(r,i){super(r,i),this.type="firestore",this._queue=new Wx,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}}function hr(s){return s._firestoreClient||Kx(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Kx(s){var r;const i=s._freezeSettings(),o=(h=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new v0(s._databaseId,h,s._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var h,b;s._firestoreClient=new uM(s._credentials,s._queue,o)}function C0(s,r,i){const o=new rr;return s.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield $x(s,i),yield jh(s,r),o.resolve()}catch(c){if(!("FirebaseError"===(h=c).name?h.code===me.FAILED_PRECONDITION||h.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var h})).then(()=>o.promise)}function ZD(s){if(s._initialized||s._terminated)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $s{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Ta{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Ta(ur.fromBase64String(r))}catch(i){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new Ta(ur.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Vu{constructor(r){this._methodName=r}}class Fg{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return kt(this._lat,r._lat)||kt(this._long,r._long)}}const tN=/^__.*__$/;class z_{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new Du(r,this.data,this.fieldMask,i,this.fieldTransforms):new lg(r,this.data,i,this.fieldTransforms)}}class zD{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new Du(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function WD(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Lg{constructor(r,i,o,c,h,m){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=c,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Lg(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.ka(r),c}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.Sa(),c}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return W_(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(WD(this.Da)&&tN.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class yc{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||pc(r)}Ba(r,i,o,c=!1){return new Lg({Da:r,methodName:i,La:o,path:Cr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Uu(s){const r=s._freezeSettings(),i=pc(s._databaseId);return new yc(s._databaseId,!!r.ignoreUndefinedProperties,i)}function Gh(s,r,i,o,c,h={}){const m=s.Ba(h.merge||h.mergeFields?2:0,r,i,c);I0("Data must be an object, but it was:",m,o);const b=rN(o,m);let T,A;if(h.merge)T=new Jl(m.fieldMask),A=m.fieldTransforms;else if(h.mergeFields){const x=[];for(const M of h.mergeFields){const U=XD(r,M,i);if(!m.contains(U))throw new Ne(me.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);tS(x,U)||x.push(U)}T=new Jl(x),A=m.fieldTransforms.filter(M=>T.covers(M.field))}else T=null,A=m.fieldTransforms;return new z_(new Br(b),T,A)}class _c extends Vu{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof _c}}function KD(s,r,i){return new Lg({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class Zh extends Vu{_toFieldTransform(r){return new o_(r.path,new ag)}isEqual(r){return r instanceof Zh}}class nN extends Vu{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=KD(this,r,!0),o=this.Ua.map(h=>vc(h,i)),c=new rc(o);return new o_(r.path,c)}isEqual(r){return this===r}}class T0 extends Vu{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=KD(this,r,!0),o=this.Ua.map(h=>vc(h,i)),c=new Iu(o);return new o_(r.path,c)}isEqual(r){return this===r}}class YD extends Vu{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new va(r.N,s_(r.N,this.qa));return new o_(r.path,i)}isEqual(r){return this===r}}function Wn(s,r,i,o){const c=s.Ba(1,r,i);I0("Data must be an object, but it was:",c,o);const h=[],m=Br.empty();Ql(o,(T,A)=>{const x=eS(r,T,i);A=(0,St.m9)(A);const M=c.$a(x);if(A instanceof _c)h.push(x);else{const U=vc(A,M);null!=U&&(h.push(x),m.set(x,U))}});const b=new Jl(h);return new zD(m,b,c.fieldTransforms)}function QD(s,r,i,o,c,h){const m=s.Ba(1,r,i),b=[XD(r,o,i)],T=[c];if(h.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<h.length;U+=2)b.push(XD(r,h[U])),T.push(h[U+1]);const A=[],x=Br.empty();for(let U=b.length-1;U>=0;--U)if(!tS(A,b[U])){const $=b[U];let K=T[U];K=(0,St.m9)(K);const fe=m.$a($);if(K instanceof _c)A.push($);else{const Ie=vc(K,fe);null!=Ie&&(A.push($),x.set($,Ie))}}const M=new Jl(A);return new zD(x,M,m.fieldTransforms)}function JD(s,r,i,o=!1){return vc(i,s.Ba(o?4:3,r))}function vc(s,r){if(Vg(s=(0,St.m9)(s)))return I0("Unsupported field value:",r,s),rN(s,r);if(s instanceof Vu)return function(i,o){if(!WD(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const m of i){let b=vc(m,o.Oa(h));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),h++}return{arrayValue:{values:c}}}(s,r)}return function(i,o){if(null===(i=(0,St.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return s_(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Vn.fromDate(i);return{timestampValue:pg(o.N,c)}}if(i instanceof Vn){const c=new Vn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pg(o.N,c)}}if(i instanceof Fg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ta)return{bytesValue:TI(o.N,i._byteString)};if(i instanceof yn){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:gg(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${G_(i)}`)}(s,r)}function rN(s,r){const i={};return aI(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Ql(s,(o,c)=>{const h=vc(c,r.Na(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function Vg(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Vn||s instanceof Fg||s instanceof Ta||s instanceof yn||s instanceof Vu)}function I0(s,r,i){if(!Vg(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=G_(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function XD(s,r,i){if((r=(0,St.m9)(r))instanceof $s)return r._internalPath;if("string"==typeof r)return eS(s,r);throw W_("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const gM=new RegExp("[~\\*/\\[\\]]");function eS(s,r,i){if(r.search(gM)>=0)throw W_(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new $s(...r.split("."))._internalPath}catch(o){throw W_(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function W_(s,r,i,o,c){const h=o&&!o.isEmpty(),m=void 0!==c;let b=`Function ${r}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let T="";return(h||m)&&(T+=" (found",h&&(T+=` in field ${o}`),m&&(T+=` in document ${c}`),T+=")"),new Ne(me.INVALID_ARGUMENT,b+s+T)}function tS(s,r){return s.some(i=>i.isEqual(r))}class Ug{constructor(r,i,o,c,h){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(K_("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class iN extends Ug{data(){return super.data()}}function K_(s,r){return"string"==typeof r?eS(s,r):r instanceof $s?r._internalPath:r._delegate._internalPath}class zh{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Ia extends Ug{constructor(r,i,o,c,h,m){super(r,i,o,c,m),this._firestore=r,this._firestoreImpl=r,this.metadata=h}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new Bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(K_("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Bg extends Ia{data(r={}){return super.data(r)}}class Bu{constructor(r,i,o,c){this._firestore=r,this._userDataWriter=i,this._snapshot=c,this.metadata=new zh(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new Bg(this._firestore,this._userDataWriter,o.key,o,new zh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new Bg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const b=new Bg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let T=-1,A=-1;return 0!==m.type&&(T=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),A=h.indexOf(m.doc.key)),{type:mM(m.type),doc:b,oldIndex:T,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function mM(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function sN(s,r){return s instanceof Ia&&r instanceof Ia?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof Bu&&r instanceof Bu&&s._firestore===r._firestore&&qD(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function nS(s){if(ig(s)&&0===s.explicitOrderBy.length)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}function ju(s,...r){for(const i of r)s=i._apply(s);return s}class oN extends jg{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=Uu(r.firestore),o=function(c,h,m,b,T,A,x){let M;if(T.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){gN(x,A);const $=[];for(const K of x)$.push(oS(b,c,K));M={arrayValue:{values:$}}}else M=oS(b,c,x)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||gN(x,A),M=JD(m,"where",x,"in"===A||"not-in"===A);const U=ri.create(T,A,M);return function($,K){if(K.v()){const Ie=nw($);if(null!==Ie&&!Ie.isEqual(K.field))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${K.field.toString()}'`);const He=sg($);null!==He&&mN(0,K.field,He)}const fe=function(Ie,He){for(const Ye of Ie.filters)if(He.indexOf(Ye.op)>=0)return Ye.op;return null}($,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==fe)throw new Ne(me.INVALID_ARGUMENT,fe===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${fe.toString()}' filters.`)}(c,U),U}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new $r(r.firestore,r.converter,function(c,h){const m=c.filters.concat([h]);return new _a(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(r._query,o))}}class Hs extends jg{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,c,h){if(null!==o.startAt)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new ph(c,h);return function(b,T){if(null===sg(b)){const A=nw(b);null!==A&&mN(0,A,T.field)}}(o,m),m}(r._query,this.Ka,this.Wa);return new $r(r.firestore,r.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new _a(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class rS extends jg{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new $r(r.firestore,r.converter,iw(r._query,this.Ga,this.za))}}class dN extends jg{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=pN(r,this.type,this.Ha,this.Ja);return new $r(r.firestore,r.converter,(c=i,new _a((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class iS extends jg{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=pN(r,this.type,this.Ha,this.Ja);return new $r(r.firestore,r.converter,(c=i,new _a((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function pN(s,r,i,o){if(i[0]=(0,St.m9)(i[0]),i[0]instanceof Ug)return function(c,h,m,b,T){if(!b)throw new Ne(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const A=[];for(const x of Cu(c))if(x.field.isKeyField())A.push(ya(h,b.key));else{const M=b.data.field(x.field);if(Xy(M))throw new Ne(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const U=x.field.canonicalString();throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}A.push(M)}return new fh(A,T)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const c=Uu(s.firestore);return function(h,m,b,T,A,x){const M=h.explicitOrderBy;if(A.length>M.length)throw new Ne(me.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let $=0;$<A.length;$++){const K=A[$];if(M[$].field.isKeyField()){if("string"!=typeof K)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof K}`);if(!rw(h)&&-1!==K.indexOf("/"))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${T}() must be a plain document ID, but '${K}' contains a slash.`);const fe=h.path.child($t.fromString(K));if(!et.isDocumentKey(fe))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${T}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const Ie=new et(fe);U.push(ya(m,Ie))}else{const fe=JD(b,T,K);U.push(fe)}}return new fh(U,x)}(s._query,s.firestore._databaseId,c,r,i,o)}}function oS(s,r,i){if("string"==typeof(i=(0,St.m9)(i))){if(""===i)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(r)&&-1!==i.indexOf("/"))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child($t.fromString(i));if(!et.isDocumentKey(o))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ya(s,new et(o))}if(i instanceof yn)return ya(s,i._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${G_(i)}.`)}function gN(s,r){if(!Array.isArray(s)||0===s.length)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function mN(s,r,i){if(!i.isEqual(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class aS{convertValue(r,i="none"){switch(tc(r)){case 0:return null;case 1:return r.booleanValue;case 2:return ir(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(Qp(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw Xe()}}convertObject(r,i){const o={};return Ql(r.fields,(c,h)=>{o[c]=this.convertValue(h,i)}),o}convertGeoPoint(r){return new Fg(ir(r.latitude),ir(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=Jp(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Xp(r));default:return null}}convertTimestamp(r){const i=Xl(r);return new Vn(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=$t.fromString(r);lt(ls(o));const c=new qh(o.get(1),o.get(3)),h=new et(o.popFirst(5));return c.isEqual(i)||xn(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function Wh(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class yN extends aS{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ta(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new yn(this.firestore,null,i)}}class uS{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Uu(r)}set(r,i,o){this._verifyNotCommitted();const c=$u(r,this._firestore),h=Wh(c.converter,i,o),m=Gh(this._dataReader,"WriteBatch.set",c._key,h,null!==c.converter,o);return this._mutations.push(m.toMutation(c._key,zn.none())),this}update(r,i,o,...c){this._verifyNotCommitted();const h=$u(r,this._firestore);let m;return m="string"==typeof(i=(0,St.m9)(i))||i instanceof $s?QD(this._dataReader,"WriteBatch.update",h._key,i,o,c):Wn(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(m.toMutation(h._key,zn.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=$u(r,this._firestore);return this._mutations=this._mutations.concat(new cg(i._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $u(s,r){if((s=(0,St.m9)(s)).firestore!==r)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Ec extends aS{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ta(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new yn(this.firestore,null,i)}}function cS(s,r,i){s=qt(s,yn);const o=qt(s.firestore,On),c=Wh(s.converter,r,i);return Hu(o,[Gh(Uu(o),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,zn.none())])}function D0(s,r,i,...o){s=qt(s,yn);const c=qt(s.firestore,On),h=Uu(c);let m;return m="string"==typeof(r=(0,St.m9)(r))||r instanceof $s?QD(h,"updateDoc",s._key,r,i,o):Wn(h,"updateDoc",s._key,r),Hu(c,[m.toMutation(s._key,zn.exists(!0))])}function Y_(s,...r){var i,o,c;s=(0,St.m9)(s);let h={includeMetadataChanges:!1},m=0;"object"!=typeof r[m]||Z_(r[m])||(h=r[m],m++);const b={includeMetadataChanges:h.includeMetadataChanges};if(Z_(r[m])){const M=r[m];r[m]=null===(i=M.next)||void 0===i?void 0:i.bind(M),r[m+1]=null===(o=M.error)||void 0===o?void 0:o.bind(M),r[m+2]=null===(c=M.complete)||void 0===c?void 0:c.bind(M)}let T,A,x;if(s instanceof yn)A=qt(s.firestore,On),x=wu(s._key.path),T={next:M=>{r[m]&&r[m](Kh(A,s,M))},error:r[m+1],complete:r[m+2]};else{const M=qt(s,$r);A=qt(M.firestore,On),x=M._query;const U=new Ec(A);T={next:$=>{r[m]&&r[m](new Bu(A,U,M,$))},error:r[m+1],complete:r[m+2]},nS(s._query)}return function(M,U,$,K){const fe=new H_(K),Ie=new B_(U,fe,$);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return L_(yield Hh(M),Ie)})),()=>{fe.Xo(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Jw(yield Hh(M),Ie)}))}}(hr(A),x,b,T)}function Hu(s,r){return function(i,o){const c=new rr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,r,i){return _D.apply(this,arguments)}(yield m0(i),o,c)})),c.promise}(hr(s),r)}function Kh(s,r,i){const o=i.docs.get(r._key),c=new Ec(s);return new Ia(s,c,r._key,o,new zh(i.hasPendingWrites,i.fromCache),r.converter)}class Q_ extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=Uu(r)}get(r){const i=$u(r,this._firestore),o=new yN(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Xe();const h=c[0];if(h.isFoundDocument())return new Ug(this._firestore,o,h.key,h,i.converter);if(h.isNoDocument())return new Ug(this._firestore,o,i._key,null,i.converter);throw Xe()})}set(r,i,o){const c=$u(r,this._firestore),h=Wh(c.converter,i,o),m=Gh(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,o);return this._transaction.set(c._key,m),this}update(r,i,o,...c){const h=$u(r,this._firestore);let m;return m="string"==typeof(i=(0,St.m9)(i))||i instanceof $s?QD(this._dataReader,"Transaction.update",h._key,i,o,c):Wn(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,m),this}delete(r){const i=$u(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=$u(r,this._firestore),o=new Ec(this._firestore);return super.get(r).then(c=>new Ia(this._firestore,o,i._key,c._document,new zh(!1,!1),i.converter))}}function Sr(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function Yh(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function Hg(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){oh=s})(qd.SDK_VERSION),(0,qd._registerComponent)(new Ty.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new On(i,new Yp(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,qd.registerVersion)("@firebase/firestore","3.0.1",void 0);class Qh{constructor(r){this._delegate=r}static fromBase64String(r){return Hg(),new Qh(Ta.fromBase64String(r))}static fromUint8Array(r){return Yh(),new Qh(Ta.fromUint8Array(r))}toBase64(){return Hg(),this._delegate.toBase64()}toUint8Array(){return Yh(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jh(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class mS{enableIndexedDbPersistence(r,i){return function(s,r){ZD(s=qt(s,On));const i=hr(s),o=s._freezeSettings(),c=new MD;return C0(i,c,new $_(c,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){ZD(s=qt(s,On));const r=hr(s),i=s._freezeSettings(),o=new MD;return C0(r,o,new Ux(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new Ne(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new rr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(i=(0,_e.Z)(function*(o){if(!Fo.Pt())return Promise.resolve();const c=o+"main";yield Fo.delete(c)}),function(o){return i.apply(this,arguments)})(Mw(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class qg{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof qh||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&fn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var c;const h=(s=qt(s,Og))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==r&&fn("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},h),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let m,b;if("string"==typeof o.mockUserToken)m=o.mockUserToken,b=wr.MOCK_USER;else{m=(0,St.Sg)(o.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const T=o.mockUserToken.sub||o.mockUserToken.user_id;if(!T)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wr(T)}s._credentials=new CR(new iI(m,b))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,_e.Z)(function*(){const r=yield Di(s),i=yield q_(s);return r.setNetworkEnabled(!0),function(o){const c=je(o);return c.Kr.delete(0),Sg(c)}(i)}))}(hr(s=qt(s,On)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,_e.Z)(function*(){const r=yield Di(s),i=yield q_(s);return r.setNetworkEnabled(!1),(o=(0,_e.Z)(function*(c){const h=je(c);h.Kr.add(0),yield Pu(h),h.Wr.set("Offline")}),function(c){return o.apply(this,arguments)})(i);var o}))}(hr(s=qt(s,On)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,Gx("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new rr;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,r){return wD.apply(this,arguments)}(yield m0(r),i)})),i.promise}(hr(s=qt(s,On)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new H_(r);return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return o=yield Hh(s),c=i,je(o).Zr.add(c),void c.next();var o,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return o=yield Hh(s),c=i,void je(o).Zr.delete(c);var o,c}))}}(hr(s=qt(s,On)),Z_(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Gu(this,HD(this._delegate,r))}catch(i){throw ai(i,"collection()","Firestore.collection()")}}doc(r){try{return new ps(this,Pg(this._delegate,r))}catch(i){throw ai(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new ui(this,function(s,r){if(s=qt(s,Og),E0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $r(s,null,(i=r,new _a($t.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw ai(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new rr;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const o=yield(c=s,$h(c).then(h=>h.datastore));var c;new jx(s.asyncQueue,o,r,i).run()})),i.promise}(hr(s),i=>r(new Q_(s,i)))}(this._delegate,i=>r(new yS(this,i)))}batch(){return hr(this._delegate),new _S(new uS(this._delegate,r=>Hu(this._delegate,r)))}loadBundle(r){return function(s,r){const i=hr(s=qt(s,On)),o=new kg;return function(s,r,i,o){const c=function(h,m){let b;return b="string"==typeof h?(new TextEncoder).encode(h):h,T=function(T,A){if(T instanceof Uint8Array)return Bx(T,A);if(T instanceof ArrayBuffer)return Bx(new Uint8Array(T),A);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new aM(T,m);var T}(i,pc(r));s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(s,r,i){const o=je(s);var c;(c=(0,_e.Z)(function*(h,m,b){try{const T=yield m.getMetadata();if(yield function(U,$){const K=je(U),fe=sr($.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Ie=>K.Je.getBundleMetadata(Ie,$.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(fe)>=0)}(h.localStore,T))return yield m.close(),void b._completeWith((U=T,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));b._updateProgress(hD(T));const A=new Ax(T,h.localStore,m.N);let x=yield m.Qo();for(;x;){const U=yield A.fo(x);U&&b._updateProgress(U),x=yield m.Qo()}const M=yield A.complete();yield Ca(h,M.Tn,void 0),yield function(U,$){const K=je(U);return K.persistence.runTransaction("Save bundle","readwrite",fe=>K.Je.saveBundleMetadata(fe,$))}(h.localStore,T),b._completeWith(M.progress)}catch(T){fn("SyncEngine",`Loading bundle failed with ${T}`),b._failWith(T)}var U}),function(h,m,b){return c.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield m0(s),c,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,_e.Z)(function*(){return function(i,o){const c=je(i);return c.persistence.runTransaction("Get named query","readonly",h=>c.Je.getNamedQuery(h,o))}(yield g0(s),r)}))}(hr(s=qt(s,On)),r).then(i=>i?new $r(s,null,i.query):null)}(this._delegate,r).then(i=>i?new ui(this,i):null)}}class J_ extends aS{constructor(r){super(),this.firestore=r}convertBytes(r){return new Qh(new Ta(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return ps.forKey(i,this.firestore,null)}}class yS{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new J_(r)}get(r){const i=wc(r);return this._delegate.get(i).then(o=>new Sa(this._firestore,new Ia(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const c=wc(r);return o?(Sr("Transaction.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const h=wc(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...c),this}delete(r){const i=wc(r);return this._delegate.delete(i),this}}class _S{constructor(r){this._delegate=r}set(r,i,o){const c=wc(r);return o?(Sr("WriteBatch.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const h=wc(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...c),this}delete(r){const i=wc(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class qu{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new Bg(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new bc(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=qu.INSTANCES;let c=o.get(r);c||(c=new WeakMap,o.set(r,c));let h=c.get(i);return h||(h=new qu(r,new J_(r),i),c.set(i,h)),h}}qu.INSTANCES=new WeakMap;class ps{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new J_(r)}static forPath(r,i,o){if(r.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new ps(i,new yn(i._delegate,o,new et(r)))}static forKey(r,i,o){return new ps(i,new yn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new Gu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Gu(this.firestore,HD(this._delegate,r))}catch(i){throw ai(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,St.m9)(r))instanceof yn&&b0(this._delegate,r)}set(r,i){i=Sr("DocumentReference.set",i);try{return i?cS(this._delegate,r,i):cS(this._delegate,r)}catch(o){throw ai(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?D0(this._delegate,r):D0(this._delegate,r,i,...o)}catch(c){throw ai(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Hu(qt(s.firestore,On),[new cg(s._key,zn.none())])}(this._delegate)}onSnapshot(...r){const i=vS(r),o=Da(r,c=>new Sa(this.firestore,new Ia(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Y_(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=qt(s,yn);const r=qt(s.firestore,On),i=hr(r),o=new Ec(r);return function(s,r){const i=new rr;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(o=(0,_e.Z)(function*(c,h,m){try{const b=yield function(T,A){const x=je(T);return x.persistence.runTransaction("read document","readonly",M=>x.Qn.An(M,A))}(c,h);b.isFoundDocument()?m.resolve(b):b.isNoDocument()?m.resolve(null):m.reject(new Ne(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const T=kh(b,`Failed to get document '${h} from cache`);m.reject(T)}}),function(c,h,m){return o.apply(this,arguments)})(yield g0(s),r,i);var o})),i.promise}(i,s._key).then(c=>new Ia(r,o,s._key,c,new zh(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=qt(s,yn);const r=qt(s.firestore,On);return y0(hr(r),s._key,{source:"server"}).then(i=>Kh(r,s,i))}(this._delegate):function(s){s=qt(s,yn);const r=qt(s.firestore,On);return y0(hr(r),s._key).then(i=>Kh(r,s,i))}(this._delegate),i.then(o=>new Sa(this.firestore,new Ia(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new ps(this.firestore,this._delegate.withConverter(r?qu.getInstance(this.firestore,r):null))}}function ai(s,r,i){return s.message=s.message.replace(r,i),s}function vS(s){for(const r of s)if("object"==typeof r&&!Jh(r))return r;return{}}function Da(s,r){var i,o;let c;return c=Jh(s[0])?s[0]:Jh(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:h=>{c.next&&c.next(r(h))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class Sa{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new ps(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return sN(this._delegate,r._delegate)}}class bc extends Sa{data(r){const i=this._delegate.data(r);return function(s,r){s||Xe()}(void 0!==i),i}}class ui{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new J_(r)}where(r,i,o){try{return new ui(this.firestore,ju(this._delegate,function(s,r,i){const o=r,c=K_("where",s);return new oN(c,o,i)}(r,i,o)))}catch(c){throw ai(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new ui(this.firestore,ju(this._delegate,function(s,r="asc"){const i=r,o=K_("orderBy",s);return new Hs(o,i)}(r,i)))}catch(o){throw ai(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new ui(this.firestore,ju(this._delegate,function(s){return jD("limit",s),new rS("limit",s,"F")}(r)))}catch(i){throw ai(i,"limit()","Query.limit()")}}limitToLast(r){try{return new ui(this.firestore,ju(this._delegate,function(s){return jD("limitToLast",s),new rS("limitToLast",s,"L")}(r)))}catch(i){throw ai(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new ui(this.firestore,ju(this._delegate,function(...s){return new dN("startAt",s,!0)}(...r)))}catch(i){throw ai(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new ui(this.firestore,ju(this._delegate,function(...s){return new dN("startAfter",s,!1)}(...r)))}catch(i){throw ai(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new ui(this.firestore,ju(this._delegate,function(...s){return new iS("endBefore",s,!0)}(...r)))}catch(i){throw ai(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new ui(this.firestore,ju(this._delegate,function(...s){return new iS("endAt",s,!1)}(...r)))}catch(i){throw ai(i,"endAt()","Query.endAt()")}}isEqual(r){return qD(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=qt(s,$r);const r=qt(s.firestore,On),i=hr(r),o=new Ec(r);return function(s,r){const i=new rr;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(o=(0,_e.Z)(function*(c,h,m){try{const b=yield Cg(c,h,!0),T=new Rx(h,b.Gn),A=T.Io(b.documents),x=T.applyChanges(A,!1);m.resolve(x.snapshot)}catch(b){const T=kh(b,`Failed to execute query '${h} against cache`);m.reject(T)}}),function(c,h,m){return o.apply(this,arguments)})(yield g0(s),r,i);var o})),i.promise}(i,s._query).then(c=>new Bu(r,o,s,c))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=qt(s,$r);const r=qt(s.firestore,On),i=hr(r),o=new Ec(r);return LD(i,s._query,{source:"server"}).then(c=>new Bu(r,o,s,c))}(this._delegate):function(s){s=qt(s,$r);const r=qt(s.firestore,On),i=hr(r),o=new Ec(r);return nS(s._query),LD(i,s._query).then(c=>new Bu(r,o,s,c))}(this._delegate),i.then(o=>new x0(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=vS(r),o=Da(r,c=>new x0(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Y_(this._delegate,i,o)}withConverter(r){return new ui(this.firestore,this._delegate.withConverter(r?qu.getInstance(this.firestore,r):null))}}class DN{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class x0{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new ui(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new bc(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new DN(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new bc(this._firestore,o))})}isEqual(r){return sN(this._delegate,r._delegate)}}class Gu extends ui{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new ps(this.firestore,r):null}doc(r){try{return new ps(this.firestore,void 0===r?Pg(this._delegate):Pg(this._delegate,r))}catch(i){throw ai(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=qt(s.firestore,On),o=Pg(s),c=Wh(s.converter,r);return Hu(i,[Gh(Uu(s.firestore),"addDoc",o._key,c,null!==s.converter,{}).toMutation(o._key,zn.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new ps(this.firestore,i))}isEqual(r){return b0(this._delegate,r._delegate)}withConverter(r){return new Gu(this.firestore,this._delegate.withConverter(r?qu.getInstance(this.firestore,r):null))}}function wc(s){return qt(s,yn)}class X_{constructor(...r){this._delegate=new $s(...r)}static documentId(){return new X_(Cr.keyField().canonicalString())}isEqual(r){return(r=(0,St.m9)(r))instanceof $s&&this._delegate._internalPath.isEqual(r._internalPath)}}class Zu{constructor(r){this._delegate=r}static serverTimestamp(){const r=new Zh("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Zu(r)}static delete(){const r=new _c("deleteField");return r._methodName="FieldValue.delete",new Zu(r)}static arrayUnion(...r){const i=function(...s){return new nN("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Zu(i)}static arrayRemove(...r){const i=function(...s){return new T0("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Zu(i)}static increment(r){const i=function(s){return new YD("increment",s)}(r);return i._methodName="FieldValue.increment",new Zu(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const SN={Firestore:qg,GeoPoint:Fg,Timestamp:Vn,Blob:Qh,Transaction:yS,WriteBatch:_S,DocumentReference:ps,DocumentSnapshot:Sa,Query:ui,QueryDocumentSnapshot:bc,QuerySnapshot:x0,CollectionReference:Gu,FieldPath:X_,FieldValue:Zu,setLogLevel:function(s){!function(s){bu.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function Xh(s,r){return function(s,r=Io.z){return new Pr.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function tf(s,r){return Xh(s,r).pipe((0,ht.U)(i=>({payload:i,type:"query"})))}function Ra(s,r){return tf(s,r).pipe(wy(void 0),Cy(),(0,ht.U)(([i,o])=>{const c=o.payload.docChanges(),h=c.map(m=>({type:m.type,payload:m}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,b)=>{const T=c.find(x=>x.doc.ref.isEqual(m.ref)),A=null==i?void 0:i.payload.docs.find(x=>x.ref.isEqual(m.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(m.metadata)||!T&&A&&JSON.stringify(A.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:m}})}),h}))}function ES(s,r,i){return Ra(s,i).pipe(Hd((o,c)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return N0(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return N0(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return N0(s,r.oldIndex,1)}return s}(s,o))}),s}(o,c.map(h=>h.payload),r),[]),i=>i.lift(new HE(void 0,void 0)),(0,ht.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function N0(s,r,i,...o){const c=s.slice();return c.splice(r,i,...o),c}function M0(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}!function(s){(function(s,r){s.INTERNAL.registerComponent(new Ty.wA("firestore-compat",i=>((r,i)=>new qg(r,i,new mS))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},SN)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(qE.Z);class O0{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=Ra(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,ht.U)(o=>o.filter(c=>r.indexOf(c.type)>-1)))),i.pipe(wy(void 0),Cy(),fa(([o,c])=>c.length>0||!o),(0,ht.U)(([o,c])=>c),Sn.iC)}auditTrail(r){return this.stateChanges(r).pipe(Hd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=M0(r);return ES(this.query,i,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(r={}){return tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),Sn.iC)}get(r){return(0,Jt.D)(this.query.get(r)).pipe(Sn.f6)}add(r){return this.ref.add(r)}doc(r){return new P0(this.ref.doc(r),this.afs)}}class P0{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:c,query:h}=ev(o,i);return new O0(c,h,this.afs)}snapshotChanges(){return function(s,r){return Xh(s,r).pipe(wy(void 0),Cy(),(0,ht.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,Jt.D)(this.ref.get(r)).pipe((0,Bd.QV)(this.afs.schedulers.insideAngular))}}class k0{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?Ra(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),fa(i=>i.length>0),Sn.iC):Ra(this.query,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}auditTrail(r){return this.stateChanges(r).pipe(Hd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=M0(r);return ES(this.query,i,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(r={}){return tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(o=>o.payload.docs.map(c=>r.idField?Object.assign({[r.idField]:c.id},c.data()):c.data())),Sn.iC)}get(r){return(0,Jt.D)(this.query.get(r)).pipe(Sn.f6)}}const wS=new g.OlP("angularfire2.enableFirestorePersistence"),CS=new g.OlP("angularfire2.firestore.persistenceSettings"),TS=new g.OlP("angularfire2.firestore.settings"),Cc=new g.OlP("angularfire2.firestore.use-emulator");function ev(s,r=(i=>i)){return{query:r(s),ref:s}}let Gg=(()=>{class s{constructor(i,o,c,h,m,b,T,A,x,M,U,$,K,fe,Ie,He){this.schedulers=T;const Ye=(0,Qi.on)(i,b,o),qe=x;M&&Yt(Ye,b,U,K,fe,Ie,$,He),[this.firestore,this.persistenceEnabled$]=(0,Sn.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const ze=b.runOutsideAngular(()=>Ye.firestore());if(h&&ze.settings(h),qe&&ze.useEmulator(...qe),c&&!Pc(m)){const nn=()=>{try{return(0,Jt.D)(ze.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Qn){return"undefined"!=typeof console&&console.warn(Qn),(0,ot.of)(!1)}};return[ze,b.runOutsideAngular(nn)]}return[ze,(0,ot.of)(!1)]},[h,qe,c])}collection(i,o){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:h,query:m}=ev(c,o),b=this.schedulers.ngZone.run(()=>h);return new O0(b,m,this)}collectionGroup(i,o){const c=o||(m=>m),h=this.firestore.collectionGroup(i);return new k0(c(h),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>o);return new P0(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Qi.Dh),g.LFG(Qi.xv,8),g.LFG(wS,8),g.LFG(TS,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sn.HU),g.LFG(CS,8),g.LFG(Cc,8),g.LFG(jd,8),g.LFG(aT,8),g.LFG(uT,8),g.LFG(lT,8),g.LFG(zA,8),g.LFG(cT,8),g.LFG(jE,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),NN=(()=>{class s{constructor(){Bl.Z.registerVersion("angularfire",Sn.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:wS,useValue:!0},{provide:CS,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[Gg]}),s})();class Vo extends tr.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new VA.N;return this._value}next(r){super.next(this._value=r)}}class EM extends ei.L{notifyNext(r,i,o,c,h){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class bM extends ei.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var wM=F(7444);function MN(s,r,i,o,c=new bM(s,i,o)){if(!c.closed)return r instanceof Pr.y?r.subscribe(c):(0,wM.s)(r)(c)}var ON=F(6693);const PN={};class TM{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new IM(r,this.resultSelector))}}class IM extends EM{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(PN),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(MN(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const c=this.values,m=this.toRespond?c[o]===PN?--this.toRespond:this.toRespond:0;c[o]=i,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}function IS(s){return new Pr.y(r=>{let i;try{i=s()}catch(c){return void r.error(c)}return(i?(0,Jt.D)(i):(0,Xi.c)()).subscribe(r)})}var DM=F(2441);function nf(s){return function(i){const o=new SM(s),c=i.lift(o);return o.caught=c}}class SM{constructor(r){this.selector=r}call(r,i){return i.subscribe(new AM(r,this.selector,this.caught))}}class AM extends au.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new au.IY(this);this.add(o);const c=(0,au.ft)(i,o);c!==o&&this.add(c)}}}var a=F(9773);function u(s,r){return(0,a.zg)(s,r,1)}function l(s){return function(i){return 0===s?(0,Xi.c)():i.lift(new d(s))}}class d{constructor(r){if(this.total=r,this.total<0)throw new PE}call(r,i){return i.subscribe(new f(r,this.total))}}class f extends ei.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,c=this.count++;i.length<o?i.push(r):i[c%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,c=this.ring;for(let h=0;h<o;h++){const m=i++%o;r.next(c[m])}}r.complete()}}var v=F(3342),w=F(1307);class S{constructor(r){this.callback=r}call(r,i){return i.subscribe(new R(r,this.callback))}}class R extends ei.L{constructor(r,i){super(r),this.add(new by.w(i))}}class O{constructor(r,i){this.id=r,this.url=i}}class k extends O{constructor(r,i,o="imperative",c=null){super(r,i),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class B extends O{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class z extends O{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ae extends O{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ee extends O{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends O{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends O{constructor(r,i,o,c,h){super(r,i),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rt extends O{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends O{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kn{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gs{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zg{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rf{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tc{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class F0{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function zu(s){return new F0(s)}const tv="ngNavigationCancelingError";function zg(s){const r=Error("NavigationCancelingError: "+s);return r[tv]=!0,r}function dP(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const c={};for(let h=0;h<o.length;h++){const m=o[h],b=s[h];if(m.startsWith(":"))c[m.substring(1)]=b;else if(m!==b.path)return null}return{consumed:s.slice(0,o.length),posParams:c}}function Wu(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let c;for(let h=0;h<i.length;h++)if(c=i[h],!RM(s[c],r[c]))return!1;return!0}function RM(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((c,h)=>o[h]===c)}return s===r}function xM(s){return Array.prototype.concat.apply([],s)}function NM(s){return s.length>0?s[s.length-1]:null}function li(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function Ku(s){return(0,g.CqO)(s)?s:(0,g.QGY)(s)?(0,Jt.D)(Promise.resolve(s)):(0,ot.of)(s)}const pP={exact:function PM(s,r,i){if(!Kg(s.segments,r.segments)||!DS(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!PM(s.children[o],r.children[o],i))return!1;return!0},subset:kM},MM={exact:function(s,r){return Wu(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>RM(s[i],r[i]))},ignored:()=>!0};function OM(s,r,i){return pP[i.paths](s.root,r.root,i.matrixParams)&&MM[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function kM(s,r,i){return FM(s,r,r.segments,i)}function FM(s,r,i,o){if(s.segments.length>i.length){const c=s.segments.slice(0,i.length);return!(!Kg(c,i)||r.hasChildren()||!DS(c,i,o))}if(s.segments.length===i.length){if(!Kg(s.segments,i)||!DS(s.segments,i,o))return!1;for(const c in r.children)if(!s.children[c]||!kM(s.children[c],r.children[c],o))return!1;return!0}{const c=i.slice(0,s.segments.length),h=i.slice(s.segments.length);return!!(Kg(s.segments,c)&&DS(s.segments,c,o)&&s.children[xt])&&FM(s.children[xt],r,h,o)}}function DS(s,r,i){return r.every((o,c)=>MM[i](s[c].parameters,o.parameters))}class Wg{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return vP.serialize(this)}}class Bt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,li(i,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return SS(this)}}class L0{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=zu(this.parameters)),this._parameterMap}toString(){return BM(this)}}function Kg(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class kN{}class LM{parse(r){const i=new AP(r);return new Wg(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){return`${`/${V0(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(c=>`${AS(i)}=${AS(c)}`).join("&"):`${AS(i)}=${AS(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${function(s){return encodeURI(s)}(r.fragment)}`:""}`}}const vP=new LM;function SS(s){return s.segments.map(r=>BM(r)).join("/")}function V0(s,r){if(!s.hasChildren())return SS(s);if(r){const i=s.children[xt]?V0(s.children[xt],!1):"",o=[];return li(s.children,(c,h)=>{h!==xt&&o.push(`${h}:${V0(c,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return li(s.children,(o,c)=>{c===xt&&(i=i.concat(r(o,c)))}),li(s.children,(o,c)=>{c!==xt&&(i=i.concat(r(o,c)))}),i}(s,(o,c)=>c===xt?[V0(s.children[xt],!1)]:[`${c}:${V0(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[xt]?`${SS(s)}/${i[0]}`:`${SS(s)}/(${i.join("//")})`}}function VM(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function AS(s){return VM(s).replace(/%3B/gi,";")}function FN(s){return VM(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RS(s){return decodeURIComponent(s)}function UM(s){return RS(s.replace(/\+/g,"%20"))}function BM(s){return`${FN(s.path)}${function(s){return Object.keys(s).map(r=>`;${FN(r)}=${FN(s[r])}`).join("")}(s.parameters)}`}const CP=/^[^\/()?;=#]+/;function xS(s){const r=s.match(CP);return r?r[0]:""}const TP=/^[^=?&#]+/,DP=/^[^?&#]+/;class AP{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[xt]=new Bt(r,i)),o}parseSegment(){const r=xS(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new L0(RS(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=xS(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const c=xS(this.remaining);c&&(o=c,this.capture(o))}r[RS(i)]=RS(o)}parseQueryParam(r){const i=function(s){const r=s.match(TP);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const m=function(s){const r=s.match(DP);return r?r[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const c=UM(i),h=UM(o);if(r.hasOwnProperty(c)){let m=r[c];Array.isArray(m)||(m=[m],r[c]=m),m.push(h)}else r[c]=h}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=xS(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=xt);const m=this.parseChildren();i[h]=1===Object.keys(m).length?m[xt]:new Bt([],m),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class jM{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=LN(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=LN(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=VN(r,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return VN(r,this._root).map(i=>i.value)}}function LN(s,r){if(s===r.value)return r;for(const i of r.children){const o=LN(s,i);if(o)return o}return null}function VN(s,r){if(s===r.value)return[r];for(const i of r.children){const o=VN(s,i);if(o.length)return o.unshift(r),o}return[]}class Ic{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function U0(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class $M extends jM{constructor(r,i){super(r),this.snapshot=i,UN(this,r)}toString(){return this.snapshot.toString()}}function HM(s,r){const i=function(s,r){const m=new NS([],{},{},"",{},xt,r,null,s.root,-1,{});return new GM("",new Ic(m,[]))}(s,r),o=new Vo([new L0("",{})]),c=new Vo({}),h=new Vo({}),m=new Vo({}),b=new Vo(""),T=new nv(o,c,m,b,h,xt,r,i.root);return T.snapshot=i.root,new $M(new Ic(T,[]),i)}class nv{constructor(r,i,o,c,h,m,b,T){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=m,this.component=b,this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(r=>zu(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(r=>zu(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qM(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const c=i[o],h=i[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(h.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class NS{constructor(r,i,o,c,h,m,b,T,A,x,M){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=m,this.component=b,this.routeConfig=T,this._urlSegment=A,this._lastPathIndex=x,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GM extends jM{constructor(r,i){super(i),this.url=r,UN(this,i)}toString(){return ZM(this._root)}}function UN(s,r){r.value._routerState=s,r.children.forEach(i=>UN(s,i))}function ZM(s){const r=s.children.length>0?` { ${s.children.map(ZM).join(", ")} } `:"";return`${s.value}${r}`}function BN(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,Wu(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),Wu(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!Wu(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),Wu(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function jN(s,r){return Wu(s.params,r.params)&&function(s,r){return Kg(s,r)&&s.every((i,o)=>Wu(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||jN(s.parent,r.parent))}function MS(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const c=function(s,r,i){return r.children.map(o=>{for(const c of i.children)if(s.shouldReuseRoute(o.value,c.value.snapshot))return MS(s,o,c);return MS(s,o)})}(s,r,i);return new Ic(o,c)}{if(s.shouldAttach(r.value)){const h=s.retrieve(r.value);if(null!==h){const m=h.route;return zM(r,m),m}}const o=function(s){return new nv(new Vo(s.url),new Vo(s.params),new Vo(s.queryParams),new Vo(s.fragment),new Vo(s.data),s.outlet,s.component,s)}(r.value),c=r.children.map(h=>MS(s,h));return new Ic(o,c)}}function zM(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)zM(s.children[i],r.children[i])}function OS(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function B0(s){return"object"==typeof s&&null!=s&&s.outlets}function $N(s,r,i,o,c){let h={};return o&&li(o,(m,b)=>{h[b]=Array.isArray(m)?m.map(T=>`${T}`):`${m}`}),new Wg(i.root===s?r:WM(i.root,s,r),h,c)}function WM(s,r,i){const o={};return li(s.children,(c,h)=>{o[h]=c===r?i:WM(c,r,i)}),new Bt(s.segments,o)}class KM{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&OS(o[0]))throw new Error("Root segment cannot have matrix parameters");const c=o.find(B0);if(c&&c!==NM(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HN{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function YM(s,r,i){if(s||(s=new Bt([],{})),0===s.segments.length&&s.hasChildren())return PS(s,r,i);const o=function(s,r,i){let o=0,c=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<s.segments.length;){if(o>=i.length)return h;const m=s.segments[c],b=i[o];if(B0(b))break;const T=`${b}`,A=o<i.length-1?i[o+1]:null;if(c>0&&void 0===T)break;if(T&&A&&"object"==typeof A&&void 0===A.outlets){if(!JM(T,A,m))return h;o+=2}else{if(!JM(T,{},m))return h;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(s,r,i),c=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const h=new Bt(s.segments.slice(0,o.pathIndex),{});return h.children[xt]=new Bt(s.segments.slice(o.pathIndex),s.children),PS(h,0,c)}return o.match&&0===c.length?new Bt(s.segments,{}):o.match&&!s.hasChildren()?qN(s,r,i):o.match?PS(s,0,c):qN(s,r,i)}function PS(s,r,i){if(0===i.length)return new Bt(s.segments,{});{const o=function(s){return B0(s[0])?s[0].outlets:{[xt]:s}}(i),c={};return li(o,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[m]=YM(s.children[m],r,h))}),li(s.children,(h,m)=>{void 0===o[m]&&(c[m]=h)}),new Bt(s.segments,c)}}function qN(s,r,i){const o=s.segments.slice(0,r);let c=0;for(;c<i.length;){const h=i[c];if(B0(h)){const T=BP(h.outlets);return new Bt(o,T)}if(0===c&&OS(i[0])){o.push(new L0(s.segments[r].path,QM(i[0]))),c++;continue}const m=B0(h)?h.outlets[xt]:`${h}`,b=c<i.length-1?i[c+1]:null;m&&b&&OS(b)?(o.push(new L0(m,QM(b))),c+=2):(o.push(new L0(m,{})),c++)}return new Bt(o,{})}function BP(s){const r={};return li(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=qN(new Bt([],{}),0,i))}),r}function QM(s){const r={};return li(s,(i,o)=>r[o]=`${i}`),r}function JM(s,r,i){return s==i.path&&Wu(r,i.parameters)}class $P{constructor(r,i,o,c){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=c}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),BN(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const c=U0(i);r.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,c[m],o),delete c[m]}),li(c,(h,m)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(r,i,o){const c=r.value,h=i?i.value:null;if(c===h)if(c.component){const m=o.getContext(c.outlet);m&&this.deactivateChildRoutes(r,i,m.children)}else this.deactivateChildRoutes(r,i,o);else h&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const c=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:h})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),c=o&&r.value.component?o.children:i,h=U0(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const c=U0(i);r.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],o),this.forwardEvent(new sf(h.value.snapshot))}),r.children.length&&this.forwardEvent(new Zg(r.value.snapshot))}activateRoutes(r,i,o){const c=r.value,h=i?i.value:null;if(BN(c),c===h)if(c.component){const m=o.getOrCreateContext(c.outlet);this.activateChildRoutes(r,i,m.children)}else this.activateChildRoutes(r,i,o);else if(c.component){const m=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const b=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(b.contexts),m.attachRef=b.componentRef,m.route=b.route.value,m.outlet&&m.outlet.attach(b.componentRef,b.route.value),XM(b.route)}else{const b=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),T=b?b.module.componentFactoryResolver:null;m.attachRef=null,m.route=c,m.resolver=T,m.outlet&&m.outlet.activateWith(c,T),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,o)}}function XM(s){BN(s.value),s.children.forEach(XM)}class GN{constructor(r,i){this.routes=r,this.module=i}}function of(s){return"function"==typeof s}function Yg(s){return s instanceof Wg}const j0=Symbol("INITIAL_VALUE");function $0(){return Zn(s=>function(...s){let r,i;return(0,hT.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,Ff.k)(s[0])&&(s=s[0]),(0,ON.n)(s,i).lift(new TM(r))}(s.map(r=>r.pipe(Ul(1),wy(j0)))).pipe(Hd((r,i)=>{let o=!1;return i.reduce((c,h,m)=>c!==j0?c:(h===j0&&(o=!0),o||!1!==h&&m!==i.length-1&&!Yg(h)?c:h),r)},j0),fa(r=>r!==j0),(0,ht.U)(r=>Yg(r)?r:!0===r),Ul(1)))}let eO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&g._UZ(0,"router-outlet")},directives:function(){return[QN]},encapsulation:2}),s})();function tO(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];KP(o,YP(r,o))}}function KP(s,r){s.children&&tO(s.children,r)}function YP(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function ZN(s){const r=s.children&&s.children.map(ZN),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==xt&&(i.component=eO),i}function Uo(s){return s.outlet||xt}function nO(s,r){const i=s.filter(o=>Uo(o)===r);return i.push(...s.filter(o=>Uo(o)!==r)),i}const rO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function kS(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},rO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(r.matcher||dP)(i,s,r);if(!h)return Object.assign({},rO);const m={};li(h.posParams,(T,A)=>{m[A]=T.path});const b=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:b,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function FS(s,r,i,o,c="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>LS(s,r,o)&&Uo(o)!==xt)}(s,i,o)){const m=new Bt(r,function(s,r,i,o){const c={};c[xt]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const h of i)if(""===h.path&&Uo(h)!==xt){const m=new Bt([],{});m._sourceSegment=s,m._segmentIndexShift=r.length,c[Uo(h)]=m}return c}(s,r,o,new Bt(i,s.children)));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>LS(s,r,o))}(s,i,o)){const m=new Bt(s.segments,function(s,r,i,o,c,h){const m={};for(const b of o)if(LS(s,i,b)&&!c[Uo(b)]){const T=new Bt([],{});T._sourceSegment=s,T._segmentIndexShift="legacy"===h?s.segments.length:r.length,m[Uo(b)]=T}return Object.assign(Object.assign({},c),m)}(s,r,i,o,s.children,c));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:i}}const h=new Bt(s.segments,s.children);return h._sourceSegment=s,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:i}}function LS(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function iO(s,r,i,o){return!!(Uo(s)===o||o!==xt&&LS(r,i,s))&&("**"===s.path||kS(r,s,i).matched)}function sO(s,r,i){return 0===r.length&&!s.children[i]}class H0{constructor(r){this.segmentGroup=r||null}}class oO{constructor(r){this.urlTree=r}}function VS(s){return new Pr.y(r=>r.error(new H0(s)))}function aO(s){return new Pr.y(r=>r.error(new oO(s)))}function tk(s){return new Pr.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class ik{constructor(r,i,o,c,h){this.configLoader=i,this.urlSerializer=o,this.urlTree=c,this.config=h,this.allowRedirects=!0,this.ngModule=r.get(g.h0i)}apply(){const r=FS(this.urlTree.root,[],[],this.config).segmentGroup,i=new Bt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,xt).pipe((0,ht.U)(h=>this.createUrlTree(zN(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nf(h=>{if(h instanceof oO)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof H0?this.noMatchError(h):h}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,xt).pipe((0,ht.U)(c=>this.createUrlTree(zN(c),r.queryParams,r.fragment))).pipe(nf(c=>{throw c instanceof H0?this.noMatchError(c):c}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const c=r.segments.length>0?new Bt([],{[xt]:r}):r;return new Wg(c,i,o)}expandSegmentGroup(r,i,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,ht.U)(h=>new Bt([],h))):this.expandSegment(r,o,i,o.segments,c,!0)}expandChildren(r,i,o){const c=[];for(const h of Object.keys(o.children))"primary"===h?c.unshift(h):c.push(h);return(0,Jt.D)(c).pipe(u(h=>{const m=o.children[h],b=nO(i,h);return this.expandSegmentGroup(r,b,m,h).pipe((0,ht.U)(T=>({segment:T,outlet:h})))}),Hd((h,m)=>(h[m.outlet]=m.segment,h),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?fa((c,h)=>s(c,h,o)):VE.y,l(1),i?FE(r):oT(()=>new Ji))}())}expandSegment(r,i,o,c,h,m){return(0,Jt.D)(o).pipe(u(b=>this.expandSegmentAgainstRoute(r,i,o,b,c,h,m).pipe(nf(A=>{if(A instanceof H0)return(0,ot.of)(null);throw A}))),es(b=>!!b),nf((b,T)=>{if(b instanceof Ji||"EmptyError"===b.name){if(sO(i,c,h))return(0,ot.of)(new Bt([],{}));throw new H0(i)}throw b}))}expandSegmentAgainstRoute(r,i,o,c,h,m,b){return iO(c,i,h,m)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,i,c,h,m):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m):VS(i):VS(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,c){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?aO(h):this.lineralizeSegments(o,h).pipe((0,a.zg)(m=>{const b=new Bt(m,{});return this.expandSegment(r,b,i,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m){const{matched:b,consumedSegments:T,lastChild:A,positionalParamSegments:x}=kS(i,c,h);if(!b)return VS(i);const M=this.applyRedirectCommands(T,c.redirectTo,x);return c.redirectTo.startsWith("/")?aO(M):this.lineralizeSegments(c,M).pipe((0,a.zg)(U=>this.expandSegment(r,i,o,U.concat(h.slice(A)),m,!1)))}matchSegmentAgainstRoute(r,i,o,c,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,ot.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,ht.U)(U=>(o._loadedConfig=U,new Bt(c,{})))):(0,ot.of)(new Bt(c,{}));const{matched:m,consumedSegments:b,lastChild:T}=kS(i,o,c);if(!m)return VS(i);const A=c.slice(T);return this.getChildConfig(r,o,c).pipe((0,a.zg)(M=>{const U=M.module,$=M.routes,{segmentGroup:K,slicedSegments:fe}=FS(i,b,A,$),Ie=new Bt(K.segments,K.children);if(0===fe.length&&Ie.hasChildren())return this.expandChildren(U,$,Ie).pipe((0,ht.U)(ze=>new Bt(b,ze)));if(0===$.length&&0===fe.length)return(0,ot.of)(new Bt(b,{}));const He=Uo(o)===h;return this.expandSegment(U,Ie,$,fe,He?xt:h,!0).pipe((0,ht.U)(qe=>new Bt(b.concat(qe.segments),qe.children)))}))}getChildConfig(r,i,o){return i.children?(0,ot.of)(new GN(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,ot.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,a.zg)(c=>c?this.configLoader.load(r.injector,i).pipe((0,ht.U)(h=>(i._loadedConfig=h,h))):function(s){return new Pr.y(r=>r.error(zg(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`)))}(i))):(0,ot.of)(new GN([],r))}runCanLoadGuards(r,i,o){const c=i.canLoad;if(!c||0===c.length)return(0,ot.of)(!0);const h=c.map(m=>{const b=r.get(m);let T;if(function(s){return s&&of(s.canLoad)}(b))T=b.canLoad(i,o);else{if(!of(b))throw new Error("Invalid CanLoad guard");T=b(i,o)}return Ku(T)});return(0,ot.of)(h).pipe($0(),(0,v.b)(m=>{if(!Yg(m))return;const b=zg(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw b.url=m,b}),(0,ht.U)(m=>!0===m))}lineralizeSegments(r,i){let o=[],c=i.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return(0,ot.of)(o);if(c.numberOfChildren>1||!c.children[xt])return tk(r.redirectTo);c=c.children[xt]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,c){const h=this.createSegmentGroup(r,i.root,o,c);return new Wg(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return li(r,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const b=c.substring(1);o[h]=i[b]}else o[h]=c}),o}createSegmentGroup(r,i,o,c){const h=this.createSegments(r,i.segments,o,c);let m={};return li(i.children,(b,T)=>{m[T]=this.createSegmentGroup(r,b,o,c)}),new Bt(h,m)}createSegments(r,i,o,c){return i.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,c):this.findOrReturn(h,o))}findPosParam(r,i,o){const c=o[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return c}findOrReturn(r,i){let o=0;for(const c of i){if(c.path===r.path)return i.splice(o),c;o++}return r}}function zN(s){const r={};for(const o of Object.keys(s.children)){const h=zN(s.children[o]);(h.segments.length>0||h.hasChildren())&&(r[o]=h)}return function(s){if(1===s.numberOfChildren&&s.children[xt]){const r=s.children[xt];return new Bt(s.segments.concat(r.segments),r.children)}return s}(new Bt(s.segments,r))}class uO{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class US{constructor(r,i){this.component=r,this.route=i}}function ak(s,r,i){const o=s._root;return q0(o,r?r._root:null,i,[o.value])}function BS(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function q0(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=U0(r);return s.children.forEach(m=>{(function(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=s.value,m=r?r.value:null,b=i?i.getContext(s.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const T=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!Kg(s.url,r.url);case"pathParamsOrQueryParamsChange":return!Kg(s.url,r.url)||!Wu(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jN(s,r)||!Wu(s.queryParams,r.queryParams);case"paramsChange":default:return!jN(s,r)}}(m,h,h.routeConfig.runGuardsAndResolvers);T?c.canActivateChecks.push(new uO(o)):(h.data=m.data,h._resolvedData=m._resolvedData),q0(s,r,h.component?b?b.children:null:i,o,c),T&&b&&b.outlet&&b.outlet.isActivated&&c.canDeactivateChecks.push(new US(b.outlet.component,m))}else m&&G0(r,b,c),c.canActivateChecks.push(new uO(o)),q0(s,null,h.component?b?b.children:null:i,o,c)})(m,h[m.value.outlet],i,o.concat([m.value]),c),delete h[m.value.outlet]}),li(h,(m,b)=>G0(m,i.getContext(b),c)),c}function G0(s,r,i){const o=U0(s),c=s.value;li(o,(h,m)=>{G0(h,c.component?r?r.children.getContext(m):null:r,i)}),i.canDeactivateChecks.push(new US(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}class Ek{}function lO(s){return new Pr.y(r=>r.error(s))}class wk{constructor(r,i,o,c,h,m){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const r=FS(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,xt);if(null===i)return null;const o=new NS([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Ic(o,i),h=new GM(this.url,c);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(r){const i=r.value,o=qM(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const h of Object.keys(i.children)){const m=i.children[h],b=nO(r,h),T=this.processSegmentGroup(b,m,h);if(null===T)return null;o.push(...T)}const c=cO(o);return function(s){s.sort((r,i)=>r.value.outlet===xt?-1:i.value.outlet===xt?1:r.value.outlet.localeCompare(i.value.outlet))}(c),c}processSegment(r,i,o,c){for(const h of r){const m=this.processSegmentAgainstRoute(h,i,o,c);if(null!==m)return m}return sO(i,o,c)?[]:null}processSegmentAgainstRoute(r,i,o,c){if(r.redirectTo||!iO(r,i,o,c))return null;let h,m=[],b=[];if("**"===r.path){const $=o.length>0?NM(o).parameters:{};h=new NS(o,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fO(r),Uo(r),r.component,r,dO(i),hO(i)+o.length,pO(r))}else{const $=kS(i,r,o);if(!$.matched)return null;m=$.consumedSegments,b=o.slice($.lastChild),h=new NS(m,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fO(r),Uo(r),r.component,r,dO(i),hO(i)+m.length,pO(r))}const T=function(s){return s.children?s.children:s.loadChildren?s._loadedConfig.routes:[]}(r),{segmentGroup:A,slicedSegments:x}=FS(i,m,b,T.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===x.length&&A.hasChildren()){const $=this.processChildren(T,A);return null===$?null:[new Ic(h,$)]}if(0===T.length&&0===x.length)return[new Ic(h,[])];const M=Uo(r)===c,U=this.processSegment(T,A,x,M?xt:c);return null===U?null:[new Ic(h,U)]}}function Ik(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function cO(s){const r=[],i=new Set;for(const o of s){if(!Ik(o)){r.push(o);continue}const c=r.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...o.children),i.add(c)):r.push(o)}for(const o of i){const c=cO(o.children);r.push(new Ic(o.value,c))}return r.filter(o=>!i.has(o))}function dO(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function hO(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function fO(s){return s.data||{}}function pO(s){return s.resolve||{}}function WN(s){return Zn(r=>{const i=s(r);return i?(0,Jt.D)(i).pipe((0,ht.U)(()=>r)):(0,ot.of)(r)})}class Ok extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const KN=new g.OlP("ROUTES");class gO{constructor(r,i,o,c){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=c}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,ht.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);const m=h.create(r);return new GN(xM(m.injector.get(KN,void 0,g.XFs.Self|g.XFs.Optional)).map(ZN),m)}),nf(h=>{throw i._loader$=void 0,h}));return i._loader$=new DM.c(c,()=>new tr.xQ).pipe((0,w.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Jt.D)(this.loader.load(r)):Ku(r()).pipe((0,a.zg)(i=>i instanceof g.YKP?(0,ot.of)(i):(0,Jt.D)(this.compiler.compileModuleAsync(i))))}}class Pk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rv,this.attachRef=null}}class rv{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pk,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class Fk{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function Lk(s){throw s}function Vk(s,r,i){return r.parse("/")}function mO(s,r){return(0,ot.of)(null)}const Uk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class s{constructor(i,o,c,h,m,b,T,A){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=c,this.location=h,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tr.xQ,this.errorHandler=Lk,this.malformedUriErrorHandler=Vk,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mO,afterPreactivation:mO},this.urlHandlingStrategy=new Fk,this.routeReuseStrategy=new Ok,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(g.h0i),this.console=m.get(g.c2e);const U=m.get(g.R0b);this.isNgZoneEnabled=U instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new Wg(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gO(b,T,$=>this.triggerEvent(new Mt($)),$=>this.triggerEvent(new Kn($))),this.routerState=HM(this.currentUrlTree,this.rootComponentType),this.transitions=new Vo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(fa(c=>0!==c.id),(0,ht.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Zn(c=>{let h=!1,m=!1;return(0,ot.of)(c).pipe((0,v.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zn(b=>{const T=!this.navigated||b.extractedUrl.toString()!==this.browserUrlTree.toString(),A=("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl);if(jS(b.source)&&(this.browserUrlTree=b.rawUrl),A)return(0,ot.of)(b).pipe(Zn(x=>{const M=this.transitions.getValue();return o.next(new k(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),M!==this.transitions.getValue()?Xi.E:Promise.resolve(x)}),function(s,r,i,o){return Zn(c=>function(s,r,i,o,c){return new ik(s,r,i,o,c).apply()}(s,r,i,c.extractedUrl,o).pipe((0,ht.U)(h=>Object.assign(Object.assign({},c),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,v.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(s,r,i,o,c){return(0,a.zg)(h=>function(s,r,i,o,c="emptyOnly",h="legacy"){try{const m=new wk(s,r,i,o,c,h).recognize();return null===m?lO(new Ek):(0,ot.of)(m)}catch(m){return lO(m)}}(s,r,h.urlAfterRedirects,i(h.urlAfterRedirects),o,c).pipe((0,ht.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,v.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const M=new ee(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(M)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:U,source:$,restoredState:K,extras:fe}=b,Ie=new k(M,this.serializeUrl(U),$,K);o.next(Ie);const He=HM(U,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},b),{targetSnapshot:He,urlAfterRedirects:U,extras:Object.assign(Object.assign({},fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,this.browserUrlTree=b.urlAfterRedirects,b.resolve(null),Xi.E}),WN(b=>{const{targetSnapshot:T,id:A,extractedUrl:x,rawUrl:M,extras:{skipLocationChange:U,replaceUrl:$}}=b;return this.hooks.beforePreactivation(T,{navigationId:A,appliedUrlTree:x,rawUrlTree:M,skipLocationChange:!!U,replaceUrl:!!$})}),(0,v.b)(b=>{const T=new Oe(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),(0,ht.U)(b=>Object.assign(Object.assign({},b),{guards:ak(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function(s,r){return(0,a.zg)(i=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:m}}=i;return 0===m.length&&0===h.length?(0,ot.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,Jt.D)(s).pipe((0,a.zg)(c=>function(s,r,i,o,c){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,ot.of)(!0);const m=h.map(b=>{const T=BS(b,r,c);let A;if(function(s){return s&&of(s.canDeactivate)}(T))A=Ku(T.canDeactivate(s,r,i,o));else{if(!of(T))throw new Error("Invalid CanDeactivate guard");A=Ku(T(s,r,i,o))}return A.pipe(es())});return(0,ot.of)(m).pipe($0())}(c.component,c.route,i,r,o)),es(c=>!0!==c,!0))}(m,o,c,s).pipe((0,a.zg)(b=>b&&function(s){return"boolean"==typeof s}(b)?function(s,r,i,o){return(0,Jt.D)(r).pipe(u(c=>dT(function(s,r){return null!==s&&r&&r(new gs(s)),(0,ot.of)(!0)}(c.route.parent,o),function(s,r){return null!==s&&r&&r(new rf(s)),(0,ot.of)(!0)}(c.route,o),function(s,r,i){const o=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(m=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(m)).filter(m=>null!==m).map(m=>IS(()=>{const b=m.guards.map(T=>{const A=BS(T,m.node,i);let x;if(function(s){return s&&of(s.canActivateChild)}(A))x=Ku(A.canActivateChild(o,s));else{if(!of(A))throw new Error("Invalid CanActivateChild guard");x=Ku(A(o,s))}return x.pipe(es())});return(0,ot.of)(b).pipe($0())}));return(0,ot.of)(h).pipe($0())}(s,c.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,ot.of)(!0);const c=o.map(h=>IS(()=>{const m=BS(h,r,i);let b;if(function(s){return s&&of(s.canActivate)}(m))b=Ku(m.canActivate(r,s));else{if(!of(m))throw new Error("Invalid CanActivate guard");b=Ku(m(r,s))}return b.pipe(es())}));return(0,ot.of)(c).pipe($0())}(s,c.route,i))),es(c=>!0!==c,!0))}(o,h,s,r):(0,ot.of)(b)),(0,ht.U)(b=>Object.assign(Object.assign({},i),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),(0,v.b)(b=>{if(Yg(b.guardsResult)){const A=zg(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw A.url=b.guardsResult,A}const T=new Ce(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(T)}),fa(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),WN(b=>{if(b.guards.canActivateChecks.length)return(0,ot.of)(b).pipe((0,v.b)(T=>{const A=new rt(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(A)}),Zn(T=>{let A=!1;return(0,ot.of)(T).pipe(function(s,r){return(0,a.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,ot.of)(i);let h=0;return(0,Jt.D)(c).pipe(u(m=>function(s,r,i,o){return function(s,r,i,o){const c=Object.keys(s);if(0===c.length)return(0,ot.of)({});const h={};return(0,Jt.D)(c).pipe((0,a.zg)(m=>function(s,r,i,o){const c=BS(s,r,o);return Ku(c.resolve?c.resolve(r,i):c(r,i))}(s[m],r,i,o).pipe((0,v.b)(b=>{h[m]=b}))),l(1),(0,a.zg)(()=>Object.keys(h).length===c.length?(0,ot.of)(h):Xi.E))}(s._resolve,s,r,o).pipe((0,ht.U)(h=>(s._resolvedData=h,s.data=Object.assign(Object.assign({},s.data),qM(s,i).resolve),null)))}(m.route,o,s,r)),(0,v.b)(()=>h++),l(1),(0,a.zg)(m=>h===c.length?(0,ot.of)(i):Xi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,v.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(T),this.cancelNavigationTransition(T,"At least one route resolver didn't emit any value."))}}))}),(0,v.b)(T=>{const A=new dt(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(A)}))}),WN(b=>{const{targetSnapshot:T,id:A,extractedUrl:x,rawUrl:M,extras:{skipLocationChange:U,replaceUrl:$}}=b;return this.hooks.afterPreactivation(T,{navigationId:A,appliedUrlTree:x,rawUrlTree:M,skipLocationChange:!!U,replaceUrl:!!$})}),(0,ht.U)(b=>{const T=function(s,r,i){const o=MS(s,r._root,i?i._root:void 0);return new $M(o,r)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:T})}),(0,v.b)(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((s,r,i)=>(0,ht.U)(o=>(new $P(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),(0,v.b)({next(){h=!0},complete(){h=!0}}),function(s){return r=>r.lift(new S(s))}(()=>{if(!h&&!m){const b=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,b)):this.cancelNavigationTransition(c,b)}this.currentNavigation=null}),nf(b=>{if(m=!0,function(s){return s&&s[tv]}(b)){const T=Yg(b.url);T||(this.navigated=!0,this.restoreHistory(c,!0));const A=new z(c.id,this.serializeUrl(c.extractedUrl),b.message);o.next(A),T?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),M={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jS(c.source)};this.scheduleNavigation(x,"imperative",null,M,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const T=new ae(c.id,this.serializeUrl(c.extractedUrl),b);o.next(T);try{c.resolve(this.errorHandler(b))}catch(A){c.reject(A)}}return Xi.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:c,state:h,urlTree:m}=o,b={replaceUrl:!0};if(h){const T=Object.assign({},h);delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(b.state=T)}this.scheduleNavigation(m,c,h,b)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const c=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!c||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){tO(i),this.config=i.map(ZN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:c,queryParams:h,fragment:m,queryParamsHandling:b,preserveFragment:T}=o,A=c||this.routerState.root,x=T?this.currentUrlTree.fragment:m;let M=null;switch(b){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=h||null}return null!==M&&(M=this.removeEmptyProps(M)),function(s,r,i,o,c){if(0===i.length)return $N(r.root,r.root,r,o,c);const h=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new KM(!0,0,s);let r=0,i=!1;const o=s.reduce((c,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const b={};return li(h.outlets,(T,A)=>{b[A]="string"==typeof T?T.split("/"):T}),[...c,{outlets:b}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===m?(h.split("/").forEach((b,T)=>{0==T&&"."===b||(0==T&&""===b?i=!0:".."===b?r++:""!=b&&c.push(b))}),c):[...c,h]},[]);return new KM(i,r,o)}(i);if(h.toRoot())return $N(r.root,new Bt([],{}),r,o,c);const m=function(s,r,i){if(s.isAbsolute)return new HN(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const h=i.snapshot._urlSegment;return new HN(h,h===r.root,0)}const o=OS(s.commands[0])?0:1;return function(s,r,i){let o=s,c=r,h=i;for(;h>c;){if(h-=c,o=o.parent,!o)throw new Error("Invalid number of '../'");c=o.segments.length}return new HN(o,!1,c-h)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(h,r,s),b=m.processChildren?PS(m.segmentGroup,m.index,h.commands):YM(m.segmentGroup,m.index,h.commands);return $N(m.segmentGroup,b,r,o,c)}(A,this.currentUrlTree,i,M,null!=x?x:null)}navigateByUrl(i,o={skipLocationChange:!1}){const c=Yg(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return o}isActive(i,o){let c;if(c=!0===o?Object.assign({},Uk):!1===o?Object.assign({},Bk):o,Yg(i))return OM(this.currentUrlTree,i,c);const h=this.parseUrl(i);return OM(this.currentUrlTree,h,c)}removeEmptyProps(i){return Object.keys(i).reduce((o,c)=>{const h=i[c];return null!=h&&(o[c]=h),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new B(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,c,h,m){var b,T;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),x=jS(o)&&A&&!jS(A.source),$=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===i.toString();if(x&&$)return Promise.resolve(!0);let K,fe,Ie;m?(K=m.resolve,fe=m.reject,Ie=m.promise):Ie=new Promise((qe,ze)=>{K=qe,fe=ze});const He=++this.navigationId;let Ye;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ye=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):Ye=0,this.setTransition({id:He,targetPageId:Ye,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:h,resolve:K,reject:fe,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(qe=>Promise.reject(qe))}setBrowserUrl(i,o){const c=this.urlSerializer.serialize(i),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(i,o=!1){var c,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const c=new z(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.DyG),g.LFG(kN),g.LFG(rv),g.LFG(Be),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();function jS(s){return"imperative"!==s}let Z0=(()=>{class s{constructor(i,o,c){this.router=i,this.route=o,this.locationStrategy=c,this.commands=[],this.onChanges=new tr.xQ,this.subscription=i.events.subscribe(h=>{h instanceof B&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,c,h,m){if(0!==i||o||c||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const b={skipLocationChange:iv(this.skipLocationChange),replaceUrl:iv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:iv(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(g.Y36($i),g.Y36(nv),g.Y36(ne))},s.\u0275dir=g.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&g.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&(g.Ikx("href",o.href,g.LSH),g.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),s})();function iv(s){return""===s||!!s}let QN=(()=>{class s{constructor(i,o,c,h,m){this.parentContexts=i,this.location=o,this.resolver=c,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=h||xt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const m=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,T=new qk(i,b,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,T),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(rv),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},s.\u0275dir=g.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class qk{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===nv?this.route:r===rv?this.childContexts:this.parent.get(r,i)}}class yO{}class _O{preload(r,i){return(0,ot.of)(null)}}let vO=(()=>{class s{constructor(i,o,c,h,m){this.router=i,this.injector=h,this.preloadingStrategy=m,this.loader=new gO(o,c,A=>i.triggerEvent(new Mt(A)),A=>i.triggerEvent(new Kn(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(fa(i=>i instanceof B),u(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(g.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const c=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;c.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?c.push(this.preloadConfig(i,h)):h.children&&c.push(this.processRoutes(i,h.children));return(0,Jt.D)(c).pipe((0,$d.J)(),(0,ht.U)(h=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,ot.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,a.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG($i),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(yO))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),JN=(()=>{class s{constructor(i,o,c={}){this.router=i,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof k?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof B&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Tc&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new Tc(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG($i),g.LFG(Fc),g.LFG(void 0))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const Qg=new g.OlP("ROUTER_CONFIGURATION"),EO=new g.OlP("ROUTER_FORROOT_GUARD"),zk=[Be,{provide:kN,useClass:LM},{provide:$i,useFactory:function(s,r,i,o,c,h,m,b={},T,A){const x=new $i(null,s,r,i,o,c,h,xM(m));return T&&(x.urlHandlingStrategy=T),A&&(x.routeReuseStrategy=A),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(b,x),b.enableTracing&&x.events.subscribe(M=>{var U,$;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===($=console.groupEnd)||void 0===$||$.call(console)}),x},deps:[kN,rv,Be,g.zs3,g.v3s,g.Sil,KN,Qg,[class{},new g.FiY],[class{},new g.FiY]]},rv,{provide:nv,useFactory:function(s){return s.routerState.root},deps:[$i]},{provide:g.v3s,useClass:g.EAV},vO,_O,class{preload(r,i){return i().pipe(nf(()=>(0,ot.of)(null)))}},{provide:Qg,useValue:{enableTracing:!1}}];function Wk(){return new g.PXZ("Router",$i)}let bO=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[zk,wO(i),{provide:EO,useFactory:Qk,deps:[[$i,new g.FiY,new g.tp0]]},{provide:Qg,useValue:o||{}},{provide:ne,useFactory:Yk,deps:[ye,[new g.tBr(Re),new g.FiY],Qg]},{provide:JN,useFactory:Kk,deps:[$i,Fc,Qg]},{provide:yO,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:_O},{provide:g.PXZ,multi:!0,useFactory:Wk},[XN,{provide:g.ip1,multi:!0,useFactory:tF,deps:[XN]},{provide:CO,useFactory:nF,deps:[XN]},{provide:g.tb,multi:!0,useExisting:CO}]]}}static forChild(i){return{ngModule:s,providers:[wO(i)]}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(EO,8),g.LFG($i,8))},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})();function Kk(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new JN(s,r,i)}function Yk(s,r,i={}){return i.useHash?new Ve(s,r):new Me(s,r)}function Qk(s){return"guarded"}function wO(s){return[{provide:g.deG,multi:!0,useValue:s},{provide:KN,multi:!0,useValue:s}]}let XN=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new tr.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const c=new Promise(b=>o=b),h=this.injector.get($i),m=this.injector.get(Qg);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),c})}bootstrapListener(i){const o=this.injector.get(Qg),c=this.injector.get(vO),h=this.injector.get(JN),m=this.injector.get($i),b=this.injector.get(g.z2F);i===b.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),c.setUpPreloading(),h.init(),m.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.zs3))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();function tF(s){return s.appInitializer.bind(s)}function nF(s){return s.bootstrapListener.bind(s)}const CO=new g.OlP("Router Initializer"),iF=function(){return["/login"]},sF=function(){return["/registro"]};let oF=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-bienvenida"]],decls:31,vars:4,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.80.0"],["rel","canonical","href","https://getbootstrap.com/docs/4.6/examples/jumbotron/"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[1,"row"],[1,"col-md-6","card"],["role","button",1,"btn","btn-primary","btn-lg",3,"routerLink"]],template:function(i,o){1&i&&(g.TgZ(0,"html",0),g.TgZ(1,"head"),g._UZ(2,"meta",1),g._UZ(3,"meta",2),g._UZ(4,"meta",3),g._UZ(5,"meta",4),g._UZ(6,"meta",5),g.TgZ(7,"title"),g._uU(8,"Jumbotron Template \xb7 Bootstrap v4.6"),g.qZA(),g._UZ(9,"link",6),g.qZA(),g.TgZ(10,"body"),g.TgZ(11,"main",7),g.TgZ(12,"div",8),g.TgZ(13,"div",9),g.TgZ(14,"h1",10),g._uU(15,"Clinica"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"div",9),g.TgZ(17,"div",11),g.TgZ(18,"div",12),g.TgZ(19,"h2"),g._uU(20,"Login"),g.qZA(),g.TgZ(21,"p"),g.TgZ(22,"a",13),g._uU(23,"Ir \xbb"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",12),g.TgZ(25,"h2"),g._uU(26,"Registro"),g.qZA(),g.TgZ(27,"p"),g.TgZ(28,"a",13),g._uU(29,"Ir \xbb"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(30,"hr"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(22),g.Q6J("routerLink",g.DdM(2,iF)),g.xp6(6),g.Q6J("routerLink",g.DdM(3,sF)))},directives:[Z0],styles:["",".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }"]}),s})(),e1=(()=>{class s{constructor(i){this.auth=i,this.auth.authState.subscribe(o=>{this.isLoggedIn=o})}login(i,o){return this.auth.signInWithEmailAndPassword(i,o)}signOut(){return this.auth.signOut()}register(i,o){return this.auth.createUserWithEmailAndPassword(i,o)}enviarEmail(){var i=this;return(0,_e.Z)(function*(){var o;return null===(o=yield i.auth.currentUser)||void 0===o?void 0:o.sendEmailVerification()})()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(jd))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),TO=(()=>{class s{constructor(i){this.toastr=i}mostrarToastError(i,o){this.toastr.error(o,i)}mostrarToastSuccess(i,o){this.toastr.success(o,i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(I))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function aF(s,r){1&s&&(g.TgZ(0,"small",22),g._uU(1,"El mail es requerido"),g.qZA())}function uF(s,r){1&s&&(g.TgZ(0,"small",22),g._uU(1,"El mail debe ser valido"),g.qZA())}function lF(s,r){1&s&&(g.TgZ(0,"small",22),g._uU(1,"La contrase\xf1a es requerida"),g.qZA())}let cF=(()=>{class s{constructor(i,o,c,h,m){this.fb=i,this.auth=o,this.router=c,this.utilidades=h,this.db=m,this.coleccion=this.db.collection("usuarios"),this.usuarios=this.coleccion.valueChanges()}ngOnInit(){this.grupoDeControles=this.fb.group({mail:["",[Et.required,Et.email]],contrasena:["",Et.required]}),this.usuarios.subscribe(i=>{this.usuariosBD=i})}ingresar(){var i,o;let c=null===(i=this.grupoDeControles.get("mail"))||void 0===i?void 0:i.value,h=null===(o=this.grupoDeControles.get("contrasena"))||void 0===o?void 0:o.value;this.auth.login(c,h).then(m=>{let b;for(let T of this.usuariosBD)T.mail==c&&T.contrasena==h&&(b=T);m.user._delegate.emailVerified?("especialista"==b.tipo&&b.cuentaVerificada?(this.auth.currentUser=b,this.router.navigate([""])):(this.utilidades.mostrarToastError("Usuario no verificado","Un administrador debe verificar su cuenta"),this.auth.signOut()),("paciente"==b.tipo||"admin"==b.tipo)&&(this.auth.currentUser=b,this.router.navigate([""]))):(this.utilidades.mostrarToastError("Email no verificado","Verifique su email para poder ingresar"),this.auth.signOut())}).catch(m=>{"auth/invalid-email"==m.code?this.utilidades.mostrarToastError("Email invalido","El email ingresado es invalido, por favor vuelva a ingresarlo!"):("auth/user-not-found"==m.code||"auth/wrong-password"===m.code)&&this.utilidades.mostrarToastError("Credenciales Invalidas","Usuario o clave invalidos, vuelva a ingresar los datos")})}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Cd),g.Y36(e1),g.Y36($i),g.Y36(TO),g.Y36(Gg))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-login"]],decls:37,vars:5,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.80.0"],["rel","canonical","href","https://getbootstrap.com/docs/4.6/examples/checkout/"],[1,"bg-light"],[1,"container"],[1,"py-5","text-center"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","mail"],["type","text","formControlName","mail","placeholder","","value","","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password"],["type","password","formControlName","contrasena","placeholder","","value","","required","",1,"form-control"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"text-danger"]],template:function(i,o){1&i&&(g.TgZ(0,"html",0),g.TgZ(1,"head"),g._UZ(2,"meta",1),g._UZ(3,"meta",2),g._UZ(4,"meta",3),g._UZ(5,"meta",4),g._UZ(6,"meta",5),g.TgZ(7,"title"),g._uU(8,"Checkout example \xb7 Bootstrap v4.6"),g.qZA(),g._UZ(9,"link",6),g.qZA(),g.TgZ(10,"body",7),g._UZ(11,"br"),g._UZ(12,"br"),g.TgZ(13,"div",8),g.TgZ(14,"div",9),g.TgZ(15,"h2"),g._uU(16,"Login"),g.qZA(),g.qZA(),g.TgZ(17,"div",10),g.TgZ(18,"div",11),g.TgZ(19,"h4",12),g._uU(20,"Alta actor"),g.qZA(),g.TgZ(21,"form",13),g.NdJ("ngSubmit",function(){return o.ingresar()}),g.TgZ(22,"div",10),g.TgZ(23,"div",14),g.TgZ(24,"label",15),g._uU(25,"Mail"),g.qZA(),g._UZ(26,"input",16),g.YNc(27,aF,2,0,"small",17),g.YNc(28,uF,2,0,"small",17),g.qZA(),g.TgZ(29,"div",14),g.TgZ(30,"label",18),g._uU(31,"Contrase\xf1a"),g.qZA(),g._UZ(32,"input",19),g.YNc(33,lF,2,0,"small",17),g.qZA(),g.qZA(),g._UZ(34,"hr",20),g.TgZ(35,"button",21),g._uU(36,"Ingresar"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(21),g.Q6J("formGroup",o.grupoDeControles),g.xp6(6),g.Q6J("ngIf",(null==o.grupoDeControles.controls.mail.errors?null:o.grupoDeControles.controls.mail.errors.required)&&o.grupoDeControles.controls.mail.touched),g.xp6(1),g.Q6J("ngIf",(null==o.grupoDeControles.controls.mail.errors?null:o.grupoDeControles.controls.mail.errors.email)&&o.grupoDeControles.controls.mail.touched),g.xp6(5),g.Q6J("ngIf",(null==o.grupoDeControles.controls.contrasena.errors?null:o.grupoDeControles.controls.contrasena.errors.required)&&o.grupoDeControles.controls.contrasena.touched),g.xp6(2),g.Q6J("disabled",o.grupoDeControles.invalid))},directives:[fd,Fr,oa,ws,kr,ep,tu,Gr],styles:["",".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }"]}),s})();class hF{constructor(r,i){this.dueTime=r,this.scheduler=i}call(r,i){return i.subscribe(new fF(r,this.dueTime,this.scheduler))}}class fF extends ei.L{constructor(r,i,o){super(r),this.dueTime=i,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pF,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function pF(s){s.debouncedNext()}var af=(()=>(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"}(af||(af={})),af))();const IO="firebasestorage.googleapis.com",DO="storageBucket";class Yn extends St.ZR{constructor(r,i){super(t1(r),`Firebase Storage: ${i} (${t1(r)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}_codeEquals(r){return t1(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function t1(s){return"storage/"+s}function n1(){return new Yn("unknown","An unknown error occurred, please check the error payload for server response.")}function SO(){return new Yn("canceled","User canceled the upload/download.")}function AO(){return new Yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function SF(){return new Yn("no-download-url","The given file does not have any download URLs.")}function sv(s){return new Yn("invalid-argument",s)}function RO(){return new Yn("app-deleted","The Firebase app was deleted.")}function xO(s){return new Yn("invalid-root-operation","The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function z0(s,r){return new Yn("invalid-format","String does not match format '"+s+"': "+r)}function $S(s){throw new Yn("internal-error","Internal error: "+s)}class AF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=af.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=af.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=af.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,i,o,c){if(this.sent_)throw $S("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,r,!0),void 0!==c)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $S("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $S("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}}getResponseText(){if(!this.sent_)throw $S("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class xF{createConnection(){return new AF}}class Si{constructor(r,i){this.bucket=r,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,i){let o;try{o=Si.makeFromUrl(r,i)}catch(c){return new Si(r,"")}if(""===o.path)return o;throw function(s){return new Yn("invalid-default-bucket","Invalid default bucket '"+s+"'.")}(r)}static makeFromUrl(r,i){let o=null;const c="([A-Za-z0-9.\\-_]+)",b=new RegExp("^gs://"+c+"(/(.*))?$","i");function A(ze){ze.path_=decodeURIComponent(ze.path)}const M=i.replace(/[.]/g,"\\."),qe=[{regex:b,indices:{bucket:1,path:3},postModify:function(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${c}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${i===IO?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${c}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let ze=0;ze<qe.length;ze++){const nn=qe[ze],Qn=nn.regex.exec(r);if(Qn){let Gi=Qn[nn.indices.path];Gi||(Gi=""),o=new Si(Qn[nn.indices.bucket],Gi),nn.postModify(o);break}}if(null==o)throw function(s){return new Yn("invalid-url","Invalid URL '"+s+"'.")}(r);return o}}class NF{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function HS(s){return"string"==typeof s||s instanceof String}function NO(s){return r1()&&s instanceof Blob}function r1(){return"undefined"!=typeof Blob}function i1(s,r,i,o){if(o<r)throw sv(`Invalid value for '${s}'. Expected ${r} or greater.`);if(o>i)throw sv(`Invalid value for '${s}'. Expected ${i} or less.`)}function uf(s,r){const i=r.match(/^(\w+):\/\/.+/);let c=r;return null==(null==i?void 0:i[1])&&(c=`https://${r}`),`${c}/v0${s}`}function MO(s){const r=encodeURIComponent;let i="?";for(const o in s)s.hasOwnProperty(o)&&(i=i+(r(o)+"=")+r(s[o])+"&");return i=i.slice(0,-1),i}class LF{constructor(r,i,o,c,h,m,b,T,A,x,M){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=r,this.method_=i,this.headers_=o,this.body_=c,this.successCodes_=h.slice(),this.additionalRetryCodes_=m.slice(),this.callback_=b,this.errorCallback_=T,this.progressCallback_=x,this.timeout_=A,this.pool_=M,this.promise_=new Promise((U,$)=>{this.resolve_=U,this.reject_=$,this.start_()})}start_(){const r=this;function o(c,h){const m=r.resolve_,b=r.reject_,T=h.connection;if(h.wasSuccessCode)try{const A=r.callback_(T,T.getResponseText());!function(s){return void 0!==s}(A)?m():m(A)}catch(A){b(A)}else if(null!==T){const A=n1();A.serverResponse=T.getResponseText(),b(r.errorCallback_?r.errorCallback_(T,A):A)}else b(h.canceled?r.appDelete_?RO():SO():new Yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?o(0,new qS(!1,null,!0)):this.backoffId_=function(s,r,i){let o=1,c=null,h=!1,m=0;function b(){return 2===m}let T=!1;function A(...K){T||(T=!0,r.apply(null,K))}function x(K){c=setTimeout(()=>{c=null,s(M,b())},K)}function M(K,...fe){if(T)return;if(K)return void A.call(null,K,...fe);if(b()||h)return void A.call(null,K,...fe);let He;o<64&&(o*=2),1===m?(m=2,He=0):He=1e3*(o+Math.random()),x(He)}let U=!1;function $(K){U||(U=!0,!T&&(null!==c?(K||(m=2),clearTimeout(c),x(0)):K||(m=1)))}return x(0),setTimeout(()=>{h=!0,$(!0)},i),$}(function(c,h){if(h)return void c(!1,new qS(!1,null,!0));const m=r.pool_.createConnection();function b(T){null!==r.progressCallback_&&r.progressCallback_(T.loaded,T.lengthComputable?T.total:-1)}r.pendingConnection_=m,null!==r.progressCallback_&&m.addUploadProgressListener(b),m.send(r.url_,r.method_,r.body_,r.headers_).then(()=>{null!==r.progressCallback_&&m.removeUploadProgressListener(b),r.pendingConnection_=null;const T=m.getErrorCode()===af.NO_ERROR,A=m.getStatus();if(!T||r.isRetryStatusCode_(A)){const M=m.getErrorCode()===af.ABORT;return void c(!1,new qS(!1,null,M))}const x=-1!==r.successCodes_.indexOf(A);c(!0,new qS(x,m))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function(s){s(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(r){const i=r>=500&&r<600,c=-1!==[408,429].indexOf(r),h=-1!==this.additionalRetryCodes_.indexOf(r);return i||c||h}}class qS{constructor(r,i,o){this.wasSuccessCode=r,this.connection=i,this.canceled=!!o}}function qF(...s){const r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==r){const i=new r;for(let o=0;o<s.length;o++)i.append(s[o]);return i.getBlob()}if(r1())return new Blob(s);throw new Yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class s1{constructor(r,i){this.data=r,this.contentType=i||null}}function o1(s,r){switch(s){case Gs.RAW:return new s1(OO(r));case Gs.BASE64:case Gs.BASE64URL:return new s1(PO(s,r));case Gs.DATA_URL:return new s1(function(s){const r=new kO(s);return r.base64?PO(Gs.BASE64,r.rest):function(s){let r;try{r=decodeURIComponent(s)}catch(i){throw z0(Gs.DATA_URL,"Malformed data URL.")}return OO(r)}(r.rest)}(r),function(s){return new kO(s).contentType}(r))}throw n1()}function OO(s){const r=[];for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<=127?r.push(o):o<=2047?r.push(192|o>>6,128|63&o):55296==(64512&o)?i<s.length-1&&56320==(64512&s.charCodeAt(i+1))?(o=65536|(1023&o)<<10|1023&s.charCodeAt(++i),r.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o)):r.push(239,191,189):56320==(64512&o)?r.push(239,191,189):r.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(r)}function PO(s,r){switch(s){case Gs.BASE64:{const c=-1!==r.indexOf("-"),h=-1!==r.indexOf("_");if(c||h)throw z0(s,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Gs.BASE64URL:{const c=-1!==r.indexOf("+"),h=-1!==r.indexOf("/");if(c||h)throw z0(s,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function(s){return atob(s)}(r)}catch(c){throw z0(s,"Invalid character found")}const o=new Uint8Array(i.length);for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return o}class kO{constructor(r){this.base64=!1,this.contentType=null;const i=r.match(/^data:([^,]+)?,/);if(null===i)throw z0(Gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=i[1]||null;null!=o&&(this.base64=function(s,r){return s.length>=r.length&&s.substring(s.length-r.length)===r}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=r.substring(r.indexOf(",")+1)}}class Yu{constructor(r,i){let o=0,c="";NO(r)?(this.data_=r,o=r.size,c=r.type):r instanceof ArrayBuffer?(i?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),o=this.data_.length):r instanceof Uint8Array&&(i?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),o=r.length),this.size_=o,this.type_=c}size(){return this.size_}type(){return this.type_}slice(r,i){if(NO(this.data_)){const c=function(s,r,i){return s.webkitSlice?s.webkitSlice(r,i):s.mozSlice?s.mozSlice(r,i):s.slice?s.slice(r,i):null}(this.data_,r,i);return null===c?null:new Yu(c)}{const o=new Uint8Array(this.data_.buffer,r,i-r);return new Yu(o,!0)}}static getBlob(...r){if(r1()){const i=r.map(o=>o instanceof Yu?o.data_:o);return new Yu(qF.apply(null,i))}{const i=r.map(m=>HS(m)?o1(Gs.RAW,m).data:m.data_);let o=0;i.forEach(m=>{o+=m.byteLength});const c=new Uint8Array(o);let h=0;return i.forEach(m=>{for(let b=0;b<m.length;b++)c[h++]=m[b]}),new Yu(c,!0)}}uploadData(){return this.data_}}function a1(s){let r;try{r=JSON.parse(s)}catch(i){return null}return function(s){return"object"==typeof s&&!Array.isArray(s)}(r)?r:null}function FO(s){const r=s.lastIndexOf("/",s.length-2);return-1===r?s:s.slice(r+1)}function XF(s,r){return r}class Hi{constructor(r,i,o,c){this.server=r,this.local=i||r,this.writable=!!o,this.xform=c||XF}}let GS=null;function W0(){if(GS)return GS;const s=[];s.push(new Hi("bucket")),s.push(new Hi("generation")),s.push(new Hi("metageneration")),s.push(new Hi("name","fullPath",!0));const i=new Hi("name");i.xform=function(h,m){return function(s){return!HS(s)||s.length<2?s:FO(s)}(m)},s.push(i);const c=new Hi("size");return c.xform=function(h,m){return void 0!==m?Number(m):m},s.push(c),s.push(new Hi("timeCreated")),s.push(new Hi("updated")),s.push(new Hi("md5Hash",null,!0)),s.push(new Hi("cacheControl",null,!0)),s.push(new Hi("contentDisposition",null,!0)),s.push(new Hi("contentEncoding",null,!0)),s.push(new Hi("contentLanguage",null,!0)),s.push(new Hi("contentType",null,!0)),s.push(new Hi("metadata","customMetadata",!0)),GS=s,GS}function LO(s,r,i){const o=a1(r);return null===o?null:function(s,r,i){const o={type:"file"},c=i.length;for(let h=0;h<c;h++){const m=i[h];o[m.local]=m.xform(o,r[m.server])}return function(s,r){Object.defineProperty(s,"ref",{get:function(){const h=new Si(s.bucket,s.fullPath);return r._makeStorageReference(h)}})}(o,s),o}(s,o,i)}function u1(s,r){const i={},o=r.length;for(let c=0;c<o;c++){const h=r[c];h.writable&&(i[h.server]=s[h.local])}return JSON.stringify(i)}const VO="prefixes";class Dc{constructor(r,i,o,c){this.url=r,this.method=i,this.handler=o,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qu(s){if(!s)throw n1()}function ZS(s,r){return function(o,c){const h=LO(s,c,r);return Qu(null!==h),h}}function ov(s){return function(i,o){let c;return c=401===i.getStatus()?i.getResponseText().includes("Firebase App Check token is invalid")?new Yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Yn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===i.getStatus()?function(s){return new Yn("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(s.bucket):403===i.getStatus()?function(s){return new Yn("unauthorized","User does not have permission to access '"+s+"'.")}(s.path):o,c.serverResponse=o.serverResponse,c}}function zS(s){const r=ov(s);return function(o,c){let h=r(o,c);return 404===o.getStatus()&&(h=function(s){return new Yn("object-not-found","Object '"+s+"' does not exist.")}(s.path)),h.serverResponse=c.serverResponse,h}}function BO(s,r,i){const c=uf(r.fullServerUrl(),s.host),m=s.maxOperationRetryTime,b=new Dc(c,"GET",ZS(s,i),m);return b.errorHandler=zS(r),b}function uL(s,r,i,o,c){const h={};h.prefix=r.isRoot?"":r.path+"/",i&&i.length>0&&(h.delimiter=i),o&&(h.pageToken=o),c&&(h.maxResults=c);const b=uf(r.bucketOnlyServerUrl(),s.host),A=s.maxOperationRetryTime,x=new Dc(b,"GET",function(s,r){return function(o,c){const h=function(s,r,i){const o=a1(i);return null===o?null:function(s,r,i){const o={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[VO])for(const c of i[VO]){const h=c.replace(/\/$/,""),m=s._makeStorageReference(new Si(r,h));o.prefixes.push(m)}if(i.items)for(const c of i.items){const h=s._makeStorageReference(new Si(r,c.name));o.items.push(h)}return o}(s,r,o)}(s,r,c);return Qu(null!==h),h}}(s,r.bucket),A);return x.urlParams=h,x.errorHandler=ov(r),x}function lL(s,r,i){const c=uf(r.fullServerUrl(),s.host),m=s.maxOperationRetryTime,b=new Dc(c,"GET",function(s,r){return function(o,c){const h=LO(s,c,r);return Qu(null!==h),function(s,r,i){const o=a1(r);if(null===o||!HS(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(T=>{const x=s.fullPath;return uf("/b/"+h(s.bucket)+"/o/"+h(x),i)+MO({alt:"media",token:T})})[0]}(h,c,s.host)}}(s,i),m);return b.errorHandler=zS(r),b}function cL(s,r,i,o){const h=uf(r.fullServerUrl(),s.host),b=u1(i,o),A=s.maxOperationRetryTime,x=new Dc(h,"PATCH",ZS(s,o),A);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=b,x.errorHandler=zS(r),x}function dL(s,r){const o=uf(r.fullServerUrl(),s.host),b=new Dc(o,"DELETE",function(T,A){},s.maxOperationRetryTime);return b.successCodes=[200,204],b.errorHandler=zS(r),b}function jO(s,r,i){const o=Object.assign({},i);return o.fullPath=s.path,o.size=r.size(),o.contentType||(o.contentType=function(s,r){return r&&r.type()||"application/octet-stream"}(0,r)),o}class WS{constructor(r,i,o,c){this.current=r,this.total=i,this.finalized=!!o,this.metadata=c||null}}function l1(s,r){let i=null;try{i=s.getResponseHeader("X-Goog-Upload-Status")}catch(c){Qu(!1)}return Qu(!!i&&-1!==(r||["active"]).indexOf(i)),i}const mL={STATE_CHANGED:"state_changed"},qi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function c1(s){switch(s){case"running":case"pausing":case"canceling":return qi.RUNNING;case"paused":return qi.PAUSED;case"success":return qi.SUCCESS;case"canceled":return qi.CANCELED;case"error":default:return qi.ERROR}}class yL{constructor(r,i,o){if(function(s){return"function"==typeof s}(r)||null!=i||null!=o)this.next=r,this.error=null!=i?i:void 0,this.complete=null!=o?o:void 0;else{const h=r;this.next=h.next,this.error=h.error,this.complete=h.complete}}}function av(s){return(...r)=>{Promise.resolve().then(()=>s(...r))}}class qO{constructor(r,i,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=i,this._metadata=o,this._mappings=W0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{this._request=void 0,this._chunkMultiplier=1,c._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=c,this._transition("error"))},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals("canceled")?this.completeTransitions_():(this._error=c,this._transition("error"))},this._promise=new Promise((c,h)=>{this._resolve=c,this._reject=h,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const r=this._transferred;return i=>this._updateProgress(r+i)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,o])=>{switch(this._state){case"running":r(i,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,i)=>{const o=function(s,r,i,o,c){const h=r.bucketOnlyServerUrl(),m=jO(r,o,c),b={name:m.fullPath},T=uf(h,s.host),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},M=u1(m,i),K=new Dc(T,"POST",function(fe){let Ie;l1(fe);try{Ie=fe.getResponseHeader("X-Goog-Upload-URL")}catch(He){Qu(!1)}return Qu(HS(Ie)),Ie},s.maxUploadRetryTime);return K.urlParams=b,K.headers=x,K.body=M,K.errorHandler=ov(r),K}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(o,r,i);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((i,o)=>{const c=function(s,r,i,o){const T=new Dc(i,"POST",function(A){const x=l1(A,["active","final"]);let M=null;try{M=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){Qu(!1)}M||Qu(!1);const U=Number(M);return Qu(!isNaN(U)),new WS(U,o.size(),"final"===x)},s.maxUploadRetryTime);return T.headers={"X-Goog-Upload-Command":"query"},T.errorHandler=ov(r),T}(this._ref.storage,this._ref._location,r,this._blob),h=this._ref.storage._makeRequest(c,i,o);this._request=h,h.getPromise().then(m=>{m=m,this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,i=new WS(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((c,h)=>{let m;try{m=function(s,r,i,o,c,h,m,b){const T=new WS(0,0);if(m?(T.current=m.current,T.total=m.total):(T.current=0,T.total=o.size()),o.size()!==T.total)throw new Yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=T.total-T.current;let x=A;c>0&&(x=Math.min(x,c));const M=T.current,K={"X-Goog-Upload-Command":x===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${T.current}`},fe=o.slice(M,M+x);if(null===fe)throw AO();const qe=new Dc(i,"POST",function(ze,nn){const Qn=l1(ze,["active","final"]),Ar=T.current+x,Gi=o.size();let Zs;return Zs="final"===Qn?ZS(r,h)(ze,nn):null,new WS(Ar,Gi,"final"===Qn,Zs)},r.maxUploadRetryTime);return qe.headers=K,qe.body=fe.uploadData(),qe.progressCallback=b||null,qe.errorHandler=ov(s),qe}(this._ref._location,this._ref.storage,o,this._blob,r,this._mappings,i,this._makeProgressCallback())}catch(T){return this._error=T,void this._transition("error")}const b=this._ref.storage._makeRequest(m,c,h);this._request=b,b.getPromise().then(T=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(T.current),T.finalized?(this._metadata=T.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,i)=>{const o=BO(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(o,r,i);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,i)=>{const o=function(s,r,i,o,c){const h=r.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},T=function(){let qe="";for(let ze=0;ze<2;ze++)qe+=Math.random().toString().slice(2);return qe}();m["Content-Type"]="multipart/related; boundary="+T;const A=jO(r,o,c),x=u1(A,i),$=Yu.getBlob("--"+T+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+T+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",o,"\r\n--"+T+"--");if(null===$)throw AO();const K={name:A.fullPath},fe=uf(h,s.host),He=s.maxUploadRetryTime,Ye=new Dc(fe,"POST",ZS(s,i),He);return Ye.urlParams=K,Ye.headers=m,Ye.body=$.uploadData(),Ye.errorHandler=ov(r),Ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(o,r,i);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const i=this._transferred;this._transferred=r,this._transferred!==i&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request&&this._request.cancel();break;case"running":const i="paused"===this._state;this._state=r,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=r,this._notifyObservers();break;case"canceled":this._error=SO(),this._state=r,this._notifyObservers();break;case"error":case"success":this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=c1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,i,o,c){const h=new yL(i||void 0,o||void 0,c||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(r,i){return this._promise.then(r,i)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const i=this._observers.indexOf(r);-1!==i&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(c1(this._state)){case qi.SUCCESS:av(this._resolve.bind(null,this.snapshot))();break;case qi.CANCELED:case qi.ERROR:av(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(c1(this._state)){case qi.RUNNING:case qi.PAUSED:r.next&&av(r.next.bind(r,this.snapshot))();break;case qi.SUCCESS:r.complete&&av(r.complete.bind(r))();break;case qi.CANCELED:case qi.ERROR:r.error&&av(r.error.bind(r,this._error))();break;default:r.error&&av(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class Jg{constructor(r,i){this._service=r,this._location=i instanceof Si?i:Si.makeFromUrl(i,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,i){return new Jg(r,i)}get root(){const r=new Si(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FO(this._location.path)}get storage(){return this._service}get parent(){const r=function(s){if(0===s.length)return null;const r=s.lastIndexOf("/");return-1===r?"":s.slice(0,r)}(this._location.path);if(null===r)return null;const i=new Si(this._location.bucket,r);return new Jg(this._service,i)}_throwIfRoot(r){if(""===this._location.path)throw xO(r)}}function ZO(s,r,i){return d1.apply(this,arguments)}function d1(){return(d1=(0,_e.Z)(function*(s,r,i){const c=yield zO(s,{pageToken:i});r.prefixes.push(...c.prefixes),r.items.push(...c.items),null!=c.nextPageToken&&(yield ZO(s,r,c.nextPageToken))})).apply(this,arguments)}function zO(s,r){return h1.apply(this,arguments)}function h1(){return(h1=(0,_e.Z)(function*(s,r){null!=r&&"number"==typeof r.maxResults&&i1("options.maxResults",1,1e3,r.maxResults);const i=r||{},o=uL(s.storage,s._location,"/",i.pageToken,i.maxResults);return(yield s.storage.makeRequestWithTokens(o)).getPromise()})).apply(this,arguments)}function f1(){return(f1=(0,_e.Z)(function*(s){s._throwIfRoot("getMetadata");const r=BO(s.storage,s._location,W0());return(yield s.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function p1(){return(p1=(0,_e.Z)(function*(s,r){s._throwIfRoot("updateMetadata");const i=cL(s.storage,s._location,r,W0());return(yield s.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function g1(){return(g1=(0,_e.Z)(function*(s){s._throwIfRoot("getDownloadURL");const r=lL(s.storage,s._location,W0());return(yield s.storage.makeRequestWithTokens(r)).getPromise().then(i=>{if(null===i)throw SF();return i})})).apply(this,arguments)}function m1(){return(m1=(0,_e.Z)(function*(s){s._throwIfRoot("deleteObject");const r=dL(s.storage,s._location);return(yield s.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function WO(s,r){const i=function(s,r){const i=r.split("/").filter(o=>o.length>0).join("/");return 0===s.length?i:s+"/"+i}(s._location.path,r),o=new Si(s._location.bucket,i);return new Jg(s.storage,o)}function KO(s,r){if(s instanceof y1){const i=s;if(null==i._bucket)throw new Yn("no-default-bucket","No default bucket found. Did you set the '"+DO+"' property when initializing the app?");const o=new Jg(i,i._bucket);return null!=r?KO(o,r):o}return void 0!==r?WO(s,r):s}function SL(s,r){if(r&&function(s){return/^[A-Za-z]+:\/\//.test(s)}(r)){if(s instanceof y1)return function(s,r){return new Jg(s,r)}(s,r);throw sv("To use ref(service, url), the first argument must be a Storage instance.")}return KO(s,r)}function YO(s,r){const i=null==r?void 0:r[DO];return null==i?null:Si.makeFromBucketSpec(i,s)}class y1{constructor(r,i,o,c,h,m){this.app=r,this._authProvider=i,this._appCheckProvider=o,this._pool=c,this._url=h,this._firebaseVersion=m,this._bucket=null,this._host=IO,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?Si.makeFromBucketSpec(h,this._host):YO(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?Si.makeFromBucketSpec(this._url,r):YO(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){i1("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){i1("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,_e.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const i=r._authProvider.getImmediate({optional:!0});if(i){const o=yield i.getToken();if(null!==o)return o.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,_e.Z)(function*(){const i=r._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new Jg(this,r)}_makeRequest(r,i,o){if(this._deleted)return new NF(RO());{const c=function(s,r,i,o,c,h){const m=MO(s.urlParams),b=s.url+m,T=Object.assign({},s.headers);return function(s,r){r&&(s["X-Firebase-GMPID"]=r)}(T,r),function(s,r){null!==r&&r.length>0&&(s.Authorization="Firebase "+r)}(T,i),function(s,r){s["X-Firebase-Storage-Version"]="webjs/"+(null!=r?r:"AppManager")}(T,h),function(s,r){null!==r&&(s["X-Firebase-AppCheck"]=r)}(T,o),new LF(b,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,c)}(r,this._appId,i,o,this._pool,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(r){var i=this;return(0,_e.Z)(function*(){const[o,c]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(r,o,c)})()}}function JO(s,r){return SL(s=(0,St.m9)(s),r)}(0,qd._registerComponent)(new Ty.wA("storage",function(s,{instanceIdentifier:r}){const i=s.getProvider("app").getImmediate(),o=s.getProvider("auth-internal"),c=s.getProvider("app-check-internal");return new y1(i,o,c,new xF,r,qd.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,qd.registerVersion)("@firebase/storage","0.8.1");class KS{constructor(r,i,o){this._delegate=r,this.task=i,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class XO{constructor(r,i){this._delegate=r,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new KS(this._delegate.snapshot,this,this._ref)}then(r,i){return this._delegate.then(o=>{if(r)return r(new KS(o,this,this._ref))},i)}on(r,i,o,c){let h;return i&&(h="function"==typeof i?m=>i(new KS(m,this,this._ref)):{next:i.next?m=>i.next(new KS(m,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(r,h,o||void 0,c||void 0)}}class eP{constructor(r,i){this._delegate=r,this._service=i}get prefixes(){return this._delegate.prefixes.map(r=>new Sc(r,this._service))}get items(){return this._delegate.items.map(r=>new Sc(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Sc{constructor(r,i){this._delegate=r,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const i=function(s,r){return WO(s,r)}(this._delegate,r);return new Sc(i,this.storage)}get root(){return new Sc(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new Sc(r,this.storage)}put(r,i){return this._throwIfRoot("put"),new XO(function(s,r,i){return function(s,r,i){return s._throwIfRoot("uploadBytesResumable"),new qO(s,new Yu(r),i)}(s=(0,St.m9)(s),r,i)}(this._delegate,r,i),this)}putString(r,i=Gs.RAW,o){this._throwIfRoot("putString");const c=o1(i,r),h=Object.assign({},o);return null==h.contentType&&null!=c.contentType&&(h.contentType=c.contentType),new XO(new qO(this._delegate,new Yu(c.data,!0),h),this)}listAll(){return function(s){return function(s){const r={prefixes:[],items:[]};return ZO(s,r).then(()=>r)}(s=(0,St.m9)(s))}(this._delegate).then(r=>new eP(r,this.storage))}list(r){return function(s,r){return zO(s=(0,St.m9)(s),r)}(this._delegate,r||void 0).then(i=>new eP(i,this.storage))}getMetadata(){return function(s){return function(s){return f1.apply(this,arguments)}(s=(0,St.m9)(s))}(this._delegate)}updateMetadata(r){return function(s,r){return function(s,r){return p1.apply(this,arguments)}(s=(0,St.m9)(s),r)}(this._delegate,r)}getDownloadURL(){return function(s){return function(s){return g1.apply(this,arguments)}(s=(0,St.m9)(s))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(s){return function(s){return m1.apply(this,arguments)}(s=(0,St.m9)(s))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw xO(r)}}class tP{constructor(r,i){this.app=r,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(nP(r))throw sv("ref() expected a child path but got a URL, use refFromURL instead.");return new Sc(JO(this._delegate,r),this)}refFromURL(r){if(!nP(r))throw sv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Si.makeFromUrl(r,this._delegate.host)}catch(i){throw sv("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sc(JO(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,i,o={}){!function(s,r,i,o={}){!function(s,r,i,o={}){s.host=`http://${r}:${i}`;const{mockUserToken:c}=o;c&&(s._overrideAuthToken="string"==typeof c?c:(0,St.Sg)(c,s.app.options.projectId))}(s,r,i,o)}(this._delegate,r,i,o)}}function nP(s){return/^[A-Za-z]+:\/\//.test(s)}function GL(s,{instanceIdentifier:r}){const i=s.getProvider("app-compat").getImmediate(),o=s.getProvider("storage").getImmediate({identifier:r});return new tP(i,o)}function rP(s){const r=function(s){return new Pr.y(r=>{const i=m=>r.next(m);i(s.snapshot);const h=s.on("state_changed",i);return s.then(m=>{i(m),r.complete()},m=>{i(s.snapshot),(m=>{r.error(m)})(m)}),function(){h()}}).pipe(function(s,r=Io.P){return i=>i.lift(new hF(s,r))}(0))}(s);return{task:s,then:s.then.bind(s),catch:s.catch.bind(s),pause:s.pause.bind(s),cancel:s.cancel.bind(s),resume:s.resume.bind(s),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,ht.U)(i=>i.bytesTransferred/i.totalBytes*100))}}function YS(s){return{getDownloadURL:()=>(0,ot.of)(void 0).pipe(Sn.fc,Zn(()=>s.getDownloadURL()),Sn.iC),getMetadata:()=>(0,ot.of)(void 0).pipe(Sn.fc,Zn(()=>s.getMetadata()),Sn.iC),delete:()=>(0,Jt.D)(s.delete()),child:r=>YS(s.child(r)),updateMetadata:r=>(0,Jt.D)(s.updateMetadata(r)),put:(r,i)=>rP(s.put(r,i)),putString:(r,i,o)=>rP(s.putString(r,i,o)),listAll:()=>(0,Jt.D)(s.listAll())}}!function(s){const r={TaskState:qi,TaskEvent:mL,StringFormat:Gs,Storage:tP,Reference:Sc};s.INTERNAL.registerComponent(new Ty.wA("storage-compat",GL,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),s.registerVersion("@firebase/storage-compat","0.1.1")}(qE.Z);const WL=new g.OlP("angularfire2.storageBucket"),KL=new g.OlP("angularfire2.storage.maxUploadRetryTime"),YL=new g.OlP("angularfire2.storage.maxOperationRetryTime"),QL=new g.OlP("angularfire2.storage.use-emulator");let JL=(()=>{class s{constructor(i,o,c,h,m,b,T,A,x){const M=(0,Qi.on)(i,m,o);this.storage=(0,Sn.cc)(`${M.name}.storage.${c}`,"AngularFireStorage",M.name,()=>{const U=m.runOutsideAngular(()=>M.storage(c||void 0)),$=x;return $&&U.useEmulator(...$),T&&U.setMaxUploadRetryTime(T),A&&U.setMaxOperationRetryTime(A),U},[T,A])}ref(i){return YS(this.storage.ref(i))}refFromURL(i){return YS(this.storage.refFromURL(i))}upload(i,o,c){return YS(this.storage.ref(i)).put(o,c)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Qi.Dh),g.LFG(Qi.xv,8),g.LFG(WL,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sn.HU),g.LFG(KL,8),g.LFG(YL,8),g.LFG(QL,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),iP=(()=>{class s{constructor(i,o){this.firestore=i,this.storage=o}getFileRef(i){return this.storage.ref(i)}uploadFile(i,o){return this.storage.upload(i,o)}subirPaciente(i){this.firestore.collection("usuarios").add(i).then(o=>{console.log(o)}).catch(o=>{console.error(o)})}subirEspecialista(i){this.firestore.collection("usuarios").add(i).then(o=>{console.log(o)}).catch(o=>{console.error(o)})}subirAdmin(i){this.firestore.collection("usuarios").add(i).then(o=>{console.log(o)}).catch(o=>{console.error(o)})}modificarUsuario(i,o){return this.firestore.collection("usuarios").doc(o).update(i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Gg),g.LFG(JL))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function XL(s,r){1&s&&(g.TgZ(0,"th"),g._uU(1,"OBRA SOCIAL"),g.qZA())}function eV(s,r){1&s&&(g.TgZ(0,"th"),g._uU(1,"ESPECIALIDAD"),g.qZA())}function tV(s,r){1&s&&(g.TgZ(0,"th"),g._uU(1,"FOTO 2"),g.qZA())}function nV(s,r){1&s&&(g.TgZ(0,"th"),g._uU(1,"CUENTA VERIFICADA"),g.qZA())}function rV(s,r){1&s&&(g.TgZ(0,"th"),g._uU(1,"VERIFICAR"),g.qZA())}function iV(s,r){if(1&s&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&s){const i=g.oxw().$implicit;g.xp6(1),g.Oqu(i.obraSocial)}}function sV(s,r){if(1&s&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&s){const i=g.oxw().$implicit;g.xp6(1),g.Oqu(i.especialidad)}}function oV(s,r){if(1&s&&(g.TgZ(0,"td"),g._UZ(1,"img",7),g.qZA()),2&s){const i=g.oxw().$implicit;g.xp6(1),g.Q6J("src",i.fotoPerfil2,g.LSH)}}function aV(s,r){1&s&&(g.TgZ(0,"td"),g._uU(1,"\u274c"),g.qZA())}function uV(s,r){1&s&&(g.TgZ(0,"td"),g._uU(1,"\u2714\ufe0f"),g.qZA())}function lV(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"td"),g.TgZ(1,"button",2),g.NdJ("click",function(){g.CHM(i);const c=g.oxw().$implicit;return g.oxw().verificarEspecialista(c)}),g._uU(2,"Verificar"),g.qZA(),g.qZA()}}function cV(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"td"),g.TgZ(1,"button",2),g.NdJ("click",function(){g.CHM(i);const c=g.oxw().$implicit;return g.oxw().verificarEspecialista(c)}),g._uU(2,"Desverificar"),g.qZA(),g.qZA()}}function dV(s,r){if(1&s&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.YNc(9,iV,2,1,"td",5),g.YNc(10,sV,2,1,"td",5),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._UZ(14,"img",7),g.qZA(),g.YNc(15,oV,2,1,"td",5),g.YNc(16,aV,2,0,"td",5),g.YNc(17,uV,2,0,"td",5),g.YNc(18,lV,3,0,"td",5),g.YNc(19,cV,3,0,"td",5),g.qZA()),2&s){const i=r.$implicit,o=g.oxw();g.xp6(2),g.Oqu(i.nombre),g.xp6(2),g.Oqu(i.apellido),g.xp6(2),g.Oqu(i.edad),g.xp6(2),g.Oqu(i.dni),g.xp6(1),g.Q6J("ngIf","paciente"==o.tipo),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo),g.xp6(2),g.Oqu(i.mail),g.xp6(2),g.Q6J("src",i.fotoPerfil,g.LSH),g.xp6(1),g.Q6J("ngIf","paciente"==o.tipo),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo&&!i.cuentaVerificada),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo&&i.cuentaVerificada),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo&&!i.cuentaVerificada),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo&&i.cuentaVerificada)}}let hV=(()=>{class s{constructor(i,o){this.db=i,this.firebase=o,this.tipo="paciente",this.arrAdmin=[],this.arrPaciente=[],this.arrEspecialista=[],this.arrAux=[],this.coleccion=this.db.collection("usuarios"),this.usuarios=this.coleccion.valueChanges({idField:"id"})}ngOnInit(){this.usuarios.subscribe(i=>{this.arrAdmin=[],this.arrPaciente=[],this.arrEspecialista=[];for(let o of i)"paciente"==o.tipo?this.arrPaciente.push(o):"especialista"==o.tipo?this.arrEspecialista.push(o):this.arrAdmin.push(o);this.arrAux=this.arrPaciente})}cambiarVista(i){switch(i){case"paciente":this.tipo="paciente",this.arrAux=this.arrPaciente;break;case"especialista":this.tipo="especialista",this.arrAux=this.arrEspecialista;break;case"admin":this.tipo="admin",this.arrAux=this.arrAdmin}}verificarEspecialista(i){i.cuentaVerificada=!i.cuentaVerificada,this.firebase.modificarUsuario(i,i.id)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Gg),g.Y36(iP))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-tabla-usuarios"]],decls:32,vars:6,consts:[[1,"row"],[1,"col-md-4"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"table-wrapper"],[1,"fl-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["height","30px","width","30px",3,"src"]],template:function(i,o){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"button",2),g.NdJ("click",function(){return o.cambiarVista("paciente")}),g._uU(3,"Pacientes"),g.qZA(),g.qZA(),g.TgZ(4,"div",1),g.TgZ(5,"button",2),g.NdJ("click",function(){return o.cambiarVista("especialista")}),g._uU(6,"Especialistas"),g.qZA(),g.qZA(),g.TgZ(7,"div",1),g.TgZ(8,"button",2),g.NdJ("click",function(){return o.cambiarVista("admin")}),g._uU(9,"Administradores"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",3),g.TgZ(11,"table",4),g.TgZ(12,"thead"),g.TgZ(13,"th"),g._uU(14,"NOMBRE"),g.qZA(),g.TgZ(15,"th"),g._uU(16,"APELLIDO"),g.qZA(),g.TgZ(17,"th"),g._uU(18,"EDAD"),g.qZA(),g.TgZ(19,"th"),g._uU(20,"DNI"),g.qZA(),g.YNc(21,XL,2,0,"th",5),g.YNc(22,eV,2,0,"th",5),g.TgZ(23,"th"),g._uU(24,"MAIL"),g.qZA(),g.TgZ(25,"th"),g._uU(26,"FOTO"),g.qZA(),g.YNc(27,tV,2,0,"th",5),g.YNc(28,nV,2,0,"th",5),g.YNc(29,rV,2,0,"th",5),g.qZA(),g.TgZ(30,"tbody"),g.YNc(31,dV,20,13,"tr",6),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(21),g.Q6J("ngIf","paciente"==o.tipo),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo),g.xp6(5),g.Q6J("ngIf","paciente"==o.tipo),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipo),g.xp6(2),g.Q6J("ngForOf",o.arrAux))},directives:[Gr,Wi],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Helvetica;-webkit-font-smoothing:antialiased;background:#4793e3}h2[_ngcontent-%COMP%]{text-align:center;font-size:18px;text-transform:uppercase;letter-spacing:1px;color:#fff;padding:30px 0}.table-wrapper[_ngcontent-%COMP%]{margin:10px 70px 70px;box-shadow:0 35px 50px #0003}.fl-table[_ngcontent-%COMP%]{border-radius:5px;font-size:12px;font-weight:normal;border:none;border-collapse:collapse;width:100%;max-width:100%;white-space:nowrap;background-color:#fff}.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;padding:8px}.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #f8f8f8;font-size:12px}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;background:#4FC3A1}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(odd){color:#fff;background:#324960}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#F8F8F8}@media (max-width: 767px){.fl-table[_ngcontent-%COMP%]{display:block;width:100%}.table-wrapper[_ngcontent-%COMP%]:before{content:"Scroll horizontally >";display:block;text-align:right;font-size:11px;color:#fff;padding:0 0 10px}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:block}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-bottom:none}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{float:left}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{width:auto;position:relative;overflow-x:auto}.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px .625em .625em;height:60px;vertical-align:middle;box-sizing:border-box;overflow-x:hidden;overflow-y:auto;width:120px;font-size:13px;text-overflow:ellipsis}.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;border-bottom:1px solid #f7f7f9}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-cell}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:none}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:transparent}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(odd){background:#F8F8F8;border-right:1px solid #E6E4E4}.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(even){border-right:1px solid #E6E4E4}.fl-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;text-align:center}}']}),s})();function fV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"El nombre es requerido"),g.qZA())}function pV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"El nombre contiene espacios"),g.qZA())}function gV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"El apellido es requerido"),g.qZA())}function mV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"La edad es requerida"),g.qZA())}function yV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"El DNI es requerido"),g.qZA())}function _V(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"La obra social es requerida"),g.qZA())}function vV(s,r){if(1&s&&(g.TgZ(0,"div",14),g.TgZ(1,"label",32),g._uU(2,"Obra social"),g.qZA(),g._UZ(3,"input",33),g.YNc(4,_V,2,0,"small",17),g.qZA()),2&s){const i=g.oxw();g.xp6(4),g.Q6J("ngIf",(null==i.grupoDeControles.controls.obraSocial.errors?null:i.grupoDeControles.controls.obraSocial.errors.required)&&i.grupoDeControles.controls.obraSocial.touched)}}function EV(s,r){1&s&&g._UZ(0,"option",38),2&s&&g.s9C("value",r.$implicit.especialidad)}function bV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"La especialidad es requerida"),g.qZA())}function wV(s,r){if(1&s&&(g.TgZ(0,"div",14),g.TgZ(1,"label",34),g._uU(2,"Especialidad"),g.qZA(),g._UZ(3,"input",35),g.TgZ(4,"datalist",36),g.YNc(5,EV,1,1,"option",37),g.qZA(),g.YNc(6,bV,2,0,"small",17),g.qZA()),2&s){const i=g.oxw();g.xp6(5),g.Q6J("ngForOf",i.especialidadesBD),g.xp6(1),g.Q6J("ngIf",(null==i.grupoDeControles.controls.especialidad.errors?null:i.grupoDeControles.controls.especialidad.errors.required)&&i.grupoDeControles.controls.especialidad.touched)}}function CV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"El mail es requerido"),g.qZA())}function TV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"La contrasena es requerida"),g.qZA())}function IV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"La foto de perfil es requerida"),g.qZA())}function DV(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div",14),g.TgZ(1,"label",39),g._uU(2,"Foto de perfil"),g.qZA(),g.TgZ(3,"input",40),g.NdJ("change",function(c){return g.CHM(i),g.oxw().uploadFile(c)}),g.qZA(),g.YNc(4,IV,2,0,"small",17),g.qZA()}if(2&s){const i=g.oxw();g.xp6(4),g.Q6J("ngIf",(null==i.grupoDeControles.controls.fotoPerfil.errors?null:i.grupoDeControles.controls.fotoPerfil.errors.required)&&i.grupoDeControles.controls.fotoPerfil.touched)}}function SV(s,r){1&s&&(g.TgZ(0,"small",31),g._uU(1,"La foto de perfil es requerida"),g.qZA())}function AV(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div",14),g.TgZ(1,"label",39),g._uU(2,"Foto de perfil"),g.qZA(),g.TgZ(3,"input",41),g.NdJ("change",function(c){return g.CHM(i),g.oxw().uploadFile(c)}),g.qZA(),g.YNc(4,SV,2,0,"small",17),g.qZA()}if(2&s){const i=g.oxw();g.xp6(4),g.Q6J("ngIf",(null==i.grupoDeControles.controls.fotoPerfil.errors?null:i.grupoDeControles.controls.fotoPerfil.errors.required)&&i.grupoDeControles.controls.fotoPerfil.touched)}}let RV=(()=>{class s{constructor(i,o,c,h,m){this.fb=i,this.db=o,this.firebase=c,this.utilidades=h,this.auth=m,this.tipoUsuario="",this.grupoDeControles=this.fb.group({}),this.coleccion=this.db.collection("especialidades"),this.especialidades=this.coleccion.valueChanges()}set tipo(i){this.tipoUsuario=i,"paciente"==this.tipoUsuario?this.inicializarPaciente():"especialista"==this.tipoUsuario?this.inicializarEspecialista():this.inicializarAdmin()}ngOnInit(){this.especialidades.subscribe(i=>{this.especialidadesBD=i})}validadorDeEspacios(i){return i.value.includes(" ")?{validadorDeEspacios:!0}:null}inicializarPaciente(){this.grupoDeControles=this.fb.group({nombre:["",[Et.required,this.validadorDeEspacios]],apellido:["",Et.required],edad:["",[Et.required,Et.min(1),Et.max(150)]],dni:["",[Et.required,Et.min(11111111),Et.max(99999999)]],obraSocial:["",Et.required],mail:["",[Et.required,Et.email]],contrasena:["",Et.required],fotoPerfil:["",Et.required],tipo:["paciente"]})}inicializarEspecialista(){this.grupoDeControles=this.fb.group({nombre:["",[Et.required,this.validadorDeEspacios]],apellido:["",Et.required],edad:["",[Et.required,Et.min(1),Et.max(150)]],dni:["",[Et.required,Et.min(11111111),Et.max(99999999)]],especialidad:["",Et.required],mail:["",[Et.required,Et.email]],contrasena:["",Et.required],fotoPerfil:["",Et.required],tipo:["especialista"],cuentaVerificada:[!1]})}inicializarAdmin(){this.grupoDeControles=this.fb.group({nombre:["",[Et.required,this.validadorDeEspacios]],apellido:["",Et.required],edad:["",[Et.required,Et.min(1),Et.max(150)]],dni:["",[Et.required,Et.min(11111111),Et.max(99999999)]],mail:["",[Et.required,Et.email]],contrasena:["",Et.required],fotoPerfil:["",Et.required],tipo:["admin"]})}agregarUsuario(){var i,o;let c=null===(i=this.grupoDeControles.get("mail"))||void 0===i?void 0:i.value,h=null===(o=this.grupoDeControles.get("contrasena"))||void 0===o?void 0:o.value;this.auth.register(c,h).then(m=>{if(this.auth.enviarEmail(),"paciente"==this.tipoUsuario){let b=this.grupoDeControles.getRawValue();this.subirPaciente(b)}else if("especialista"==this.tipoUsuario){let b=this.grupoDeControles.getRawValue();this.subirEspecialista(b)}else{let b=this.grupoDeControles.getRawValue();this.subirAdmin(b)}this.grupoDeControles.reset()}).catch(m=>{"auth/weak-password"==m.code?this.utilidades.mostrarToastError("Constrase\xf1a invalida","La contrase\xf1a tiene que tener al menos 6 caracteres"):"auth/email-already-in-use"==m.code&&this.utilidades.mostrarToastError("Email ya en uso","El email ingresado ya fue utilizado")})}uploadFile(i){this.event=i}subirPaciente(i){var o=this;return(0,_e.Z)(function*(){if(2==o.event.target.files.length){let c=Date.now(),h=o.event.target.files[0],m=o.event.target.files[1],b=`fotos/${i.nombre}-${i.apellido}-${c}`,T=`fotos/${i.nombre}-${i.apellido}-${c}-2`,A=o.firebase.getFileRef(b),x=o.firebase.getFileRef(T);yield o.firebase.uploadFile(b,h),yield o.firebase.uploadFile(T,m),A.getDownloadURL().subscribe(M=>{i.fotoPerfil=M,x.getDownloadURL().subscribe(U=>{i.fotoPerfil2=U,o.firebase.subirPaciente(i)})})}else o.utilidades.mostrarToastError("Error en ingreso de fotos","Cantidad de fotos ingresada invalida, deben ser 2")})()}subirEspecialista(i){var o=this;return(0,_e.Z)(function*(){let c=Date.now(),h=o.event.target.files[0],m=`fotos/${i.nombre}-${i.apellido}-${c}`,b=o.firebase.getFileRef(m);yield o.firebase.uploadFile(m,h),b.getDownloadURL().subscribe(T=>{i.fotoPerfil=T,o.firebase.subirEspecialista(i)})})()}subirAdmin(i){var o=this;return(0,_e.Z)(function*(){let c=Date.now(),h=o.event.target.files[0],m=`fotos/${i.nombre}-${i.apellido}-${c}`,b=o.firebase.getFileRef(m);yield o.firebase.uploadFile(m,h),b.getDownloadURL().subscribe(T=>{i.fotoPerfil=T,o.firebase.subirAdmin(i)})})()}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Cd),g.Y36(Gg),g.Y36(iP),g.Y36(TO),g.Y36(e1))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-registro"]],inputs:{tipo:"tipo"},decls:61,vars:16,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.80.0"],["rel","canonical","href","https://getbootstrap.com/docs/4.6/examples/checkout/"],[1,"bg-light"],[1,"container"],[1,"py-5","text-center"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","formControlName","nombre","placeholder","","value","","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido"],["type","text","formControlName","apellido","placeholder","","value","","required","",1,"form-control"],["for","edad"],["type","number","formControlName","edad","placeholder","","value","","required","",1,"form-control"],["for","dni"],["type","number","formControlName","dni","placeholder","","value","","required","",1,"form-control"],["class","col-md-6 mb-3",4,"ngIf"],["for","mail"],["type","text","formControlName","mail","placeholder","","value","","required","",1,"form-control"],["for","contrasena"],["type","password","formControlName","contrasena","placeholder","","value","","required","",1,"form-control"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"text-danger"],["for","obraSocial"],["type","text","formControlName","obraSocial","placeholder","","value","","required","",1,"form-control"],["for","especialidad"],["type","text","id","floatingPassword","formControlName","especialidad","list","especialidades","autocomplete","off",1,"form-control"],["id","especialidades"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","fotoPerfil"],["type","file","formControlName","fotoPerfil","placeholder","","value","","multiple","","required","",1,"form-control",3,"change"],["type","file","formControlName","fotoPerfil","placeholder","","value","","required","",1,"form-control",3,"change"]],template:function(i,o){1&i&&(g.TgZ(0,"html",0),g.TgZ(1,"head"),g._UZ(2,"meta",1),g._UZ(3,"meta",2),g._UZ(4,"meta",3),g._UZ(5,"meta",4),g._UZ(6,"meta",5),g.TgZ(7,"title"),g._uU(8,"Checkout example \xb7 Bootstrap v4.6"),g.qZA(),g._UZ(9,"link",6),g.qZA(),g.TgZ(10,"body",7),g._UZ(11,"br"),g._UZ(12,"br"),g.TgZ(13,"div",8),g.TgZ(14,"div",9),g.TgZ(15,"h2"),g._uU(16),g.qZA(),g.qZA(),g.TgZ(17,"div",10),g.TgZ(18,"div",11),g.TgZ(19,"h4",12),g._uU(20),g.qZA(),g.TgZ(21,"form",13),g.NdJ("ngSubmit",function(){return o.agregarUsuario()}),g.TgZ(22,"div",10),g.TgZ(23,"div",14),g.TgZ(24,"label",15),g._uU(25,"Nombre"),g.qZA(),g._UZ(26,"input",16),g.YNc(27,fV,2,0,"small",17),g.YNc(28,pV,2,0,"small",17),g.qZA(),g.TgZ(29,"div",14),g.TgZ(30,"label",18),g._uU(31,"Apellido"),g.qZA(),g._UZ(32,"input",19),g.YNc(33,gV,2,0,"small",17),g.qZA(),g.TgZ(34,"div",14),g.TgZ(35,"label",20),g._uU(36,"Edad"),g.qZA(),g._UZ(37,"input",21),g.YNc(38,mV,2,0,"small",17),g.qZA(),g.TgZ(39,"div",14),g.TgZ(40,"label",22),g._uU(41,"DNI"),g.qZA(),g._UZ(42,"input",23),g.YNc(43,yV,2,0,"small",17),g.qZA(),g.YNc(44,vV,5,1,"div",24),g.YNc(45,wV,7,2,"div",24),g.TgZ(46,"div",14),g.TgZ(47,"label",25),g._uU(48,"Mail"),g.qZA(),g._UZ(49,"input",26),g.YNc(50,CV,2,0,"small",17),g.qZA(),g.TgZ(51,"div",14),g.TgZ(52,"label",27),g._uU(53,"Contrase\xf1a"),g.qZA(),g._UZ(54,"input",28),g.YNc(55,TV,2,0,"small",17),g.qZA(),g.YNc(56,DV,5,1,"div",24),g.YNc(57,AV,5,1,"div",24),g.qZA(),g._UZ(58,"hr",29),g.TgZ(59,"button",30),g._uU(60),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(16),g.hij("Registro ",o.tipoUsuario,""),g.xp6(4),g.hij("Alta ",o.tipoUsuario,""),g.xp6(1),g.Q6J("formGroup",o.grupoDeControles),g.xp6(6),g.Q6J("ngIf",(null==o.grupoDeControles.controls.nombre.errors?null:o.grupoDeControles.controls.nombre.errors.required)&&o.grupoDeControles.controls.nombre.touched),g.xp6(1),g.Q6J("ngIf",(null==o.grupoDeControles.controls.nombre.errors?null:o.grupoDeControles.controls.nombre.errors.validadorDeEspacios)&&o.grupoDeControles.controls.nombre.touched),g.xp6(5),g.Q6J("ngIf",(null==o.grupoDeControles.controls.apellido.errors?null:o.grupoDeControles.controls.apellido.errors.required)&&o.grupoDeControles.controls.apellido.touched),g.xp6(5),g.Q6J("ngIf",(null==o.grupoDeControles.controls.edad.errors?null:o.grupoDeControles.controls.edad.errors.required)&&o.grupoDeControles.controls.edad.touched),g.xp6(5),g.Q6J("ngIf",(null==o.grupoDeControles.controls.dni.errors?null:o.grupoDeControles.controls.dni.errors.required)&&o.grupoDeControles.controls.dni.touched),g.xp6(1),g.Q6J("ngIf","paciente"===o.tipoUsuario),g.xp6(1),g.Q6J("ngIf","especialista"==o.tipoUsuario),g.xp6(5),g.Q6J("ngIf",(null==o.grupoDeControles.controls.mail.errors?null:o.grupoDeControles.controls.mail.errors.required)&&o.grupoDeControles.controls.mail.touched),g.xp6(5),g.Q6J("ngIf",(null==o.grupoDeControles.controls.contrasena.errors?null:o.grupoDeControles.controls.contrasena.errors.required)&&o.grupoDeControles.controls.contrasena.touched),g.xp6(1),g.Q6J("ngIf","paciente"==o.tipoUsuario),g.xp6(1),g.Q6J("ngIf","paciente"!=o.tipoUsuario),g.xp6(2),g.Q6J("disabled",o.grupoDeControles.invalid),g.xp6(1),g.hij("Agregar ",o.tipoUsuario,""))},directives:[fd,Fr,oa,ws,kr,ep,tu,Gr,Qa,Wi,tp,Mm],styles:["",".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }"]}),s})();function xV(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"h2"),g._uU(2,"Administrador"),g.qZA(),g.TgZ(3,"p"),g.TgZ(4,"a",14),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).seleccionTipo("admin")}),g._uU(5,"Registrar \xbb"),g.qZA(),g.qZA(),g.qZA()}}function NV(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div",12),g.TgZ(1,"div",13),g.TgZ(2,"h2"),g._uU(3,"Paciente"),g.qZA(),g.TgZ(4,"p"),g.TgZ(5,"a",14),g.NdJ("click",function(){return g.CHM(i),g.oxw().seleccionTipo("paciente")}),g._uU(6,"Registrar \xbb"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",13),g.TgZ(8,"h2"),g._uU(9,"Espacialista"),g.qZA(),g.TgZ(10,"p"),g.TgZ(11,"a",14),g.NdJ("click",function(){return g.CHM(i),g.oxw().seleccionTipo("especialista")}),g._uU(12,"Registrar \xbb"),g.qZA(),g.qZA(),g.qZA(),g.YNc(13,xV,6,0,"div",15),g.qZA()}if(2&s){const i=g.oxw();g.xp6(13),g.Q6J("ngIf",i.admin)}}function MV(s,r){if(1&s&&(g.TgZ(0,"div",12),g._UZ(1,"app-registro",17),g.qZA()),2&s){const i=g.oxw();g.xp6(1),g.Q6J("tipo",i.tipo)}}let sP=(()=>{class s{constructor(){this.seleccionado=!1,this.admin=!1}ngOnInit(){}seleccionTipo(i){this.tipo="paciente"===i?"paciente":"especialista"===i?"especialista":"admin",this.seleccionado=!0}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-seleccion-registro"]],inputs:{admin:"admin"},decls:20,vars:2,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.80.0"],["rel","canonical","href","https://getbootstrap.com/docs/4.6/examples/jumbotron/"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-6","card"],["role","button",1,"btn","btn-primary","btn-lg",3,"click"],["class","col-md-12 card",4,"ngIf"],[1,"col-md-12","card"],[3,"tipo"]],template:function(i,o){1&i&&(g.TgZ(0,"html",0),g.TgZ(1,"head"),g._UZ(2,"meta",1),g._UZ(3,"meta",2),g._UZ(4,"meta",3),g._UZ(5,"meta",4),g._UZ(6,"meta",5),g.TgZ(7,"title"),g._uU(8,"Jumbotron Template \xb7 Bootstrap v4.6"),g.qZA(),g._UZ(9,"link",6),g.qZA(),g.TgZ(10,"body"),g.TgZ(11,"main",7),g.TgZ(12,"div",8),g.TgZ(13,"div",9),g.TgZ(14,"h1",10),g._uU(15,"Registro de usuarios"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"div",9),g.YNc(17,NV,14,1,"div",11),g._UZ(18,"hr"),g.YNc(19,MV,2,1,"div",11),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(17),g.Q6J("ngIf",!o.seleccionado),g.xp6(2),g.Q6J("ngIf",o.seleccionado))},directives:[Gr,RV],styles:["",".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }"]}),s})();const OV=[{path:"",component:oF},{path:"login",component:cF},{path:"registro",component:sP},{path:"seccionUsuarios",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-seccion-usuarios"]],decls:8,vars:1,consts:[[1,"row"],[1,"col-md-6"],[3,"admin"]],template:function(i,o){1&i&&(g._UZ(0,"br"),g._UZ(1,"br"),g._UZ(2,"br"),g.TgZ(3,"div",0),g.TgZ(4,"div",1),g._UZ(5,"app-tabla-usuarios"),g.qZA(),g.TgZ(6,"div",1),g._UZ(7,"app-seleccion-registro",2),g.qZA(),g.qZA()),2&i&&(g.xp6(7),g.Q6J("admin",!0))},directives:[hV,sP],styles:[""]}),s})()}];let PV=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[bO.forRoot(OV)],bO]}),s})();const kV=function(){return["/seccionUsuarios"]};function FV(s,r){1&s&&(g.TgZ(0,"a",10),g._uU(1,"Seccion Usuarios"),g.qZA()),2&s&&g.Q6J("routerLink",g.DdM(1,kV))}const LV=function(){return["/login"]},VV=function(){return["/registro"]};let UV=(()=>{class s{constructor(i){this.auth=i,this.title="clinica"}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(e1))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-root"]],decls:19,vars:5,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","dropdown"],["href","#","id","dropdown01","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown01",1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-item",3,"routerLink"],["class","dropdown-item",3,"routerLink",4,"ngIf"]],template:function(i,o){1&i&&(g.TgZ(0,"nav",0),g.TgZ(1,"a",1),g._uU(2,"Clinica"),g.qZA(),g.TgZ(3,"button",2),g._UZ(4,"span",3),g.qZA(),g.TgZ(5,"div",4),g.TgZ(6,"ul",5),g.TgZ(7,"li",6),g.TgZ(8,"a",7),g._uU(9,"Paginas"),g.qZA(),g.TgZ(10,"div",8),g.TgZ(11,"a",9),g._uU(12,"Bienvenida"),g.qZA(),g.TgZ(13,"a",10),g._uU(14,"Login"),g.qZA(),g.TgZ(15,"a",10),g._uU(16,"Registro"),g.qZA(),g.YNc(17,FV,2,2,"a",11),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(18,"router-outlet")),2&i&&(g.xp6(13),g.Q6J("routerLink",g.DdM(3,LV)),g.xp6(2),g.Q6J("routerLink",g.DdM(4,VV)),g.xp6(2),g.Q6J("ngIf",null!=o.auth.currentUser&&"admin"==o.auth.currentUser.tipo))},directives:[Z0,Gr,QN],styles:[""]}),s})(),BV=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s,bootstrap:[UV]}),s.\u0275inj=g.cJS({providers:[],imports:[[Ki,PV,cC,Hv,Qi.hO.initializeApp(eT_firebaseConfig),N1,NN,kA,Y.forRoot({timeOut:2500,positionClass:"toast-bottom-right",preventDuplicates:!0})]]}),s})();Ev().bootstrapModule(BV).catch(s=>console.error(s))},4762:(Qe,De,F)=>{"use strict";F.d(De,{ZT:()=>ue,pi:()=>q,_T:()=>ie,mG:()=>ye,Jh:()=>Q,XA:()=>G,CR:()=>j,ev:()=>re});var g=function(ce,se){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,ve){ge.__proto__=ve}||function(ge,ve){for(var de in ve)Object.prototype.hasOwnProperty.call(ve,de)&&(ge[de]=ve[de])})(ce,se)};function ue(ce,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function ge(){this.constructor=ce}g(ce,se),ce.prototype=null===se?Object.create(se):(ge.prototype=se.prototype,new ge)}var q=function(){return(q=Object.assign||function(se){for(var ge,ve=1,de=arguments.length;ve<de;ve++)for(var X in ge=arguments[ve])Object.prototype.hasOwnProperty.call(ge,X)&&(se[X]=ge[X]);return se}).apply(this,arguments)};function ie(ce,se){var ge={};for(var ve in ce)Object.prototype.hasOwnProperty.call(ce,ve)&&se.indexOf(ve)<0&&(ge[ve]=ce[ve]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(ve=Object.getOwnPropertySymbols(ce);de<ve.length;de++)se.indexOf(ve[de])<0&&Object.prototype.propertyIsEnumerable.call(ce,ve[de])&&(ge[ve[de]]=ce[ve[de]])}return ge}function ye(ce,se,ge,ve){return new(ge||(ge=Promise))(function(X,ke){function tt(Ct){try{nt(ve.next(Ct))}catch(en){ke(en)}}function Nt(Ct){try{nt(ve.throw(Ct))}catch(en){ke(en)}}function nt(Ct){Ct.done?X(Ct.value):function(X){return X instanceof ge?X:new ge(function(ke){ke(X)})}(Ct.value).then(tt,Nt)}nt((ve=ve.apply(ce,se||[])).next())})}function Q(ce,se){var ve,de,X,ke,ge={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return ke={next:tt(0),throw:tt(1),return:tt(2)},"function"==typeof Symbol&&(ke[Symbol.iterator]=function(){return this}),ke;function tt(nt){return function(Ct){return function(nt){if(ve)throw new TypeError("Generator is already executing.");for(;ge;)try{if(ve=1,de&&(X=2&nt[0]?de.return:nt[0]?de.throw||((X=de.return)&&X.call(de),0):de.next)&&!(X=X.call(de,nt[1])).done)return X;switch(de=0,X&&(nt=[2&nt[0],X.value]),nt[0]){case 0:case 1:X=nt;break;case 4:return ge.label++,{value:nt[1],done:!1};case 5:ge.label++,de=nt[1],nt=[0];continue;case 7:nt=ge.ops.pop(),ge.trys.pop();continue;default:if(!(X=(X=ge.trys).length>0&&X[X.length-1])&&(6===nt[0]||2===nt[0])){ge=0;continue}if(3===nt[0]&&(!X||nt[1]>X[0]&&nt[1]<X[3])){ge.label=nt[1];break}if(6===nt[0]&&ge.label<X[1]){ge.label=X[1],X=nt;break}if(X&&ge.label<X[2]){ge.label=X[2],ge.ops.push(nt);break}X[2]&&ge.ops.pop(),ge.trys.pop();continue}nt=se.call(ce,ge)}catch(Ct){nt=[6,Ct],de=0}finally{ve=X=0}if(5&nt[0])throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}([nt,Ct])}}}function G(ce){var se="function"==typeof Symbol&&Symbol.iterator,ge=se&&ce[se],ve=0;if(ge)return ge.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&ve>=ce.length&&(ce=void 0),{value:ce&&ce[ve++],done:!ce}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(ce,se){var ge="function"==typeof Symbol&&ce[Symbol.iterator];if(!ge)return ce;var de,ke,ve=ge.call(ce),X=[];try{for(;(void 0===se||se-- >0)&&!(de=ve.next()).done;)X.push(de.value)}catch(tt){ke={error:tt}}finally{try{de&&!de.done&&(ge=ve.return)&&ge.call(ve)}finally{if(ke)throw ke.error}}return X}function re(ce,se,ge){if(ge||2===arguments.length)for(var X,ve=0,de=se.length;ve<de;ve++)(X||!(ve in se))&&(X||(X=Array.prototype.slice.call(se,0,ve)),X[ve]=se[ve]);return ce.concat(X||Array.prototype.slice.call(se))}},8239:(Qe,De,F)=>{"use strict";function g(q,ie,Ee,oe,we,ye,Q){try{var L=q[ye](Q),H=L.value}catch(G){return void Ee(G)}L.done?ie(H):Promise.resolve(H).then(oe,we)}function ue(q){return function(){var ie=this,Ee=arguments;return new Promise(function(oe,we){var ye=q.apply(ie,Ee);function Q(H){g(ye,oe,we,Q,L,"next",H)}function L(H){g(ye,oe,we,Q,L,"throw",H)}Q(void 0)})}}F.d(De,{Z:()=>ue})}},Qe=>{Qe(Qe.s=4595)}]);